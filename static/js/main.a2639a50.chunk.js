(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,t,n){e.exports=n.p+"static/media/screenshot.c4fe95d6.png"},35:function(e,t,n){e.exports=n.p+"static/media/man.1cb9bd25.gif"},36:function(e,t,n){e.exports=n.p+"static/media/smile.b441c2a8.gif"},37:function(e,t,n){e.exports=n.p+"static/media/sun.43de2d59.gif"},38:function(e,t,n){e.exports=n(73)},43:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(29),r=n.n(o),i=(n(43),n(13)),l=n(12),s=n(15),u=n.n(s),m=n(18),d=n(14),E=n(3),f=n(7),v=n(4),_=n(2),b=n(30),O=n.n(b),p=n(31),g=n.n(p);n(55),n(56);function C(e){var t=e.active,n=e.checked,o=e.moving,r=e.onClick,i=e.onDelete,l=e.onDouble,s=e.onNumClick,u=e.num,m=e.image,d=e.onMouseDown,E=Object(a.useCallback)(function(){r(u)},[r,u]);return c.a.createElement("div",{className:"frame ".concat(t?"frame--active":""," ").concat(o?"frame--moving":""),onMouseDown:function(e){d(u,e)},onClick:E},m&&c.a.createElement("img",{alt:"pic",className:"frame__img",src:m}),c.a.createElement("button",{onClick:function(e){e.stopPropagation(),i(u,e)},onMouseDown:function(e){return e.stopPropagation()},className:"delete-action",title:"Delete this frame"}),c.a.createElement("button",{onClick:function(e){e.stopPropagation(),l(u,e)},onMouseDown:function(e){return e.stopPropagation()},className:"copy-action",title:"Duplicate this frame"}),c.a.createElement("button",{onClick:function(e){e.stopPropagation(),s(u,e)},onMouseDown:function(e){return e.stopPropagation()},className:"add-to-animation-action ".concat(n?"":"add-to-animation-action--inactive"),title:"Toggle for preview"},u+1))}C.defaultProps={active:!1,checked:!1,moving:!1};var h=C,k=(n(57),function(e,t){var n=e.getBoundingClientRect(),a=n.top-e.offsetTop;return t-n.y+a}),L=function(e,t){return Math.round((e.clientY-k(t,e.clientY))/t.clientHeight)},y=function(e,t){return Math.floor(e/t)},N=function(e,t,n){var a=y(640,n);return{rectXBegin:Math.floor(e/a)*a,rectYBegin:Math.floor(t/a)*a}},S=function(e,t,n){var a=y(640,n);return{column:Math.floor(e/a),row:Math.floor(t/a)}},j=function(e,t){var n,a=(n=e.target,e.clientY-n.getBoundingClientRect().y),c=function(e){var t=e.target.getBoundingClientRect();return e.clientX-t.x}(e);return N(c,a,t)},A=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16),a:255}:null},R=function(e){return"#".concat("000000".concat((e.r<<16|e.g<<8|e.b).toString(16)).slice(-6))},w=function(e,t,n,a,c,o,r){var i=[[e,t]];function l(e){var t=c.data[e],n=c.data[e+1],a=c.data[e+2],r=c.data[e+3];return t===o.r&&n===o.g&&a===o.b&&r===o.a}function s(e){c.data[e]=r.r,c.data[e+1]=r.g,c.data[e+2]=r.b,c.data[e+3]=r.a}for(;i.length;){for(var u=void 0,m=void 0,d=i.pop(),E=d[0],f=d[1],v=4*(f*n+E);f-- >=0&&l(v);)v-=4*n;for(v+=4*n,f+=1,u=!1,m=!1;f++<a-1&&l(v);)s(v),E>0&&(l(v-4)?u||(i.push([E-1,f]),u=!0):u&&(u=!1)),E<n-1&&(l(v+4)?m||(i.push([E+1,f]),m=!0):m&&(m=!1)),v+=4*n}},T=function(e,t,n,a){var c=e+Math.floor((n-e)/2),o=t+Math.floor((a-t)/2);return e===n&&(c=e),t===a&&(o=t),Math.floor(Math.sqrt((n-c)*(n-c)+(a-o)*(a-o)))},M=function(e,t,n,a){var c=e+Math.floor((n-e)/2),o=t+Math.floor((a-t)/2);return e===n&&(c=e),t===a&&(o=t),{x:c,y:o}},x=function(e,t){return Math.floor(Math.abs(e-t)/2)},P=function(e,t){return Math.floor(Math.abs(e-t)/2)},D=function(e,t,n){return Math.min(Math.max(e,t),n)},I=function(e,t){var n=new Image;return n.src=e,n.addEventListener("load",t),n},F=function(e){return Promise.all(e.map(function(e){return new Promise(function(t){return I(e,function(e){return t(e.target)})})}))},z=function(e){return e%2===0},B=function(e){return!z(e)},U=function(e,t){var n=document.createElement("a");n.setAttribute("href",e),n.setAttribute("download",t),n.click()};function G(e){var t=e.activeFrame,n=e.checkedFrames,o=e.onDelete,r=e.onDouble,i=e.frames,l=e.onAddFrame,s=e.onChange,u=e.onFrameClick,m=e.onNumClick,E=Object(a.useState)(i),v=Object(_.a)(E,2),b=v[0],O=v[1],p=Object(a.useRef)(null),g=Object(a.useRef)(null),C=Object(a.useRef)(null),y=Object(a.useRef)(-1),N=Object(a.useCallback)(function(e){if(null!==g.current&&(0!==e.movementY||0!==e.movementX)){if(!C.current){var t=e.target.cloneNode(!0);C.current=t,e.target.parentElement.appendChild(t),t.style.position="absolute",t.style.zIndex="10"}if(C.current.style.top="".concat(e.clientY-g.current,"px"),y.current=L(e,C.current),!b[y.current]||!b[y.current].moving){y.current=D(y.current,0,b.length-1);var n=b.map(function(e){return Object(f.a)({},e,{moving:!1})});n[y.current]=Object(f.a)({},n[y.current],{moving:!0}),O(n)}}},[b]);Object(a.useEffect)(function(){return document.addEventListener("mousemove",N),function(){return document.removeEventListener("mousemove",N)}},[N]);var S=Object(a.useCallback)(function(e,t){g.current=k(t.target,t.clientY),p.current=e},[]),j=Object(a.useCallback)(function(){if(!C.current)return g.current=null,void(p.current=null);var e=Object(d.a)(b),t=e[p.current],n=e[y.current];e[y.current]=Object(f.a)({},t,{moving:!1}),e[p.current]=Object(f.a)({},n,{moving:!1}),e=e.map(function(e,t){return Object(f.a)({},e,{num:t})}),C.current.parentElement.removeChild(C.current),s(e),g.current=null,p.current=null,C.current=null,y.current=-1},[b,s]);return Object(a.useEffect)(function(){return document.addEventListener("mouseup",j),function(){return document.removeEventListener("mouseup",j)}},[j]),Object(a.useEffect)(function(){O(i)},[i]),c.a.createElement("div",{className:"frame-list-wrapper"},c.a.createElement("div",{className:"frame-list"},b.map(function(e){return c.a.createElement(h,{active:t===e.num,checked:n[e.num],key:e.num,num:e.num,moving:e.moving,image:e.image,onClick:u,onNumClick:m,onDelete:o,onDouble:r,onMouseDown:S})}),c.a.createElement("button",{className:"add-frame-button",onClick:l},"Add a new frame")))}G.defaultProps={};var X=G;n(58);function Y(e){var t=e.active,n=e.onPenSizeAction;return c.a.createElement("div",{className:"pen-size",onClick:n,title:"Pen size from 1 to 4 pixels"},c.a.createElement("div",{className:"pen-size__item pen-size__itemS ".concat(t.isPenSizeAction1?"pen-size__item--active":""," ")},c.a.createElement("div",{"data-size":"1"})),c.a.createElement("div",{className:"pen-size__item pen-size__itemM ".concat(t.isPenSizeAction2?"pen-size__item--active":""," ")},c.a.createElement("div",{"data-size":"2"})),c.a.createElement("div",{className:"pen-size__item pen-size__itemL ".concat(t.isPenSizeAction3?"pen-size__item--active":""," ")},c.a.createElement("div",{"data-size":"3"})),c.a.createElement("div",{className:"pen-size__item pen-size__itemXL ".concat(t.isPenSizeAction4?"pen-size__item--active":""," ")},c.a.createElement("div",{"data-size":"4"})))}Y.defaultProps={active:!1};var K=Y;n(59);var H=function(e){return c.a.createElement("input",Object.assign({className:"color-palette",type:"color"},e))};n(60);function Z(e){var t=e.active,n=e.onDrawAction,a=e.onFillColorAction,o=e.onFullFillColorAction,r=e.onEraseAction,i=e.onStrokeAction,l=e.onChooseColorAction,s=e.onDrawCircleAction,u=e.onDrawRectangleAction,m=e.onDrawFillRectangleAction,d=e.onMirrorPenAction,E=e.onAllPixelsSameColorAction,f=e.onPenAction,v=e.onLightenColorAction,_=e.onDarkenColorAction,b=e.onMoveAction,O=e.onDitheringAction,p=e.onPrimaryColorChange,g=e.onSecondaryColorChange,C=e.onColorChange,h=e.primaryColor,k=e.secondaryColor;return c.a.createElement("div",{className:"tools-wrapper"},c.a.createElement("ul",{className:"tools"},c.a.createElement("li",null,c.a.createElement("div",{className:"tools__item ".concat(t.isDrawAction?"tools__item--active":"")},c.a.createElement("button",{className:"draw-action",onClick:n,title:"Pen tool (P)"})),c.a.createElement("div",{className:"tools__item ".concat(t.isEraseAction?"tools__item--active":"")},c.a.createElement("button",{className:"erase-action",onClick:r,title:"Eraser tool (E)"}))),c.a.createElement("li",null,c.a.createElement("div",{className:"tools__item ".concat(t.isFillColorAction?"tools__item--active":"")},c.a.createElement("button",{className:"fill-color-action",onClick:a,title:"Paint bucket tool (B)"})),c.a.createElement("div",{className:"tools__item ".concat(t.isAllPixelsSameColorAction?"tools__item--active":"")},c.a.createElement("button",{className:"fill-pixels-same-color-action",onClick:E,title:"Paint all pixels at the same color (A)"}))),c.a.createElement("li",null,c.a.createElement("div",{className:"tools__item ".concat(t.isStrokeAction?"tools__item--active":"")},c.a.createElement("button",{className:"stroke-action",onClick:i,title:"Stroke tool (L)"})),c.a.createElement("div",{className:"tools__item ".concat(t.isPenAction?"tools__item--active":"")},c.a.createElement("button",{className:"pen-action",onClick:f,title:"Feather pen tool (D)"}))),c.a.createElement("li",null,c.a.createElement("div",{className:"tools__item ".concat(t.isDrawRectangleAction?"tools__item--active":"")},c.a.createElement("button",{className:"rectangle-action",onClick:u,title:"Rectangle tool (R)"})),c.a.createElement("div",{className:"tools__item ".concat(t.isDrawCircleAction?"tools__item--active":"")},c.a.createElement("button",{className:"circle-action",onClick:s,title:"Circle tool (C). Keep SHIFT for 1 to 1 ratio"}))),c.a.createElement("li",null,c.a.createElement("div",{className:"tools__item ".concat(t.isDrawFillRectangleAction?"tools__item--active":"")},c.a.createElement("button",{className:"fill-rectangle-action",onClick:m,title:"Fill rectangle tool (F)"})),c.a.createElement("div",{className:"tools__item ".concat(t.isFullFillColorAction?"tools__item--active":"")},c.a.createElement("button",{className:"full-fill-color-action",onClick:o,title:"Fill the whole canvas (H)"}))),c.a.createElement("li",null,c.a.createElement("div",{className:"tools__item ".concat(t.isLightenColorAction?"tools__item--active":"")},c.a.createElement("button",{className:"lighten-action",onClick:v,title:"Lighten tool (U)"})),c.a.createElement("div",{className:"tools__item ".concat(t.isDarkenColorAction?"tools__item--active":"")},c.a.createElement("button",{className:"darken-action",onClick:_,title:"Darken tool (I)"}))),c.a.createElement("li",null,c.a.createElement("div",{className:"tools__item ".concat(t.isMoveAction?"tools__item--active":"")},c.a.createElement("button",{className:"move-action",onClick:b,title:"Move tool (M)"})),c.a.createElement("div",{className:"tools__item ".concat(t.isChooseColorAction?"tools__item--active":"")},c.a.createElement("button",{className:"choose-color-action",onClick:l,title:"Color picker (O)"}))),c.a.createElement("li",null,c.a.createElement("div",{className:"tools__item ".concat(t.isDitheringAction?"tools__item--active":"")},c.a.createElement("button",{className:"dithering-action",onClick:O,title:"Dithering tool (T)"})),c.a.createElement("div",{className:"tools__item ".concat(t.isMirrorPenAction?"tools__item--active":"")},c.a.createElement("button",{className:"mirror-action",onClick:d,title:"Vertical mirror tool (V). Keep SHIFT to use horizontal axis"})))),c.a.createElement("div",{className:"color-palette-wrapper"},c.a.createElement("div",{className:"color-palette__primary"},c.a.createElement(H,{onChange:p,value:h,title:"Primary color"})),c.a.createElement("div",{className:"color-palette__secondary"},c.a.createElement(H,{onChange:g,value:k,title:"Secondary color"})),c.a.createElement("button",{className:"color-change",onClick:C,title:"Swap colors (X)"})))}Z.defaultProps={active:!1};var q=Z;n(61);var V=function(e){var t=e.frames,n=e.framesPerSecond,o=e.onFullScreenShow,r=Object(a.useState)(0),i=Object(_.a)(r,2),l=i[0],s=i[1],u=t[l],m=Object(a.useRef)(null);return Object(a.useEffect)(function(){var e=setTimeout(function(){var e=l<t.length-1?l+1:0;s(e)},1e3/n);return function(){return clearTimeout(e)}},[n,l,t]),c.a.createElement("div",{className:"fullscreen-preview",ref:m},c.a.createElement("div",{className:"preview"},u&&u.image?c.a.createElement("img",{className:"frame__img-active",src:u.image,alt:"Frame"}):c.a.createElement("div",{className:"emptyFrame"}),c.a.createElement("button",{onClick:function(e){return o(m.current,e)},onMouseOver:function(){return c.a.createElement("span",{className:"tooltip"},"Full screen preview")},className:"full-screen-action",title:"Full screen preview"})))};n(62);var W=function(e){var t=e.onChange,n=Object(a.useState)(1),o=Object(_.a)(n,2),r=o[0],i=o[1];return c.a.createElement("div",{className:"FPS-wrapper"},c.a.createElement("span",null,r," FPS"),c.a.createElement("input",{type:"range",name:"speed",min:1,max:24,defaultValue:1,onChange:function(e){i(+e.target.value),t(r)}}))};n(63);var J=function(e){var t=Object(a.useRef)(null);return Object(a.useEffect)(function(){t.current=e},[e]),t.current},$=c.a.createContext(null);var Q=function(e){var t=e.active,n=e.children,o=e.className,r=e.clearImage,i=e.imgSrc,l=e.onChange,s=e.onMouseDown,u=e.onMouseMove,m=e.width,d=e.height,E=e.onMouseEnter,f=e.onMouseLeave,v=e.scale,_=Object(a.useRef)(null),b=J(v),O=Object(a.useCallback)(function(){return _.current.getContext("2d").clearRect(0,0,m,d)},[d,m]);return Object(a.useEffect)(function(){var e=function(e){O();var t=e.target,n=_.current.getContext("2d");if(r&&O(),v!==b){var a=n.imageSmoothingEnabled,c=v/b;O(),n.imageSmoothingEnabled=!1,n.drawImage(t,0,0,t.width*c,t.height*c),n.imageSmoothingEnabled=a}else n.drawImage(t,0,0);var o=_.current.toDataURL();i!==o&&l(o)};if(i){var t=I(i,e);return function(){return t.removeEventListener("load",e)}}r&&O()},[O,r,d,i,l,b,v,m]),c.a.createElement("canvas",{className:"canvas\n        ".concat(o,"\n        ").concat(t.isEraseAction?"canvas__erase":"","\n        ").concat(t.isDrawAction?"canvas__draw":"","\n        ").concat(t.isChooseColorAction?"canvas__picker":"","\n        ").concat(t.isFillColorAction?"canvas__fill-color":"","\n        ").concat(t.isMoveAction?"canvas__move":"","\n        "),ref:_,width:"".concat(m,"px"),height:"".concat(d,"px"),onMouseDown:s,onMouseMove:u,onMouseEnter:E,onMouseLeave:f},c.a.createElement($.Provider,{value:_.current},n))},ee=n(1),te=n.n(ee);function ne(e){var t=e.onMouseUp,n=Object(v.a)(e,["onMouseUp"]),c=Object(a.useContext)($),o=Object(a.useRef)(!1),r=Object(a.useCallback)(function(){o.current&&(t(c.toDataURL()),o.current=!o.current)},[t,c]),i=Object(a.useCallback)(function(e){var t=c.getContext("2d"),a=c.getBoundingClientRect(),r=e.clientX-a.left,i=e.clientY-a.top;o.current?(t.lineWidth=n.penSize/8,t.lineTo(r,i),t.strokeStyle=n.currentColor,t.stroke(),t.beginPath(),t.arc(r,i,n.penSize/16,0,2*Math.PI),t.fillStyle=n.currentColor,t.fill(),t.beginPath(),t.moveTo(r,i)):t.beginPath()},[c,n.penSize,n.currentColor]),l=Object(a.useCallback)(function(e){o.current=!o.current,i(e)},[i]);return Object(a.useEffect)(function(){return c?(c.addEventListener("mousemove",i),c.addEventListener("mousedown",l),document.addEventListener("mouseup",r),function(){c.removeEventListener("mousemove",i),c.removeEventListener("mousedown",l),document.removeEventListener("mouseup",r)}):Function.prototype},[c,i,r,l]),null}ne.propTypes={penSize:te.a.number,onMouseDown:te.a.func,currentColor:te.a.string};var ae=ne;function ce(e){var t=e.onMouseUp,n=Object(v.a)(e,["onMouseUp"]),c=Object(a.useContext)($),o=Object(a.useRef)(!1),r=Object(a.useCallback)(function(){o.current&&(t(c.toDataURL()),o.current=!o.current)},[t,c]),i=Object(a.useCallback)(function(e){var t=c.getContext("2d");o.current?(1===e.which?t.fillStyle=n.primaryColor:3===e.which&&(t.fillStyle=n.secondaryColor),t.fillRect(n.x,n.y,n.width,n.height)):t.beginPath()},[c,n.x,n.y,n.width,n.height,n.primaryColor,n.secondaryColor]),l=Object(a.useCallback)(function(e){o.current=!o.current,i(e)},[i]);return Object(a.useEffect)(function(){return c?(c.addEventListener("mousemove",i),c.addEventListener("mousedown",l),document.addEventListener("mouseup",r),function(){c.removeEventListener("mousemove",i),c.removeEventListener("mousedown",l),document.removeEventListener("mouseup",r)}):Function.prototype},[c,i,r,l]),null}ce.propTypes={x:te.a.number,y:te.a.number,width:te.a.number,height:te.a.number,onMouseDown:te.a.func,primaryColor:te.a.string,secondaryColor:te.a.string};var oe=ce;function re(e){var t=e.onMouseUp,n=Object(v.a)(e,["onMouseUp"]),c=Object(a.useContext)($),o=Object(a.useRef)(!1),r=Object(a.useCallback)(function(){o.current&&(t(c.toDataURL()),o.current=!o.current)},[t,c]),i=Object(a.useCallback)(function(){var e=c.getContext("2d");o.current?e.clearRect(n.x,n.y,n.width,n.height):e.beginPath()},[c,n.x,n.y,n.width,n.height]),l=Object(a.useCallback)(function(e){o.current=!o.current,i(e)},[i]);return Object(a.useEffect)(function(){return c?(c.addEventListener("mousemove",i),c.addEventListener("mousedown",l),document.addEventListener("mouseup",r),function(){c.removeEventListener("mousemove",i),c.removeEventListener("mousedown",l),document.removeEventListener("mouseup",r)}):Function.prototype},[c,i,r,l]),null}re.propTypes={x:te.a.number,y:te.a.number,width:te.a.number,height:te.a.number,onMouseDown:te.a.func};var ie=re;function le(e){var t=e.onMouseUp,n=e.currentColor,c=Object(a.useContext)($),o=c.getContext("2d"),r=Object(a.useRef)(!1),i=Object(a.useCallback)(function(){t(c.toDataURL())},[c,t]),l=Object(a.useCallback)(function(e){if(r.current=!r.current,r.current){o.fillStyle=n;for(var t=c.getBoundingClientRect(),a=Math.floor(e.clientX-t.left),i=Math.floor(e.clientY-t.top),l=A(n),s=o.getImageData(0,0,c.width,c.height),u=4*(i*c.width+a),m={r:s.data[u],g:s.data[u+1],b:s.data[u+2],a:s.data[u+3]},d=0;d<s.data.length;d+=4)s.data[d]===m.r&&s.data[d+1]===m.g&&s.data[d+2]===m.b&&s.data[d+3]===m.a&&(s.data[d]=l.r,s.data[d+1]=l.g,s.data[d+2]=l.b,s.data[d+3]=l.a);o.putImageData(s,0,0)}},[c,o,n]),s=Object(a.useCallback)(function(){r.current=!r.current},[]);return Object(a.useEffect)(function(){return c?(c.addEventListener("mousedown",l),c.addEventListener("mouseup",s),c.addEventListener("mouseup",i),function(){c.removeEventListener("mousedown",l),c.removeEventListener("mouseup",s),c.removeEventListener("mouseup",i)}):Function.prototype},[c,i,l,s]),null}le.propTypes={onMouseUp:te.a.func,currentColor:te.a.string};var se=le;function ue(e){var t=e.onMouseUp,n=Object(v.a)(e,["onMouseUp"]),c=Object(a.useContext)($),o=c.getContext("2d"),r=Object(a.useRef)(!1),i=Object(a.useCallback)(function(){t(c.toDataURL())},[c,t]),l=Object(a.useCallback)(function(e){if(r.current=!r.current,r.current){var t=c.getBoundingClientRect(),a=A(n.currentColor),i=Math.floor(e.clientX-t.left),l=Math.floor(e.clientY-t.top),s=o.getImageData(0,0,c.width,c.height),u=4*(l*c.width+i),m={r:s.data[u],g:s.data[u+1],b:s.data[u+2],a:s.data[u+3]};w(i,l,c.width,c.height,s,m,a),o.putImageData(s,0,0)}},[c,o,n.currentColor]),s=Object(a.useCallback)(function(){r.current=!r.current},[]);return Object(a.useEffect)(function(){return c?(c.addEventListener("mousedown",l),c.addEventListener("mouseup",s),c.addEventListener("mouseup",i),function(){c.removeEventListener("mousedown",l),c.removeEventListener("mouseup",s),c.removeEventListener("mouseup",i)}):Function.prototype},[c,i,l,s]),null}ue.propTypes={width:te.a.number,height:te.a.number,currentColor:te.a.string};var me=ue;function de(e){var t=e.onMouseUp,n=e.currentColor,c=Object(a.useContext)($),o=c.getContext("2d"),r=Object(a.useRef)(!1),i=Object(a.useCallback)(function(){t(c.toDataURL())},[c,t]),l=Object(a.useCallback)(function(){r.current=!r.current,r.current&&(o.fillStyle=n,o.fillRect(0,0,c.width,c.height))},[c,o,n]),s=Object(a.useCallback)(function(){r.current=!r.current},[]);return Object(a.useEffect)(function(){return c?(c.addEventListener("mousedown",l),c.addEventListener("mouseup",s),c.addEventListener("mouseup",i),function(){c.removeEventListener("mousedown",l),c.removeEventListener("mouseup",s),c.removeEventListener("mouseup",i)}):Function.prototype},[c,i,l,s]),null}de.propTypes={width:te.a.number,height:te.a.number,currentColor:te.a.string};var Ee=de,fe=function(e,t,n,a,c){for(var o=0,r=t,i=t*t-e*e*t+.25*e*e,l=2*t*t*o,s=2*e*e*r;l<s;)c([o+n,r+a],[-o+n,r+a],[o+n,-r+a],[-o+n,-r+a]),i<0?(o+=1,i=i+(l+=2*t*t)+t*t):(o+=1,r-=1,i=i+(l+=2*t*t)-(s-=2*e*e)+t*t);for(var u=t*t*((o+.5)*(o+.5))+e*e*((r-1)*(r-1))-e*e*t*t;r>=0;)c([o+n,r+a],[-o+n,r+a],[o+n,-r+a],[-o+n,-r+a]),u>0?(r-=1,u=u+e*e-(s-=2*e*e)):(r-=1,o+=1,u=u+(l+=2*t*t)-(s-=2*e*e)+e*e)},ve=function(e,t,n,a){for(var c=0,o=n,r=0,i=1-2*n;o>=0;)a(e+c,t-o),a(e-c,t-o),a(e-c,t+o),a(e+c,t+o),r=2*(i+o)-1,i<0&&r<=0?i+=2*(c+=1)+1:i>0&&r>0?i-=2*(o-=1)+1:(i+=2*((c+=1)-o),o-=1)};function _e(e){var t=e.onMouseUp,n=Object(v.a)(e,["onMouseUp"]),c=Object(a.useState)(0),o=Object(_.a)(c,2),r=o[0],i=o[1],l=Object(a.useState)(0),s=Object(_.a)(l,2),u=s[0],m=s[1],d=Object(a.useContext)($),E=Object(a.useRef)(!1),f=Object(a.useRef)(null),b=Object(a.useCallback)(function(){f.current=null,E.current=!1,t(d.toDataURL())},[t,d]),O=d.getContext("2d"),p=Object(a.useCallback)(function(e){E.current?requestAnimationFrame(function(){i(j(e,n.canvasScale).rectXBegin),m(j(e,n.canvasScale).rectYBegin),f.current&&(O.clearRect(0,0,d.width,d.height),O.putImageData(f.current,0,0));var t=function(e,t,a){isFinite(e)&&isFinite(t)&&function(e,t,a){O.fillStyle=n.currentColor;var c=N(e,t,n.canvasScale),o=c.rectXBegin,r=c.rectYBegin,i=O.getImageData(o,r,1,1).data;i[0]===a.r&&i[1]===a.g&&i[2]===a.b&&i[3]===a.a||O.fillRect(o,r,n.rectSize,n.rectSize)}(e,t,a)};O.strokeStyle=n.currentColor,O.fillStyle=n.currentColor;var a=n.x,c=n.y,o=r,l=u,s=A(n.currentColor),E=T(a,c,o,l),v=M(a,c,o,l),_=x(a,o),b=P(c,l);e.shiftKey?ve(o,l,E,function(e,n){t(e,n,s)}):fe(_,b,v.x,v.y,function(e,n,a,c){t(e[0],e[1],s),t(n[0],n[1],s),t(a[0],a[1],s),t(c[0],c[1],s)})}):O.beginPath()},[n.canvasScale,n.currentColor,n.x,n.y,n.rectSize,O,d.width,d.height,r,u]),g=Object(a.useCallback)(function(e){E.current=!E.current,f.current=O.getImageData(0,0,d.width,d.height),i(j(e,n.canvasScale).rectXBegin),m(j(e,n.canvasScale).rectYBegin)},[d.height,d.width,O,n.canvasScale]);return Object(a.useEffect)(function(){return d?(d.addEventListener("mousemove",p),d.addEventListener("mousedown",g),document.addEventListener("mouseup",b),function(){d.removeEventListener("mousemove",p),d.removeEventListener("mousedown",g),document.removeEventListener("mouseup",b)}):Function.prototype},[d,p,b,g]),null}_e.propTypes={onMouseDown:te.a.func,currentColor:te.a.string,canvasScale:te.a.number,x:te.a.number,y:te.a.number,rectSize:te.a.number};var be=_e,Oe=function(e,t,n,a,c){var o=e,r=t;if(e<n&&t<a){for(;o<n;)c(o,t),o+=1;for(;r<a;)c(o,r),r+=1;for(;o>e;)c(o,r),o-=1;for(;r>t;)c(o,r),r-=1}if(e<n&&t>a){for(;o<n;)c(o,t),o+=1;for(;r>a;)c(o,r),r-=1;for(;o>e;)c(o,r),o-=1;for(;r<t;)c(o,r),r+=1}if(e>n&&t<a){for(;o>n;)c(o,r),o-=1;for(;r<=a;)c(o,r),r+=1;for(;o<e;)c(o,a),o+=1;for(;r>t;)c(o,r),r-=1}if(e>n&&t>a){for(;o>n;)c(o,r),o-=1;for(;r>a;)c(o,r),r-=1;for(;o<e;)c(o,a),o+=1;for(;r<t;)c(o,r),r+=1}};function pe(e){var t=e.onMouseUp,n=Object(v.a)(e,["onMouseUp"]),c=Object(a.useState)(0),o=Object(_.a)(c,2),r=o[0],i=o[1],l=Object(a.useState)(0),s=Object(_.a)(l,2),u=s[0],m=s[1],d=Object(a.useContext)($),E=Object(a.useRef)(!1),f=Object(a.useRef)(null),b=Object(a.useCallback)(function(){f.current=null,E.current=!1,t(d.toDataURL())},[t,d]),O=d.getContext("2d"),p=Object(a.useCallback)(function(e){E.current?requestAnimationFrame(function(){i(j(e,n.canvasScale).rectXBegin),m(j(e,n.canvasScale).rectYBegin),f.current&&(O.clearRect(0,0,d.width,d.height),O.putImageData(f.current,0,0));var t=function(e,t,a){isFinite(e)&&isFinite(t)&&function(e,t,a){O.fillStyle=n.currentColor;var c=N(e,t,n.canvasScale),o=c.rectXBegin,r=c.rectYBegin,i=O.getImageData(o,r,1,1).data;i[0]===a.r&&i[1]===a.g&&i[2]===a.b&&i[3]===a.a||O.fillRect(o,r,n.rectSize,n.rectSize)}(e,t,a)},a=n.x,c=n.y,o=r,l=u,s=A(n.currentColor);Oe(a,c,o,l,function(e,n){t(e,n,s)})}):O.beginPath()},[n.canvasScale,n.x,n.y,n.currentColor,n.rectSize,r,u,O,d.width,d.height]),g=Object(a.useCallback)(function(e){E.current=!0,f.current=O.getImageData(0,0,d.width,d.height),i(j(e,n.canvasScale).rectXBegin),m(j(e,n.canvasScale).rectYBegin)},[d.height,d.width,O,n.canvasScale]);return Object(a.useEffect)(function(){return d?(d.addEventListener("mousemove",p),d.addEventListener("mousedown",g),document.addEventListener("mouseup",b),function(){d.removeEventListener("mousemove",p),d.removeEventListener("mousedown",g),document.removeEventListener("mouseup",b)}):Function.prototype},[d,p,b,g]),null}pe.propTypes={onMouseDown:te.a.func,currentColor:te.a.string,canvasScale:te.a.number,x:te.a.number,y:te.a.number,rectSize:te.a.number};var ge=pe;function Ce(e){var t=e.onMouseUp,n=Object(v.a)(e,["onMouseUp"]),c=Object(a.useState)(0),o=Object(_.a)(c,2),r=o[0],i=o[1],l=Object(a.useState)(0),s=Object(_.a)(l,2),u=s[0],m=s[1],d=Object(a.useContext)($),E=Object(a.useRef)(!1),f=Object(a.useRef)(null),b=Object(a.useCallback)(function(){f.current=null,E.current=!1,t(d.toDataURL())},[t,d]),O=d.getContext("2d"),p=Object(a.useCallback)(function(e){E.current?requestAnimationFrame(function(){i(j(e,n.canvasScale).rectXBegin),m(j(e,n.canvasScale).rectYBegin),f.current&&(O.clearRect(0,0,d.width,d.height),O.putImageData(f.current,0,0)),O.fillStyle=n.primaryColor;var t=n.x,a=n.y,c=r,o=u,l=Math.abs(t-c),s=Math.abs(a-o),E=Math.abs(t-n.rectSize-(c+n.rectSize)),v=Math.abs(c-n.rectSize-(t+n.rectSize)),_=Math.abs(a-n.rectSize-(o+n.rectSize)),b=Math.abs(o-n.rectSize-(a+n.rectSize)),p=Math.min(E,v),g=Math.min(_,b);if(O.fillRect(Math.min(t,c),Math.min(a,o),l,s),l>=3*n.rectSize&&s>=3*n.rectSize){O.fillStyle=n.secondaryColor;var C=Math.min(t+n.rectSize,c+n.rectSize),h=Math.min(a+n.rectSize,o+n.rectSize);O.fillRect(C,h,p,g)}}):O.beginPath()},[n.canvasScale,n.primaryColor,n.x,n.y,n.rectSize,n.secondaryColor,O,r,u,d.width,d.height]),g=Object(a.useCallback)(function(e){E.current=!0,f.current=O.getImageData(0,0,d.width,d.height),i(j(e,n.canvasScale).rectXBegin),m(j(e,n.canvasScale).rectYBegin)},[d.height,d.width,O,n.canvasScale]);return Object(a.useEffect)(function(){return d?(d.addEventListener("mousemove",p),d.addEventListener("mousedown",g),document.addEventListener("mouseup",b),function(){d.removeEventListener("mousemove",p),d.removeEventListener("mousedown",g),document.removeEventListener("mouseup",b)}):Function.prototype},[d,p,b,g]),null}Ce.propTypes={onMouseDown:te.a.func,primaryColor:te.a.string,secondaryColor:te.a.string,canvasScale:te.a.number,x:te.a.number,y:te.a.number,rectSize:te.a.number};var he=Ce;function ke(e){var t=e.onMouseUp,n=Object(v.a)(e,["onMouseUp"]),c=Object(a.useContext)($),o=Object(a.useRef)(!1),r=Object(a.useCallback)(function(){t(c.toDataURL())},[t,c]),i=Object(a.useCallback)(function(e){var t=c.getContext("2d");if(o.current)if(e.shiftKey){var a=e.target.offsetHeight-n.y-n.height;t.fillStyle=n.currentColor,t.strokeStyle=n.currentColor,t.fillRect(n.x,n.y,n.width,n.height),t.fillRect(n.x,a,n.width,n.height)}else{var r=e.target.offsetWidth-n.x-n.width;t.fillStyle=n.currentColor,t.strokeStyle=n.currentColor,t.fillRect(n.x,n.y,n.width,n.height),t.fillRect(r,n.y,n.width,n.height)}else t.beginPath()},[n.x,n.y,n.width,n.height,n.currentColor,o,c]),l=Object(a.useCallback)(function(e){o.current=!o.current,i(e)},[i]);return Object(a.useEffect)(function(){return c?(c.addEventListener("mousemove",i),c.addEventListener("mousedown",l),document.addEventListener("mouseup",l),document.addEventListener("mouseup",r),function(){c.removeEventListener("mousemove",i),c.removeEventListener("mousedown",l),document.removeEventListener("mouseup",l),document.removeEventListener("mouseup",r)}):Function.prototype},[c,i,r,l]),null}ke.propTypes={x:te.a.number,y:te.a.number,width:te.a.number,height:te.a.number,onMouseDown:te.a.func,currentColor:te.a.string};var Le=ke;function ye(e){var t=e.onMouseUp,n=Object(a.useContext)($),c=n.getContext("2d"),o=Object(a.useCallback)(function(e){var a=n.getBoundingClientRect(),o=e.clientX-a.left,r=e.clientY-a.top,i=c.getImageData(0,0,n.width,n.height),l=4*(r*n.width+o),s=i.data[l],u=i.data[l+1],m=i.data[l+2],d=i.data[l+3],E=R({r:s,g:u,b:m,a:d});t(E)},[n,c,t]);return Object(a.useEffect)(function(){return n?(n.addEventListener("mouseup",o),function(){n.removeEventListener("mouseup",o)}):Function.prototype},[n,o]),null}ye.propTypes={onMouseUp:te.a.func};var Ne=ye;function Se(e){var t=e.onMouseUp,n=e.canvasScale,c=e.penSize,o=Object(a.useContext)($),r=o.getContext("2d"),i=o.getBoundingClientRect(),l=Object(a.useRef)(!1),s=Object(a.useCallback)(function(){l.current=!l.current},[]),u=Object(a.useCallback)(function(){l.current=!l.current,t(o.toDataURL())},[o,t]),m=Object(a.useCallback)(function(e){if(l.current){for(var t=Math.floor(e.clientX-i.left),a=Math.floor(e.clientY-i.top),o=N(t,a,n),s=r.getImageData(o.rectXBegin,o.rectYBegin,c,c),u=0;u<s.data.length;u+=4)0!==s.data[u+3]&&(s.data[u]<=245&&(s.data[u]+=5),s.data[u+1]<=245&&(s.data[u+1]+=5),s.data[u+2]<=245&&(s.data[u+2]+=5));r.putImageData(s,o.rectXBegin,o.rectYBegin)}},[n,r,c,i.left,i.top]);return Object(a.useEffect)(function(){return o?(o.addEventListener("mousedown",s),o.addEventListener("mousemove",m),document.addEventListener("mouseup",u),function(){o.removeEventListener("mousedown",s),o.removeEventListener("mousemove",m),document.removeEventListener("mouseup",u)}):Function.prototype},[o,m,u,s]),null}Se.propTypes={onMouseUp:te.a.func};var je=Se;function Ae(e){var t=e.onMouseUp,n=e.canvasScale,c=e.penSize,o=Object(a.useContext)($),r=o.getContext("2d"),i=o.getBoundingClientRect(),l=Object(a.useRef)(!1),s=Object(a.useCallback)(function(){l.current=!l.current},[]),u=Object(a.useCallback)(function(){t(o.toDataURL()),l.current=!l.current},[o,t]),m=Object(a.useCallback)(function(e){if(l.current){for(var t=Math.floor(e.clientX-i.left),a=Math.floor(e.clientY-i.top),o=N(t,a,n),s=r.getImageData(o.rectXBegin,o.rectYBegin,c,c),u=0;u<s.data.length;u+=4)0!==s.data[u+3]&&(s.data[u]>=5&&(s.data[u]-=5),s.data[u+1]>=5&&(s.data[u+1]-=5),s.data[u+2]>=5&&(s.data[u+2]-=5));r.putImageData(s,o.rectXBegin,o.rectYBegin)}},[n,r,c,i.left,i.top]);return Object(a.useEffect)(function(){return o?(o.addEventListener("mousedown",s),o.addEventListener("mousemove",m),document.addEventListener("mouseup",u),function(){o.removeEventListener("mousedown",s),o.removeEventListener("mousemove",m),document.removeEventListener("mouseup",u)}):Function.prototype},[o,m,u,s]),null}Ae.propTypes={onMouseUp:te.a.func};var Re=Ae;function we(e){var t=e.onMouseUp,n=Object(a.useContext)($),c=Object(a.useRef)(!1),o=Object(a.useCallback)(function(){t(n.toDataURL())},[t,n]),r=Object(a.useCallback)(function(e){if(c.current){var t=n.getContext("2d"),a=n.getBoundingClientRect(),o=e.clientX-a.left,r=e.clientY-a.top,i=t.getImageData(0,0,n.width,n.height);t.putImageData(i,o,r)}},[n]),i=Object(a.useCallback)(function(){c.current=!c.current},[]);return Object(a.useEffect)(function(){return n?(n.addEventListener("mousemove",r),n.addEventListener("mousedown",i),document.addEventListener("mouseup",i),document.addEventListener("mouseup",o),function(){n.removeEventListener("mousemove",r),n.removeEventListener("mousedown",i),document.removeEventListener("mouseup",i),document.removeEventListener("mouseup",o)}):Function.prototype},[n,r,o,i]),null}we.propTypes={onMouseDown:te.a.func,currentColor:te.a.string,canvasScale:te.a.number,rectSize:te.a.number};var Te=we;function Me(e){var t=e.onMouseUp,n=Object(v.a)(e,["onMouseUp"]),c=Object(a.useContext)($),o=Object(a.useRef)(!1),r=Object(a.useCallback)(function(){o.current&&(t(c.toDataURL()),o.current=!o.current)},[t,c]),i=Object(a.useCallback)(function(){var e=c.getContext("2d");if(o.current)for(var t=n.penSize/20,a=n.x/20+1,r=n.y/20+1,i=0;i<t;i+=1)for(var l=0;l<t;l+=1){var s=r+i,u=a+l;B(s)&&B(u)||z(s)&&z(u)?e.fillStyle=n.secondaryColor:e.fillStyle=n.primaryColor,e.fillRect(n.x+20*i,n.y+20*l,20,20)}else e.beginPath()},[c,n.penSize,n.primaryColor,n.secondaryColor,n.x,n.y]),l=Object(a.useCallback)(function(e){o.current=!o.current,i(e)},[i]);return Object(a.useEffect)(function(){return c?(c.addEventListener("mousemove",i),c.addEventListener("mousedown",l),document.addEventListener("mouseup",r),function(){c.removeEventListener("mousemove",i),c.removeEventListener("mousedown",l),document.removeEventListener("mouseup",r)}):Function.prototype},[c,i,r,l]),null}Me.propTypes={x:te.a.number,y:te.a.number,penSize:te.a.number,column:te.a.number,row:te.a.number,primaryColor:te.a.string,secondaryColor:te.a.string,image:te.a.any};var xe=Me;n(66);var Pe=function(e){var t=e.onChange,n=e.options,a=e.value;return c.a.createElement("div",{className:"canvas-size"},n.map(function(e){return c.a.createElement("div",{className:"canvas-size__item",key:e},c.a.createElement("input",{checked:a===e,id:"canvas-size__item".concat(e),name:"canvas-size__item",onChange:t,type:"radio",value:e}),c.a.createElement("label",{htmlFor:"canvas-size__item".concat(e)},e,"*",e))}))};n(67);var De=function(e){var t=e.keyMap,n=e.keyboardMap,o=e.onChange,r=Object(a.useRef)(!1),i=function(){r.current=!r.current,r.current?(document.querySelector(".keyboard-shortcuts__button").classList.add("keyboard-shortcuts__button--active"),document.querySelector(".keyboard-shortcuts__list").classList.add("keyboard-shortcuts__list--active")):(document.querySelector(".keyboard-shortcuts__button").classList.remove("keyboard-shortcuts__button--active"),document.querySelector(".keyboard-shortcuts__list").classList.remove("keyboard-shortcuts__list--active"))};return c.a.createElement("div",{className:"keyboard-shortcuts__wrapper"},c.a.createElement("button",{className:"keyboard-shortcuts__button",onClick:i,title:"Keyboard shortcuts"}),c.a.createElement("div",{className:"keyboard-shortcuts__list"},c.a.createElement("ul",{className:"keyboard-shortcuts"},c.a.createElement("li",null,"Tool shortcuts"),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("div",{className:"item__image draw-action"}),c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return o(t.PEN_TOOL)}},n[t.PEN_TOOL]),c.a.createElement("div",{className:"item__description"},"Pen tool")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("div",{className:"item__image erase-action"}),c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return o(t.ERASER_TOOL)}},n[t.ERASER_TOOL]),c.a.createElement("div",{className:"item__description"},"Eraser tool")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("div",{className:"item__image mirror-draw-action"}),c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return o(t.MIRROR_PEN_TOOL)}},n[t.MIRROR_PEN_TOOL]),c.a.createElement("div",{className:"item__description"},"Vertical mirror pen tool")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("div",{className:"item__image fill-color-action"}),c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return o(t.COLOR_BUCKET_TOOL)}},n[t.COLOR_BUCKET_TOOL]),c.a.createElement("div",{className:"item__description"},"Color bucket tool")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("div",{className:"item__image magic-color-bucket-action"}),c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return o(t.MAGIC_COLOR_BUCKET_TOOL)}},n[t.MAGIC_COLOR_BUCKET_TOOL]),c.a.createElement("div",{className:"item__description"},"Magic bucket tool")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("div",{className:"item__image stroke-action"}),c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return o(t.STROKE_TOOL)}},n[t.STROKE_TOOL]),c.a.createElement("div",{className:"item__description"},"Stroke tool")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("div",{className:"item__image rectangle-action"}),c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return o(t.RECTANGLE_TOOL)}},n[t.RECTANGLE_TOOL]),c.a.createElement("div",{className:"item__description"},"Rectangle tool")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("div",{className:"item__image circle-action"}),c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return o(t.CIRCLE_TOOL)}},n[t.CIRCLE_TOOL]),c.a.createElement("div",{className:"item__description"},"Circle tool")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("div",{className:"item__image move-action"}),c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return o(t.MOVE_TOOL)}},n[t.MOVE_TOOL]),c.a.createElement("div",{className:"item__description"},"Move tool")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("div",{className:"item__image lighten-action"}),c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return o(t.LIGHTEN_TOOL)}},n[t.LIGHTEN_TOOL]),c.a.createElement("div",{className:"item__description"},"Lighten tool")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("div",{className:"item__image darken-action"}),c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return o(t.DARKEN_TOOL)}},n[t.DARKEN_TOOL]),c.a.createElement("div",{className:"item__description"},"Darken tool")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("div",{className:"item__image dithering-action"}),c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return o(t.DITHERING_TOOL)}},n[t.DITHERING_TOOL]),c.a.createElement("div",{className:"item__description"},"Dithering tool")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("div",{className:"item__image choose-color-action"}),c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return o(t.COLOR_PICKER_TOOL)}},n[t.COLOR_PICKER_TOOL]),c.a.createElement("div",{className:"item__description"},"Color picker tool")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("div",{className:"item__image pen-action"}),c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return o(t.FEATHER_PEN_TOOL)}},n[t.FEATHER_PEN_TOOL]),c.a.createElement("div",{className:"item__description"},"Feather pen tool")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("div",{className:"item__image fill-rectangle-action"}),c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return o(t.FILL_RECTANGLE_TOOL)}},n[t.FILL_RECTANGLE_TOOL]),c.a.createElement("div",{className:"item__description"},"Fill rectangle tool")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("div",{className:"item__image full-fill-color-action"}),c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return o(t.FILL_COLOR_TOOL)}},n[t.FILL_COLOR_TOOL]),c.a.createElement("div",{className:"item__description"},"Fill color tool"))),c.a.createElement("ul",{className:"keyboard-shortcuts"},c.a.createElement("li",null,"Misc shortcuts"),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return o(t.PEN_SIZE_1)}},n[t.PEN_SIZE_1]),c.a.createElement("div",{className:"item__description"},"Pen size x1")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return o(t.PEN_SIZE_2)}},n[t.PEN_SIZE_2]),c.a.createElement("div",{className:"item__description"},"Pen size x2")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return o(t.PEN_SIZE_3)}},n[t.PEN_SIZE_3]),c.a.createElement("div",{className:"item__description"},"Pen size x3")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return o(t.PEN_SIZE_4)}},n[t.PEN_SIZE_4]),c.a.createElement("div",{className:"item__description"},"Pen size x4")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return o(t.ADD_NEW_FRAME)}},n[t.ADD_NEW_FRAME]),c.a.createElement("div",{className:"item__description"},"Add a new frame")),c.a.createElement("li",{className:"keyboard-shortcuts__item next-block"},c.a.createElement("button",{className:"item__key-code arrow-up"}),c.a.createElement("div",{className:"item__description"},"Select previous frame")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("button",{className:"item__key-code arrow-down"}),c.a.createElement("div",{className:"item__description"},"Select next frame")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("button",{className:"item__key-code keys-combination"},"ctrl+q"),c.a.createElement("div",{className:"item__description"},"Delete frame")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("button",{className:"item__key-code keys-combination"},"ctrl+y"),c.a.createElement("div",{className:"item__description"},"Duplicate frame")),c.a.createElement("li",{className:"keyboard-shortcuts__item next-block"},c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return o(t.CHANGE_COLORS)}},n[t.CHANGE_COLORS]),c.a.createElement("div",{className:"item__description"},"Change colors"))),c.a.createElement("button",{className:"close-window",onClick:i},"X")))};n(68);var Ie=function(e){var t=e.x,n=e.y,a=e.isOverCanvas;return c.a.createElement("div",{className:"cursor-position ".concat(a?"":"cursor-position--hidden")},t," : ",n)},Fe=function(e,t,n,a,c){for(var o=Math.abs(n-e),r=Math.abs(a-t),i=e<n?1:-1,l=t<a?1:-1,s=o-r;e!==n||t!==a;){c(e,t);var u=2*s;u>-r&&(s-=r,e+=i),u<o&&(s+=o,t+=l)}c(n,a)};function ze(e){var t=e.onMouseUp,n=Object(v.a)(e,["onMouseUp"]),c=Object(a.useState)(0),o=Object(_.a)(c,2),r=o[0],i=o[1],l=Object(a.useState)(0),s=Object(_.a)(l,2),u=s[0],m=s[1],d=Object(a.useContext)($),E=Object(a.useRef)(!1),f=Object(a.useRef)(null),b=Object(a.useCallback)(function(){f.current=null,E.current=!1,t(d.toDataURL())},[t,d]),O=d.getContext("2d"),p=Object(a.useCallback)(function(e){E.current?requestAnimationFrame(function(){i(j(e,n.canvasScale).rectXBegin),m(j(e,n.canvasScale).rectYBegin),f.current&&(O.clearRect(0,0,d.width,d.height),O.putImageData(f.current,0,0));var t=function(e,t,a){isFinite(e)&&isFinite(t)&&function(e,t,a){O.strokeStyle=n.currentColor,O.fillStyle=n.currentColor;var c=N(e,t,n.canvasScale),o=c.rectXBegin,r=c.rectYBegin,i=O.getImageData(o,r,1,1).data;i[0]===a.r&&i[1]===a.g&&i[2]===a.b&&i[3]===a.a||O.fillRect(o,r,n.rectSize,n.rectSize)}(e,t,a)};O.strokeStyle=n.currentColor,O.fillStyle=n.currentColor;var a=n.x,c=n.y,o=r,l=u,s=A(n.currentColor);"number"===typeof a&&"number"===typeof c&&Fe(a,c,o,l,function(e,n){t(e,n,s)})}):O.beginPath()},[n.canvasScale,n.currentColor,n.x,n.y,n.rectSize,O,r,u,d.width,d.height]),g=Object(a.useCallback)(function(e){E.current=!0,f.current=O.getImageData(0,0,d.width,d.height),i(j(e,n.canvasScale).rectXBegin),m(j(e,n.canvasScale).rectYBegin)},[d.height,d.width,O,n.canvasScale]);return Object(a.useEffect)(function(){return d?(d.addEventListener("mousemove",p),d.addEventListener("mousedown",g),document.addEventListener("mouseup",b),function(){d.removeEventListener("mousemove",p),d.removeEventListener("mousedown",g),document.removeEventListener("mouseup",b)}):Function.prototype},[d,p,b,g]),null}ze.propTypes={onMouseDown:te.a.func,currentColor:te.a.string,canvasScale:te.a.number,x:te.a.number,y:te.a.number,rectSize:te.a.number};var Be=ze;n(69);var Ue,Ge=function(e){var t=e.onPNGExport,n=e.onPNGSetExport,o=e.onGIFExport,r=e.onResetClick,i=e.onAPNGExport,l=e.onSave,s=Object(a.useRef)(!1);return c.a.createElement("div",{className:"result-export__wrapper"},c.a.createElement("button",{className:"result-export__button",title:"Export",onClick:function(){s.current=!s.current,s.current?(document.querySelector(".result-export__list").classList.add("result-export__list--active"),document.querySelector(".result-export__button").classList.add("result-export__button--active")):(document.querySelector(".result-export__list").classList.remove("result-export__list--active"),document.querySelector(".result-export__button").classList.remove("result-export__button--active"))}}),c.a.createElement("div",{className:"result-export__list"},c.a.createElement("button",{className:"result-export__item png",onClick:t,title:"Download active frame as a PNG file"}),c.a.createElement("button",{className:"result-export__item set-png",onClick:n,title:"Download all frames as PNG files"}),c.a.createElement("button",{className:"result-export__item gif",onClick:o,title:"Download as animated GIF"}),c.a.createElement("button",{className:"result-export__item apng",title:"Download as animated APNG",onClick:i}),c.a.createElement("button",{className:"result-export__item save",title:"Save as .piskel",onClick:l}),c.a.createElement("button",{className:"result-export__item reset",title:"Reset all saves",onClick:r})))};function Xe(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var Ye=[32,64,128],Ke=function(){var e=Object(a.useState)({isPenSizeAction:!1,isDrawAction:!0,isChooseColorAction:!1,isColorPaletteAction:!1,isFillColorAction:!1,isFullFillColorAction:!1,isEraseAction:!1,isPenAction:!1,isStrokeAction:!1,isDrawCircleAction:!1,isDrawRectangleAction:!1,isDrawFillRectangleAction:!1,isMirrorPenAction:!1,isLightenColorAction:!1,isDarkenColorAction:!1,isMoveAction:!1,isDitheringAction:!1,isAllPixelsSameColorAction:!1}),t=Object(_.a)(e,2),n=t[0],c=t[1];return{toggleToolAction:Object(a.useCallback)(function(e){var t=n[e],a=Object(v.a)(n,[e].map(Xe));Object.keys(a).forEach(function(e){a[e]=!1}),a[e]=!t,c(a)},[n]),toolAction:n}},He=function(){var e=Object(a.useState)({isPenSizeAction1:!1,isPenSizeAction:!1}),t=Object(_.a)(e,2),n=t[0],c=t[1];return{togglePenSizeAction:function(e){var t=n[e],a=Object(v.a)(n,[e].map(Xe));Object.keys(a).forEach(function(e){a[e]=!1}),a[e]=!t,c(a)},penSizeAction:n}},Ze=function(e,t){try{return JSON.parse(localStorage.getItem(e))||t}catch(n){return t}},qe=function(e,t){var n=Ze(e,{});n=Object(f.a)({},n,t),localStorage.setItem(e,JSON.stringify(n))},Ve={PEN_SIZE_1:"PEN_SIZE_1",PEN_SIZE_2:"PEN_SIZE_2",PEN_SIZE_3:"PEN_SIZE_3",PEN_SIZE_4:"PEN_SIZE_4",PEN_TOOL:"PEN_TOOL",ERASER_TOOL:"ERASER_TOOL",COLOR_BUCKET_TOOL:"COLOR_BUCKET_TOOL",MAGIC_COLOR_BUCKET_TOOL:"MAGIC_COLOR_BUCKET_TOOL",FILL_COLOR_TOOL:"FILL_COLOR_TOOL",COLOR_PICKER_TOOL:"COLOR_PICKER_TOOL",RECTANGLE_TOOL:"RECTANGLE_TOOL",CIRCLE_TOOL:"CIRCLE_TOOL",LIGHTEN_TOOL:"LIGHTEN_TOOL",DARKEN_TOOL:"DARKEN_TOOL",DITHERING_TOOL:"DITHERING_TOOL",STROKE_TOOL:"STROKE_TOOL",MIRROR_PEN_TOOL:"MIRROR_PEN_TOOL",MOVE_TOOL:"MOVE_TOOL",FEATHER_PEN_TOOL:"FEATHER_PEN_TOOL",ADD_NEW_FRAME:"ADD_NEW_FRAME",CHANGE_COLORS:"CHANGE_COLORS",FILL_RECTANGLE_TOOL:"FILL_RECTANGLE_TOOL"},We=(Ue={},Object(E.a)(Ue,Ve.PEN_TOOL,"p"),Object(E.a)(Ue,Ve.ERASER_TOOL,"e"),Object(E.a)(Ue,Ve.COLOR_BUCKET_TOOL,"b"),Object(E.a)(Ue,Ve.MAGIC_COLOR_BUCKET_TOOL,"a"),Object(E.a)(Ue,Ve.COLOR_PICKER_TOOL,"o"),Object(E.a)(Ue,Ve.RECTANGLE_TOOL,"r"),Object(E.a)(Ue,Ve.CIRCLE_TOOL,"c"),Object(E.a)(Ue,Ve.LIGHTEN_TOOL,"u"),Object(E.a)(Ue,Ve.DARKEN_TOOL,"i"),Object(E.a)(Ue,Ve.DITHERING_TOOL,"t"),Object(E.a)(Ue,Ve.STROKE_TOOL,"l"),Object(E.a)(Ue,Ve.MIRROR_PEN_TOOL,"v"),Object(E.a)(Ue,Ve.MOVE_TOOL,"m"),Object(E.a)(Ue,Ve.PEN_SIZE_1,"1"),Object(E.a)(Ue,Ve.PEN_SIZE_2,"2"),Object(E.a)(Ue,Ve.PEN_SIZE_3,"3"),Object(E.a)(Ue,Ve.PEN_SIZE_4,"4"),Object(E.a)(Ue,Ve.FEATHER_PEN_TOOL,"d"),Object(E.a)(Ue,Ve.CHANGE_COLORS,"x"),Object(E.a)(Ue,Ve.ADD_NEW_FRAME,"n"),Object(E.a)(Ue,Ve.FILL_RECTANGLE_TOOL,"f"),Object(E.a)(Ue,Ve.FILL_COLOR_TOOL,"h"),Ue),Je=function(e){var t=window.prompt("Type a new key");if(-1!==Object.values(We).indexOf(t)){var n=window.confirm("This key has already established. Change it anyway?"),a=Object.keys(We).find(function(e){return We[e]===t});n?We[a]="?":We[e]=We[a]}We[e]=t},$e=[{num:0}];var Qe=function(){var e=Object(a.useState)(1),t=Object(_.a)(e,2),n=t[0],o=t[1],r=Object(a.useState)($e),l=Object(_.a)(r,2),s=l[0],E=l[1],v=J(s),b=Object(a.useState)(0),p=Object(_.a)(b,2),C=p[0],h=p[1],k=J(C),L=s.map(function(e){return e.num}),N={};L.forEach(function(e){N[e]=!0});var A=Object(a.useState)(N),R=Object(_.a)(A,2),w=R[0],T=R[1],M=Ke(),x=M.toggleToolAction,P=M.toolAction,D=He(),I=D.togglePenSizeAction,z=D.penSizeAction,B=Object(a.useState)(20),G=Object(_.a)(B,2),Y=G[0],H=G[1],Z=Object(a.useState)("#000000"),$=Object(_.a)(Z,2),ee=$[0],te=$[1],ne=Object(a.useState)("#FFFFFF"),ce=Object(_.a)(ne,2),re=ce[0],le=ce[1],ue=Object(a.useState)(32),de=Object(_.a)(ue,2),fe=de[0],ve=de[1],_e=Object(a.useState)({rectXBegin:null,rectYBegin:null}),Oe=Object(_.a)(_e,2),pe=Oe[0],Ce=Oe[1],ke=Object(a.useState)({rectXBegin:0,rectYBegin:0}),ye=Object(_.a)(ke,2),Se=ye[0],Ae=ye[1],we=Object(a.useState)(y(640,fe)),Me=Object(_.a)(we,2),Fe=Me[0],ze=Me[1],Ue=Object(a.useState)(!1),Xe=Object(_.a)(Ue,2),Qe=Xe[0],et=Xe[1],tt=Object(a.useCallback)(function(){E($e),T({0:!0}),h(0),H(20),I("isPenSizeAction1"),ve(32),x("isDrawAction"),localStorage.removeItem("appstate")},[I,x]);Object(a.useEffect)(function(){var e=Ze("appstate",{}),t=e.frames,n=e.framesForPreview,a=e.activeFrame,c=e.penSize,o=e.canvasScale,r=e.activeToolAction;t&&E(t),n&&T(n),a&&h(a),c?(H(c),I("isPenSizeAction".concat(c/Fe))):I("isPenSizeAction".concat(Y/Fe)),o&&ve(o),r&&x(r)},[]);var nt=Object(a.useCallback)(function(){var e=Object.keys(P).find(function(e){return P[e]});qe("appstate",{frames:s,framesForPreview:w,activeFrame:C,penSize:Y,canvasScale:fe,activeToolAction:e})},[C,fe,s,w,Y,P]);Object(a.useEffect)(function(){return window.addEventListener("beforeunload",nt),function(){return window.removeEventListener("beforeunload",nt)}},[nt]);var at=Object(a.useCallback)(function(e){return E(e)},[]),ct=Object(a.useCallback)(function(){var e=s.length,t=s.slice();t.push({num:e}),E(t),h(e);var n=Object.assign({},w);n[e]=!0,T(n)},[s,w]),ot=Object(a.useCallback)(function(e){var t=Object(d.a)(s);if(t.splice(e,1),0===(t=t.map(function(e,t){return Object(f.a)({},e,{num:t})})).length&&t.push({num:0}),w[e]){var n=Object.assign({},w);delete n[e],Object.keys(n).forEach(function(t){t>e&&(n[t-1]=n[t],delete n[t])}),E(t),T(n),h(C-1)}},[C,s,w]),rt=Object(a.useCallback)(function(e){var t=Object(d.a)(s);t.splice(e,0,t[e]),t=t.map(function(e,t){return Object(f.a)({},e,{num:t})});var n=Object.assign({},w);Object.keys(n).forEach(function(t){t>e&&(n[+t+1]=n[+t+2],n[+t+1]=!0)}),n[e+1]=!0,E(t),h(e+1),T(n)},[s,w]),it=Object(a.useCallback)(function(e){var t=Object.assign({},w);t[e]?delete t[e]:t[e]=!0,T(t)},[w]),lt=Object(a.useCallback)(function(){var e=ee;te(re),le(e)},[ee,re]);Object(a.useEffect)(function(){var e=function(e){e.key===We.PEN_SIZE_1&&(I("isPenSizeAction1"),H(Fe)),e.key===We.PEN_SIZE_2&&(I("isPenSizeAction2"),H(2*Fe)),e.key===We.PEN_SIZE_3&&(I("isPenSizeAction3"),H(3*Fe)),e.key===We.PEN_SIZE_4&&(I("isPenSizeAction4"),H(4*Fe)),e.key===We.PEN_TOOL&&x("isDrawAction"),e.key===We.MIRROR_PEN_TOOL&&x("isMirrorPenAction"),e.key===We.ERASER_TOOL&&x("isEraseAction"),e.key===We.COLOR_BUCKET_TOOL&&x("isFillColorAction"),e.key===We.MAGIC_COLOR_BUCKET_TOOL&&x("isAllPixelsSameColorAction"),e.key===We.STROKE_TOOL&&x("isStrokeAction"),e.key===We.RECTANGLE_TOOL&&x("isDrawRectangleAction"),e.key===We.CIRCLE_TOOL&&x("isDrawCircleAction"),e.key===We.MOVE_TOOL&&x("isMoveAction"),e.key===We.LIGHTEN_TOOL&&x("isLightenColorAction"),e.key===We.DARKEN_TOOL&&x("isDarkenColorAction"),e.key===We.DITHERING_TOOL&&x("isDitheringAction"),e.key===We.COLOR_PICKER_TOOL&&x("isChooseColorAction"),e.key===We.FEATHER_PEN_TOOL&&x("isPenAction"),e.key===We.ADD_NEW_FRAME&&ct(),"q"===e.key&&e.ctrlKey&&ot(C),"y"===e.key&&e.ctrlKey&&rt(C),"ArrowUp"===e.key&&C>=1&&h(C-1),"ArrowDown"===e.key&&C<s.length-1&&h(C+1),e.key===We.CHANGE_COLORS&&lt(),e.key===We.FILL_RECTANGLE_TOOL&&x("isDrawFillRectangleAction"),e.key===We.FILL_COLOR_TOOL&&x("isFullFillColorAction")};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}},[C,ct,lt,ot,rt,s.length,Fe,I,x]);var st=function(e){var t=s.slice();t[C]=Object(f.a)({},t[C],{image:e}),E(t)},ut=Object(a.useCallback)(function(e){var t=s.slice();t[C]=Object(f.a)({},t[C],{image:e}),E(t)},[C,s]);return c.a.createElement("div",{className:"wrapper"},c.a.createElement("header",null,c.a.createElement(i.b,{className:"link-to-landing-page",to:"/"},c.a.createElement("h1",null,"PISKEL CLONE"))),c.a.createElement("main",null,c.a.createElement("aside",{className:"sidebar-left"},c.a.createElement(K,{active:z,onPenSizeAction:function(e){I("isPenSizeAction".concat(e.target.getAttribute("data-size"))),H(Fe*+e.target.getAttribute("data-size"))}}),c.a.createElement(q,{active:P,onDrawAction:function(){x("isDrawAction")},onFillColorAction:function(){x("isFillColorAction")},onFullFillColorAction:function(){x("isFullFillColorAction")},onEraseAction:function(){x("isEraseAction")},onStrokeAction:function(){x("isStrokeAction")},onChooseColorAction:function(){x("isChooseColorAction")},onDrawCircleAction:function(){x("isDrawCircleAction")},onDrawRectangleAction:function(){x("isDrawRectangleAction")},onDrawFillRectangleAction:function(){x("isDrawFillRectangleAction")},onMirrorPenAction:function(){x("isMirrorPenAction")},onLightenColorAction:function(){x("isLightenColorAction")},onDarkenColorAction:function(){x("isDarkenColorAction")},onMoveAction:function(){x("isMoveAction")},onDitheringAction:function(){x("isDitheringAction")},onPenAction:function(){x("isPenAction")},onAllPixelsSameColorAction:function(){x("isAllPixelsSameColorAction")},onPrimaryColorChange:function(e){return te(e.target.value)},onSecondaryColorChange:function(e){return le(e.target.value)},onColorChange:lt,primaryColor:ee,secondaryColor:re}),c.a.createElement(X,{activeFrame:C,checkedFrames:w,frames:s,onAddFrame:ct,onDelete:ot,onDouble:rt,onChange:at,onFrameClick:function(e){return h(e)},onNumClick:it}),c.a.createElement(De,{onChange:Je,keyMap:Ve,keyboardMap:We})),c.a.createElement("div",{className:"content"},c.a.createElement("div",{className:"top-canvas"},s[C]&&c.a.createElement(Q,{clearImage:k!==C||s[C].image!==v[k].image,width:640,height:640,active:P,imgSrc:s[C].image,name:"top-canvas",onChange:ut,onMouseDown:function(e){var t=j(e,fe);Ce(t),Ae(t)},onMouseMove:function(e){Ae(j(e,fe))},onMouseEnter:function(){et(!0)},onMouseLeave:function(){et(!1)},scale:1/(fe/32)},P.isDrawAction&&c.a.createElement(oe,{onMouseUp:st,primaryColor:ee,secondaryColor:re,x:Se.rectXBegin,y:Se.rectYBegin,width:Y,height:Y}),P.isEraseAction&&c.a.createElement(ie,{onMouseUp:st,x:Se.rectXBegin,y:Se.rectYBegin,width:Y,height:Y}),P.isStrokeAction&&c.a.createElement(Be,{onMouseUp:st,currentColor:ee,canvasScale:fe,x:pe.rectXBegin,y:pe.rectYBegin,rectSize:Y}),P.isDrawCircleAction&&c.a.createElement(be,{onMouseUp:st,currentColor:ee,canvasScale:fe,x:pe.rectXBegin,y:pe.rectYBegin,rectSize:Y}),P.isDrawRectangleAction&&c.a.createElement(ge,{onMouseUp:st,currentColor:ee,canvasScale:fe,x:pe.rectXBegin,y:pe.rectYBegin,rectSize:Y}),P.isDrawFillRectangleAction&&c.a.createElement(he,{onMouseUp:st,primaryColor:ee,secondaryColor:re,canvasScale:fe,x:pe.rectXBegin,y:pe.rectYBegin,rectSize:Y}),P.isMirrorPenAction&&c.a.createElement(Le,{onMouseUp:st,currentColor:ee,x:Se.rectXBegin,y:Se.rectYBegin,width:Y,height:Y}),P.isPenAction&&c.a.createElement(ae,{onMouseUp:st,penSize:Y,currentColor:ee}),P.isFillColorAction&&c.a.createElement(me,{onMouseUp:st,currentColor:ee}),P.isFullFillColorAction&&c.a.createElement(Ee,{onMouseUp:st,currentColor:ee}),P.isChooseColorAction&&c.a.createElement(Ne,{onMouseUp:function(e){return te(e)}}),P.isLightenColorAction&&c.a.createElement(je,{onMouseUp:st,canvasScale:fe,penSize:Y}),P.isDarkenColorAction&&c.a.createElement(Re,{onMouseUp:st,canvasScale:fe,penSize:Y}),P.isMoveAction&&c.a.createElement(Te,{onMouseUp:st,image:s[C].image}),P.isDitheringAction&&c.a.createElement(xe,{onMouseUp:st,primaryColor:ee,secondaryColor:re,image:s[C].image,x:Se.rectXBegin,y:Se.rectYBegin,penSize:Y,column:S(Se.rectXBegin,Se.rectYBegin,fe).column,row:S(Se.rectXBegin,Se.rectYBegin,fe).row}),P.isAllPixelsSameColorAction&&c.a.createElement(se,{onMouseUp:st,currentColor:ee})))),c.a.createElement("aside",{className:"sidebar-right"},c.a.createElement(V,{frames:s.filter(function(e){return w[e.num]}),framesPerSecond:n,onFullScreenShow:function(e){return e.requestFullscreen()}}),c.a.createElement(W,{onChange:function(e){return o(e)}}),c.a.createElement(Ge,{onPNGExport:function(){var e=document.createElement("a");e.setAttribute("href",s[C].image),e.setAttribute("download","canvasImage"),e.click()},onPNGSetExport:function(){var e=s.filter(function(e){return w[e.num]}).map(function(e){return e.image}),t=document.createElement("a");e.forEach(function(e){t.setAttribute("href",e),t.setAttribute("download","canvasImage"),t.click()})},onGIFExport:Object(m.a)(u.a.mark(function e(){var t,a,c,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.filter(function(e){return w[e.num]}).map(function(e){return e.image}),a=new O.a({width:640,height:640}),(c=document.createElement("canvas")).width=640,c.height=640,(o=c.getContext("2d")).fillStyle="#fff",e.next=9,F(t);case 9:e.sent.forEach(function(e){o.fillRect(0,0,640,640),o.drawImage(e,0,0),a.addFrame(o,{copy:!0,delay:1e3/n})}),a.on("finished",function(e){U(URL.createObjectURL(e),"New Piskel")}),a.render();case 13:case"end":return e.stop()}},e)})),onAPNGExport:Object(m.a)(u.a.mark(function e(){var t,a,c,o,r,i,l,m;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.filter(function(e){return w[e.num]}).map(function(e){return e.image}),(a=document.createElement("canvas")).width=640,a.height=640,(c=a.getContext("2d")).fillStyle="#fff",e.next=8,F(t);case 8:o=e.sent,r=o.map(function(e){return c.fillRect(0,0,640,640),c.drawImage(e,0,0),c.getImageData(0,0,640,640).data.buffer}),i=g.a.encode(r,640,640,0,r.map(function(){return 1e3/n})),l=new Blob([i],{type:"image/png"}),m=URL.createObjectURL(l),U(m,"Piskel.png");case 14:case"end":return e.stop()}},e)})),onResetClick:tt}),c.a.createElement(Pe,{onChange:function(e){var t=+e.target.value,n=t/fe;ve(t),ze(y(640,t)),H(Y/n)},options:Ye,value:fe}),c.a.createElement(Ie,{isOverCanvas:Qe,x:S(Se.rectXBegin,Se.rectYBegin,fe).column+1,y:Math.min(S(Se.rectXBegin,Se.rectYBegin,fe).row+1,fe)}))))},et=(n(72),n(34)),tt=n.n(et),nt=n(35),at=n.n(nt),ct=n(36),ot=n.n(ct),rt=n(37),it=n.n(rt);var lt=function(){return c.a.createElement("div",{className:"landing-page__wrapper"},c.a.createElement("header",null,c.a.createElement("h1",null,"PISKEL CLONE")),c.a.createElement("main",{className:"container"},c.a.createElement("div",{className:"screenshot__wrapper"},c.a.createElement("img",{className:"screenshot",src:tt.a,alt:"piskel clone"}),c.a.createElement("div",{className:"screenshot__description"},"PISKEL CLONE is an editor for animated sprites and pixel art"),c.a.createElement("button",{className:"link-to-editor"},c.a.createElement(i.b,{to:"/draw"},"Create Sprite"))),c.a.createElement("div",{className:"animation__wrapper"},c.a.createElement("h3",{className:"animation__title"},"EXAMPLE SPRITES"),c.a.createElement("div",{className:"animation__example-wrapper"},c.a.createElement("div",{className:"animation__example animation__example-1"},c.a.createElement("img",{src:at.a,alt:"animation example"})),c.a.createElement("div",{className:"animation__example animation__example-2"},c.a.createElement("img",{src:ot.a,alt:"animation example"})),c.a.createElement("div",{className:"animation__example animation__example-3"},c.a.createElement("img",{src:it.a,alt:"animation example"})))),c.a.createElement("div",{className:"functionality"},c.a.createElement("ul",{className:"functionality__list"},c.a.createElement("li",{className:"functionality__header"},c.a.createElement("span",null,"TOOLS")),c.a.createElement("li",null,"Pen"),c.a.createElement("li",null,"Eraser"),c.a.createElement("li",null,"Full color bucket"),c.a.createElement("li",null,"Paint all pixels at the same color"),c.a.createElement("li",null,"Line"),c.a.createElement("li",null,"Ellipse (hold SHIFT to draw circle)"),c.a.createElement("li",null,"Rectangle"),c.a.createElement("li",null,"Filled rectangle"),c.a.createElement("li",null,"Lighten color"),c.a.createElement("li",null,"Darken color"),c.a.createElement("li",null,"Dithering"),c.a.createElement("li",null,"Vertical mirror pen (hold SHIFT to use horizontal mirror pen)"),c.a.createElement("li",null,"Color picker"),c.a.createElement("li",null,"Feather pen"),c.a.createElement("li",null,"Changing primary and secondary colors")),c.a.createElement("ul",{className:"functionality__list"},c.a.createElement("li",{className:"functionality__header"},c.a.createElement("span",null,"FRAME MANAGEMENT")),c.a.createElement("li",null,"Ability to add/delete a frame"),c.a.createElement("li",null,"Ability to reorder a frame via Drag and Drop"),c.a.createElement("li",null,"Ability to duplicate a frame"),c.a.createElement("li",{className:"functionality__header"},c.a.createElement("span",null,"KEYBOARD SHORTCUTS")),c.a.createElement("li",null,"All actions are available via keyboard shortcuts"),c.a.createElement("li",null,"Modal window to change keyboard shortcuts"),c.a.createElement("li",{className:"functionality__header"},c.a.createElement("span",null,"PREVIEW")),c.a.createElement("li",null,"Full screen mode"),c.a.createElement("li",{className:"functionality__header"},c.a.createElement("span",null,"EXPORT")),c.a.createElement("li",null,"Single frame as .png"),c.a.createElement("li",null,"One by one frames as .png"),c.a.createElement("li",null,"Result as .gif"),c.a.createElement("li",null,"Result as .apng"),c.a.createElement("li",{className:"functionality__header"},c.a.createElement("span",null,"SAVING")),c.a.createElement("li",null,"Saving user session in localstorage")))),c.a.createElement("footer",null,c.a.createElement("div",{className:"author__info"},"Developed by ",c.a.createElement("a",{href:"https://github.com/alexalizurchik"},"Aleksandrina Lizurchik"))))},st=function(){return c.a.createElement(i.a,{basename:"/piskel-clone-site"},c.a.createElement(l.a,{path:"/",exact:!0,component:lt}),c.a.createElement(l.a,{path:"/draw",exact:!0,component:Qe}))};r.a.render(c.a.createElement(st,null),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.a2639a50.chunk.js.map