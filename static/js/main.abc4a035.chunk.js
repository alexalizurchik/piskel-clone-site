(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,t,n){e.exports=n.p+"static/media/screenshot.c4fe95d6.png"},36:function(e,t,n){e.exports=n.p+"static/media/man.1cb9bd25.gif"},37:function(e,t,n){e.exports=n.p+"static/media/smile.b441c2a8.gif"},38:function(e,t,n){e.exports=n.p+"static/media/sun.43de2d59.gif"},39:function(e,t,n){e.exports=n(77)},44:function(e,t,n){},56:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(30),r=n.n(o),i=(n(44),n(13)),l=n(12),s=n(15),u=n.n(s),m=n(18),d=n(14),E=n(4),f=n(7),v=n(3),_=n(2),b=n(31),O=n.n(b),p=n(32),g=n.n(p);n(56),n(57),n(58),n(59);function C(e){var t=e.active,n=e.checked,o=e.moving,r=e.hasDeleteButton,i=e.onClick,l=e.onDelete,s=e.onDouble,u=e.onNumClick,m=e.num,d=e.image,E=e.onMouseDown,f=Object(a.useCallback)(function(){i(m)},[i,m]);return c.a.createElement("div",{className:"frame ".concat(t?"frame--active":""," ").concat(o?"frame--moving":""),onMouseDown:function(e){E(m,e)},onClick:f},d&&c.a.createElement("img",{alt:"pic",className:"frame__img",src:d}),c.a.createElement("button",{onClick:function(e){e.stopPropagation(),l(m,e)},onMouseDown:function(e){return e.stopPropagation()},className:"delete-action ".concat(r?"":"delete-action--hidden"),title:"Delete this frame"}),c.a.createElement("button",{onClick:function(e){e.stopPropagation(),s(m,e)},onMouseDown:function(e){return e.stopPropagation()},className:"copy-action",title:"Duplicate this frame"}),c.a.createElement("button",{onClick:function(e){e.stopPropagation(),u(m,e)},onMouseDown:function(e){return e.stopPropagation()},className:"add-to-animation-action ".concat(n?"":"add-to-animation-action--inactive"),title:"Toggle for preview"},m+1))}C.defaultProps={active:!1,checked:!1,moving:!1,hasDeleteButton:!0};var h=C,k=(n(60),function(e,t){var n=e.getBoundingClientRect(),a=n.top-e.offsetTop;return t-n.y+a}),y=function(e){var t=e.target.getBoundingClientRect();return e.clientX-t.x},L=function(e,t){return t-e.getBoundingClientRect().y},N=function(e,t){return Math.round((e.clientY-k(t,e.clientY))/t.clientHeight)},S=function(e,t){return Math.floor(e/t)},j=function(e,t,n){var a=S(640,n);return{rectXBegin:Math.floor(e/a)*a,rectYBegin:Math.floor(t/a)*a}},A=function(e,t,n){var a=S(640,n);return{column:Math.floor(e/a),row:Math.floor(t/a)}},w=function(e,t){var n=L(e.target,e.clientY),a=y(e);return j(a,n,t)},R=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16),a:255}:null},T=function(e){return"#".concat("000000".concat((e.r<<16|e.g<<8|e.b).toString(16)).slice(-6))},M=function(e,t,n,a,c,o,r){var i=[[e,t]];function l(e){var t=c.data[e],n=c.data[e+1],a=c.data[e+2],r=c.data[e+3];return t===o.r&&n===o.g&&a===o.b&&r===o.a}function s(e){c.data[e]=r.r,c.data[e+1]=r.g,c.data[e+2]=r.b,c.data[e+3]=r.a}for(;i.length;){for(var u=void 0,m=void 0,d=i.pop(),E=d[0],f=d[1],v=4*(f*n+E);f-- >=0&&l(v);)v-=4*n;for(v+=4*n,f+=1,u=!1,m=!1;f++<a-1&&l(v);)s(v),E>0&&(l(v-4)?u||(i.push([E-1,f]),u=!0):u&&(u=!1)),E<n-1&&(l(v+4)?m||(i.push([E+1,f]),m=!0):m&&(m=!1)),v+=4*n}},D=function(e,t,n,a){var c=e+Math.floor((n-e)/2),o=t+Math.floor((a-t)/2);return e===n&&(c=e),t===a&&(o=t),Math.floor(Math.sqrt((n-c)*(n-c)+(a-o)*(a-o)))},x=function(e,t,n,a){var c=e+Math.floor((n-e)/2),o=t+Math.floor((a-t)/2);return e===n&&(c=e),t===a&&(o=t),{x:c,y:o}},P=function(e,t){return Math.floor(Math.abs(e-t)/2)},I=function(e,t){return Math.floor(Math.abs(e-t)/2)},F=function(e,t,n){return Math.min(Math.max(e,t),n)},z=function(e,t){var n=new Image;return n.src=e,n.addEventListener("load",t),n},B=function(e){return Promise.all(e.map(function(e){return new Promise(function(t){return z(e,function(e){return t(e.target)})})}))},U=function(e){return e%2===0},G=function(e){return!U(e)},Y=function(e,t){var n=document.createElement("a");n.setAttribute("href",e),n.setAttribute("download",t),n.click()},X=function(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,".concat(encodeURIComponent(e))),n.setAttribute("download",t),n.click()};function K(e){var t=e.activeFrame,n=e.checkedFrames,o=e.onDelete,r=e.onDouble,i=e.frames,l=e.onAddFrame,s=e.onChange,u=e.onFrameClick,m=e.onNumClick,E=Object(a.useState)(i),v=Object(_.a)(E,2),b=v[0],O=v[1],p=Object(a.useRef)(null),g=Object(a.useRef)(null),C=Object(a.useRef)(null),y=Object(a.useRef)(-1),L=Object(a.useCallback)(function(e){if(null!==g.current&&(0!==e.movementY||0!==e.movementX)){if(!C.current){var t=e.target.cloneNode(!0);C.current=t,e.target.parentElement.appendChild(t),t.style.position="absolute",t.style.zIndex="10"}if(C.current.style.top="".concat(e.clientY-g.current,"px"),y.current=N(e,C.current),!b[y.current]||!b[y.current].moving){y.current=F(y.current,0,b.length-1);var n=b.map(function(e){return Object(f.a)({},e,{moving:!1})});n[y.current]=Object(f.a)({},n[y.current],{moving:!0}),O(n)}}},[b]);Object(a.useEffect)(function(){return document.addEventListener("mousemove",L),function(){return document.removeEventListener("mousemove",L)}},[L]);var S=Object(a.useCallback)(function(e,t){g.current=k(t.target,t.clientY),p.current=e},[]),j=Object(a.useCallback)(function(){if(!C.current)return g.current=null,void(p.current=null);var e=Object(d.a)(b),t=e[p.current],n=e[y.current];e[y.current]=Object(f.a)({},t,{moving:!1}),e[p.current]=Object(f.a)({},n,{moving:!1}),e=e.map(function(e,t){return Object(f.a)({},e,{num:t})}),C.current.parentElement.removeChild(C.current),s(e),g.current=null,p.current=null,C.current=null,y.current=-1},[b,s]);Object(a.useEffect)(function(){return document.addEventListener("mouseup",j),function(){return document.removeEventListener("mouseup",j)}},[j]),Object(a.useEffect)(function(){O(i)},[i]);var A=b.length>1;return c.a.createElement("div",{className:"frame-list-wrapper"},c.a.createElement("div",{className:"frame-list"},b.map(function(e){return c.a.createElement(h,{active:t===e.num,checked:n[e.num],key:e.num,num:e.num,hasDeleteButton:A,moving:e.moving,image:e.image,onClick:u,onNumClick:m,onDelete:o,onDouble:r,onMouseDown:S})}),c.a.createElement("button",{className:"add-frame-button",onClick:l},"Add a new frame")))}K.defaultProps={};var H=K;n(61);function Z(e){var t=e.active,n=e.onPenSizeAction;return c.a.createElement("div",{className:"pen-size",onClick:n,title:"Pen size from 1 to 4 pixels"},c.a.createElement("div",{className:"pen-size__item pen-size__itemS ".concat(t.isPenSizeAction1?"pen-size__item--active":""," ")},c.a.createElement("div",{"data-size":"1"})),c.a.createElement("div",{className:"pen-size__item pen-size__itemM ".concat(t.isPenSizeAction2?"pen-size__item--active":""," ")},c.a.createElement("div",{"data-size":"2"})),c.a.createElement("div",{className:"pen-size__item pen-size__itemL ".concat(t.isPenSizeAction3?"pen-size__item--active":""," ")},c.a.createElement("div",{"data-size":"3"})),c.a.createElement("div",{className:"pen-size__item pen-size__itemXL ".concat(t.isPenSizeAction4?"pen-size__item--active":""," ")},c.a.createElement("div",{"data-size":"4"})))}Z.defaultProps={active:!1};var q=Z;n(62);var V=function(e){return c.a.createElement("input",Object.assign({className:"color-palette",type:"color"},e))};n(63);function W(e){var t=e.active,n=e.onDrawAction,a=e.onFillColorAction,o=e.onDrawTriangleAction,r=e.onEraseAction,i=e.onStrokeAction,l=e.onChooseColorAction,s=e.onDrawCircleAction,u=e.onDrawRectangleAction,m=e.onDrawFillRectangleAction,d=e.onMirrorPenAction,E=e.onAllPixelsSameColorAction,f=e.onPenAction,v=e.onLightenColorAction,_=e.onDarkenColorAction,b=e.onMoveAction,O=e.onDitheringAction,p=e.onPrimaryColorChange,g=e.onSecondaryColorChange,C=e.onColorChange,h=e.primaryColor,k=e.secondaryColor;return c.a.createElement("div",{className:"tools-wrapper"},c.a.createElement("ul",{className:"tools"},c.a.createElement("li",null,c.a.createElement("div",{className:"tools__item ".concat(t.isDrawAction?"tools__item--active":"")},c.a.createElement("button",{className:"draw-action",onClick:n,title:"Pen tool (P)"})),c.a.createElement("div",{className:"tools__item ".concat(t.isEraseAction?"tools__item--active":"")},c.a.createElement("button",{className:"erase-action",onClick:r,title:"Eraser tool (E)"}))),c.a.createElement("li",null,c.a.createElement("div",{className:"tools__item ".concat(t.isFillColorAction?"tools__item--active":"")},c.a.createElement("button",{className:"fill-color-action",onClick:a,title:"Paint bucket tool (B)"})),c.a.createElement("div",{className:"tools__item ".concat(t.isAllPixelsSameColorAction?"tools__item--active":"")},c.a.createElement("button",{className:"fill-pixels-same-color-action",onClick:E,title:"Paint all pixels at the same color (A)"}))),c.a.createElement("li",null,c.a.createElement("div",{className:"tools__item ".concat(t.isStrokeAction?"tools__item--active":"")},c.a.createElement("button",{className:"stroke-action",onClick:i,title:"Stroke tool (L)"})),c.a.createElement("div",{className:"tools__item ".concat(t.isPenAction?"tools__item--active":"")},c.a.createElement("button",{className:"pen-action",onClick:f,title:"Feather pen tool (D)"}))),c.a.createElement("li",null,c.a.createElement("div",{className:"tools__item ".concat(t.isDrawRectangleAction?"tools__item--active":"")},c.a.createElement("button",{className:"rectangle-action",onClick:u,title:"Rectangle tool (R)"})),c.a.createElement("div",{className:"tools__item ".concat(t.isDrawCircleAction?"tools__item--active":"")},c.a.createElement("button",{className:"circle-action",onClick:s,title:"Circle tool (C). Keep SHIFT for 1 to 1 ratio"}))),c.a.createElement("li",null,c.a.createElement("div",{className:"tools__item ".concat(t.isDrawFillRectangleAction?"tools__item--active":"")},c.a.createElement("button",{className:"fill-rectangle-action",onClick:m,title:"Fill rectangle tool (F)"})),c.a.createElement("div",{className:"tools__item ".concat(t.isDrawTriangleAction?"tools__item--active":"")},c.a.createElement("button",{className:"triangle-action",onClick:o,title:"Triangle tool (H)"}))),c.a.createElement("li",null,c.a.createElement("div",{className:"tools__item ".concat(t.isLightenColorAction?"tools__item--active":"")},c.a.createElement("button",{className:"lighten-action",onClick:v,title:"Lighten tool (U)"})),c.a.createElement("div",{className:"tools__item ".concat(t.isDarkenColorAction?"tools__item--active":"")},c.a.createElement("button",{className:"darken-action",onClick:_,title:"Darken tool (I)"}))),c.a.createElement("li",null,c.a.createElement("div",{className:"tools__item ".concat(t.isMoveAction?"tools__item--active":"")},c.a.createElement("button",{className:"move-action",onClick:b,title:"Move tool (M)"})),c.a.createElement("div",{className:"tools__item ".concat(t.isChooseColorAction?"tools__item--active":"")},c.a.createElement("button",{className:"choose-color-action",onClick:l,title:"Color picker (O)"}))),c.a.createElement("li",null,c.a.createElement("div",{className:"tools__item ".concat(t.isDitheringAction?"tools__item--active":"")},c.a.createElement("button",{className:"dithering-action",onClick:O,title:"Dithering tool (T)"})),c.a.createElement("div",{className:"tools__item ".concat(t.isMirrorPenAction?"tools__item--active":"")},c.a.createElement("button",{className:"mirror-action",onClick:d,title:"Vertical mirror tool (V). Keep SHIFT to use horizontal axis"})))),c.a.createElement("div",{className:"color-palette-wrapper"},c.a.createElement("div",{className:"color-palette__primary"},c.a.createElement(V,{onChange:p,value:h,title:"Primary color"})),c.a.createElement("div",{className:"color-palette__secondary"},c.a.createElement(V,{onChange:g,value:k,title:"Secondary color"})),c.a.createElement("button",{className:"color-change",onClick:C,title:"Swap colors (X)"})))}W.defaultProps={active:!1};var J=W;n(64);var $=function(e){var t=e.frames,n=e.framesPerSecond,o=e.onFullScreenShow,r=Object(a.useState)(0),i=Object(_.a)(r,2),l=i[0],s=i[1],u=t[l],m=Object(a.useRef)(null);return Object(a.useEffect)(function(){var e=setTimeout(function(){var e=l<t.length-1?l+1:0;s(e)},1e3/n);return function(){return clearTimeout(e)}},[n,l,t]),c.a.createElement("div",{className:"fullscreen-preview",ref:m},c.a.createElement("div",{className:"preview"},u&&u.image?c.a.createElement("img",{className:"frame__img-active",src:u.image,alt:"Frame"}):c.a.createElement("div",{className:"emptyFrame"}),c.a.createElement("button",{onClick:function(e){return o(m.current,e)},onMouseOver:function(){return c.a.createElement("span",{className:"tooltip"},"Full screen preview")},className:"full-screen-action",title:"Full screen preview"})))};n(65);var Q=function(e){var t=e.onChange,n=Object(a.useState)(1),o=Object(_.a)(n,2),r=o[0],i=o[1];return c.a.createElement("div",{className:"FPS-wrapper"},c.a.createElement("span",null,r," FPS"),c.a.createElement("input",{type:"range",name:"speed",min:1,max:24,defaultValue:1,onChange:function(e){i(+e.target.value),t(r)}}))};n(66);var ee=function(e){var t=Object(a.useRef)(null);return Object(a.useEffect)(function(){t.current=e},[e]),t.current},te=c.a.createContext(null);var ne=function(e){var t=e.active,n=e.children,o=e.className,r=e.clearImage,i=e.imgSrc,l=e.onChange,s=e.onMouseDown,u=e.onMouseMove,m=e.width,d=e.height,E=e.onMouseEnter,f=e.onMouseLeave,v=e.scale,_=Object(a.useRef)(null),b=ee(v),O=Object(a.useCallback)(function(){return _.current.getContext("2d").clearRect(0,0,m,d)},[d,m]);return Object(a.useEffect)(function(){var e=function(e){O();var t=e.target,n=_.current.getContext("2d");if(r&&O(),v!==b){var a=n.imageSmoothingEnabled,c=v/b;O(),n.imageSmoothingEnabled=!1,n.drawImage(t,0,0,t.width*c,t.height*c),n.imageSmoothingEnabled=a}else n.drawImage(t,0,0);var o=_.current.toDataURL();i!==o&&l(o)};if(i){var t=z(i,e);return function(){return t.removeEventListener("load",e)}}r&&O()},[O,r,d,i,l,b,v,m]),c.a.createElement("canvas",{className:"canvas\n        ".concat(o,"\n        ").concat(t.isEraseAction?"canvas__erase":"","\n        ").concat(t.isDrawAction?"canvas__draw":"","\n        ").concat(t.isChooseColorAction?"canvas__picker":"","\n        ").concat(t.isFillColorAction?"canvas__fill-color":"","\n        ").concat(t.isMoveAction?"canvas__move":"","\n        "),ref:_,width:"".concat(m,"px"),height:"".concat(d,"px"),onMouseDown:s,onMouseMove:u,onMouseEnter:E,onMouseLeave:f},c.a.createElement(te.Provider,{value:_.current},n))},ae=n(1),ce=n.n(ae);function oe(e){var t=e.onMouseUp,n=Object(v.a)(e,["onMouseUp"]),c=Object(a.useContext)(te),o=Object(a.useRef)(!1),r=Object(a.useCallback)(function(){o.current&&(t(c.toDataURL()),o.current=!o.current)},[t,c]),i=Object(a.useCallback)(function(e){var t=c.getContext("2d"),a=c.getBoundingClientRect(),r=e.clientX-a.left,i=e.clientY-a.top;o.current?(t.lineWidth=n.penSize/8,t.lineTo(r,i),t.strokeStyle=n.currentColor,t.stroke(),t.beginPath(),t.arc(r,i,n.penSize/16,0,2*Math.PI),t.fillStyle=n.currentColor,t.fill(),t.beginPath(),t.moveTo(r,i)):t.beginPath()},[c,n.penSize,n.currentColor]),l=Object(a.useCallback)(function(e){o.current=!o.current,i(e)},[i]);return Object(a.useEffect)(function(){return c?(c.addEventListener("mousemove",i),c.addEventListener("mousedown",l),document.addEventListener("mouseup",r),function(){c.removeEventListener("mousemove",i),c.removeEventListener("mousedown",l),document.removeEventListener("mouseup",r)}):Function.prototype},[c,i,r,l]),null}oe.propTypes={penSize:ce.a.number,onMouseDown:ce.a.func,currentColor:ce.a.string};var re=oe;function ie(e){var t=e.onMouseUp,n=Object(v.a)(e,["onMouseUp"]),c=Object(a.useContext)(te),o=Object(a.useRef)(!1),r=Object(a.useCallback)(function(){o.current&&(t(c.toDataURL()),o.current=!o.current)},[t,c]),i=Object(a.useCallback)(function(e){var t=c.getContext("2d");o.current?(1===e.which?t.fillStyle=n.primaryColor:3===e.which&&(t.fillStyle=n.secondaryColor),t.fillRect(n.x,n.y,n.width,n.height)):t.beginPath()},[c,n.x,n.y,n.width,n.height,n.primaryColor,n.secondaryColor]),l=Object(a.useCallback)(function(e){o.current=!o.current,i(e)},[i]);return Object(a.useEffect)(function(){return c?(c.addEventListener("mousemove",i),c.addEventListener("mousedown",l),document.addEventListener("mouseup",r),function(){c.removeEventListener("mousemove",i),c.removeEventListener("mousedown",l),document.removeEventListener("mouseup",r)}):Function.prototype},[c,i,r,l]),null}ie.propTypes={x:ce.a.number,y:ce.a.number,width:ce.a.number,height:ce.a.number,onMouseDown:ce.a.func,primaryColor:ce.a.string,secondaryColor:ce.a.string};var le=ie;function se(e){var t=e.onMouseUp,n=Object(v.a)(e,["onMouseUp"]),c=Object(a.useContext)(te),o=Object(a.useRef)(!1),r=Object(a.useCallback)(function(){o.current&&(t(c.toDataURL()),o.current=!o.current)},[t,c]),i=Object(a.useCallback)(function(){var e=c.getContext("2d");o.current?e.clearRect(n.x,n.y,n.width,n.height):e.beginPath()},[c,n.x,n.y,n.width,n.height]),l=Object(a.useCallback)(function(e){o.current=!o.current,i(e)},[i]);return Object(a.useEffect)(function(){return c?(c.addEventListener("mousemove",i),c.addEventListener("mousedown",l),document.addEventListener("mouseup",r),function(){c.removeEventListener("mousemove",i),c.removeEventListener("mousedown",l),document.removeEventListener("mouseup",r)}):Function.prototype},[c,i,r,l]),null}se.propTypes={x:ce.a.number,y:ce.a.number,width:ce.a.number,height:ce.a.number,onMouseDown:ce.a.func};var ue=se;function me(e){var t=e.onMouseUp,n=e.currentColor,c=Object(a.useContext)(te),o=c.getContext("2d"),r=Object(a.useRef)(!1),i=Object(a.useCallback)(function(){t(c.toDataURL())},[c,t]),l=Object(a.useCallback)(function(e){if(r.current=!r.current,r.current){o.fillStyle=n;for(var t=c.getBoundingClientRect(),a=Math.floor(e.clientX-t.left),i=Math.floor(e.clientY-t.top),l=R(n),s=o.getImageData(0,0,c.width,c.height),u=4*(i*c.width+a),m={r:s.data[u],g:s.data[u+1],b:s.data[u+2],a:s.data[u+3]},d=0;d<s.data.length;d+=4)s.data[d]===m.r&&s.data[d+1]===m.g&&s.data[d+2]===m.b&&s.data[d+3]===m.a&&(s.data[d]=l.r,s.data[d+1]=l.g,s.data[d+2]=l.b,s.data[d+3]=l.a);o.putImageData(s,0,0)}},[c,o,n]),s=Object(a.useCallback)(function(){r.current=!r.current},[]);return Object(a.useEffect)(function(){return c?(c.addEventListener("mousedown",l),c.addEventListener("mouseup",s),c.addEventListener("mouseup",i),function(){c.removeEventListener("mousedown",l),c.removeEventListener("mouseup",s),c.removeEventListener("mouseup",i)}):Function.prototype},[c,i,l,s]),null}me.propTypes={onMouseUp:ce.a.func,currentColor:ce.a.string};var de=me;function Ee(e){var t=e.onMouseUp,n=Object(v.a)(e,["onMouseUp"]),c=Object(a.useContext)(te),o=c.getContext("2d"),r=Object(a.useRef)(!1),i=Object(a.useCallback)(function(){t(c.toDataURL())},[c,t]),l=Object(a.useCallback)(function(e){if(r.current=!r.current,r.current){var t=c.getBoundingClientRect(),a=R(n.currentColor),i=Math.floor(e.clientX-t.left),l=Math.floor(e.clientY-t.top),s=o.getImageData(0,0,c.width,c.height),u=4*(l*c.width+i),m={r:s.data[u],g:s.data[u+1],b:s.data[u+2],a:s.data[u+3]};M(i,l,c.width,c.height,s,m,a),o.putImageData(s,0,0)}},[c,o,n.currentColor]),s=Object(a.useCallback)(function(){r.current=!r.current},[]);return Object(a.useEffect)(function(){return c?(c.addEventListener("mousedown",l),c.addEventListener("mouseup",s),c.addEventListener("mouseup",i),function(){c.removeEventListener("mousedown",l),c.removeEventListener("mouseup",s),c.removeEventListener("mouseup",i)}):Function.prototype},[c,i,l,s]),null}Ee.propTypes={width:ce.a.number,height:ce.a.number,currentColor:ce.a.string};var fe=Ee,ve=function(e,t,n,a,c){for(var o=Math.abs(n-e),r=Math.abs(a-t),i=e<n?1:-1,l=t<a?1:-1,s=o-r;e!==n||t!==a;){c(e,t);var u=2*s;u>-r&&(s-=r,e+=i),u<o&&(s+=o,t+=l)}c(n,a)};function _e(e){var t=e.onMouseUp,n=Object(v.a)(e,["onMouseUp"]),c=Object(a.useState)(0),o=Object(_.a)(c,2),r=o[0],i=o[1],l=Object(a.useState)(0),s=Object(_.a)(l,2),u=s[0],m=s[1],d=Object(a.useContext)(te),E=Object(a.useRef)(!1),f=Object(a.useRef)(null),b=Object(a.useCallback)(function(){f.current=null,E.current=!1,t(d.toDataURL())},[t,d]),O=d.getContext("2d"),p=Object(a.useCallback)(function(e){E.current?requestAnimationFrame(function(){i(w(e,n.canvasScale).rectXBegin),m(w(e,n.canvasScale).rectYBegin),f.current&&(O.clearRect(0,0,d.width,d.height),O.putImageData(f.current,0,0));var t=function(e,t,a){isFinite(e)&&isFinite(t)&&function(e,t,a){O.fillStyle=n.currentColor;var c=j(e,t,n.canvasScale),o=c.rectXBegin,r=c.rectYBegin,i=O.getImageData(o,r,1,1).data;i[0]===a.r&&i[1]===a.g&&i[2]===a.b&&i[3]===a.a||O.fillRect(o,r,n.rectSize,n.rectSize)}(e,t,a)},a=n.x,c=n.y,o=r,l=u,s=R(n.currentColor);ve(a,c,o,l,function(e,n){t(e,n,s)}),ve(o,l,a-(o-a)-n.rectSize,l,function(e,n){t(e,n,s)}),ve(a-(o-a),l,a,c,function(e,n){t(e,n,s)})}):O.beginPath()},[n.canvasScale,n.x,n.y,n.currentColor,n.rectSize,r,u,O,d.width,d.height]),g=Object(a.useCallback)(function(e){E.current=!0,f.current=O.getImageData(0,0,d.width,d.height),i(w(e,n.canvasScale).rectXBegin),m(w(e,n.canvasScale).rectYBegin)},[d.height,d.width,O,n.canvasScale]);return Object(a.useEffect)(function(){return d?(d.addEventListener("mousemove",p),d.addEventListener("mousedown",g),document.addEventListener("mouseup",b),function(){d.removeEventListener("mousemove",p),d.removeEventListener("mousedown",g),document.removeEventListener("mouseup",b)}):Function.prototype},[d,p,b,g]),null}_e.propTypes={onMouseDown:ce.a.func,currentColor:ce.a.string,canvasScale:ce.a.number,x:ce.a.number,y:ce.a.number,rectSize:ce.a.number};var be=_e,Oe=function(e,t,n,a,c){for(var o=0,r=t,i=t*t-e*e*t+.25*e*e,l=2*t*t*o,s=2*e*e*r;l<s;)c([o+n,r+a],[-o+n,r+a],[o+n,-r+a],[-o+n,-r+a]),i<0?(o+=1,i=i+(l+=2*t*t)+t*t):(o+=1,r-=1,i=i+(l+=2*t*t)-(s-=2*e*e)+t*t);for(var u=t*t*((o+.5)*(o+.5))+e*e*((r-1)*(r-1))-e*e*t*t;r>=0;)c([o+n,r+a],[-o+n,r+a],[o+n,-r+a],[-o+n,-r+a]),u>0?(r-=1,u=u+e*e-(s-=2*e*e)):(r-=1,o+=1,u=u+(l+=2*t*t)-(s-=2*e*e)+e*e)},pe=function(e,t,n,a){for(var c=0,o=n,r=0,i=1-2*n;o>=0;)a(e+c,t-o),a(e-c,t-o),a(e-c,t+o),a(e+c,t+o),r=2*(i+o)-1,i<0&&r<=0?i+=2*(c+=1)+1:i>0&&r>0?i-=2*(o-=1)+1:(i+=2*((c+=1)-o),o-=1)};function ge(e){var t=e.onMouseUp,n=Object(v.a)(e,["onMouseUp"]),c=Object(a.useState)(0),o=Object(_.a)(c,2),r=o[0],i=o[1],l=Object(a.useState)(0),s=Object(_.a)(l,2),u=s[0],m=s[1],d=Object(a.useContext)(te),E=Object(a.useRef)(!1),f=Object(a.useRef)(null),b=Object(a.useCallback)(function(){f.current=null,E.current=!1,t(d.toDataURL())},[t,d]),O=d.getContext("2d"),p=Object(a.useCallback)(function(e){E.current?requestAnimationFrame(function(){i(w(e,n.canvasScale).rectXBegin),m(w(e,n.canvasScale).rectYBegin),f.current&&(O.clearRect(0,0,d.width,d.height),O.putImageData(f.current,0,0));var t=function(e,t,a){isFinite(e)&&isFinite(t)&&function(e,t,a){O.fillStyle=n.currentColor;var c=j(e,t,n.canvasScale),o=c.rectXBegin,r=c.rectYBegin,i=O.getImageData(o,r,1,1).data;i[0]===a.r&&i[1]===a.g&&i[2]===a.b&&i[3]===a.a||O.fillRect(o,r,n.rectSize,n.rectSize)}(e,t,a)};O.strokeStyle=n.currentColor,O.fillStyle=n.currentColor;var a=n.x,c=n.y,o=r,l=u,s=R(n.currentColor),E=D(a,c,o,l),v=x(a,c,o,l),_=P(a,o),b=I(c,l);e.shiftKey?pe(o,l,E,function(e,n){t(e,n,s)}):Oe(_,b,v.x,v.y,function(e,n,a,c){t(e[0],e[1],s),t(n[0],n[1],s),t(a[0],a[1],s),t(c[0],c[1],s)})}):O.beginPath()},[n.canvasScale,n.currentColor,n.x,n.y,n.rectSize,O,d.width,d.height,r,u]),g=Object(a.useCallback)(function(e){E.current=!E.current,f.current=O.getImageData(0,0,d.width,d.height),i(w(e,n.canvasScale).rectXBegin),m(w(e,n.canvasScale).rectYBegin)},[d.height,d.width,O,n.canvasScale]);return Object(a.useEffect)(function(){return d?(d.addEventListener("mousemove",p),d.addEventListener("mousedown",g),document.addEventListener("mouseup",b),function(){d.removeEventListener("mousemove",p),d.removeEventListener("mousedown",g),document.removeEventListener("mouseup",b)}):Function.prototype},[d,p,b,g]),null}ge.propTypes={onMouseDown:ce.a.func,currentColor:ce.a.string,canvasScale:ce.a.number,x:ce.a.number,y:ce.a.number,rectSize:ce.a.number};var Ce=ge,he=function(e,t,n,a,c){var o=e,r=t;if(e<n&&t<a){for(;o<n;)c(o,t),o+=1;for(;r<a;)c(o,r),r+=1;for(;o>e;)c(o,r),o-=1;for(;r>t;)c(o,r),r-=1}if(e<n&&t>a){for(;o<n;)c(o,t),o+=1;for(;r>a;)c(o,r),r-=1;for(;o>e;)c(o,r),o-=1;for(;r<t;)c(o,r),r+=1}if(e>n&&t<a){for(;o>n;)c(o,r),o-=1;for(;r<=a;)c(o,r),r+=1;for(;o<e;)c(o,a),o+=1;for(;r>t;)c(o,r),r-=1}if(e>n&&t>a){for(;o>n;)c(o,r),o-=1;for(;r>a;)c(o,r),r-=1;for(;o<e;)c(o,a),o+=1;for(;r<t;)c(o,r),r+=1}};function ke(e){var t=e.onMouseUp,n=Object(v.a)(e,["onMouseUp"]),c=Object(a.useState)(0),o=Object(_.a)(c,2),r=o[0],i=o[1],l=Object(a.useState)(0),s=Object(_.a)(l,2),u=s[0],m=s[1],d=Object(a.useContext)(te),E=Object(a.useRef)(!1),f=Object(a.useRef)(null),b=Object(a.useCallback)(function(){f.current=null,E.current=!1,t(d.toDataURL())},[t,d]),O=d.getContext("2d"),p=Object(a.useCallback)(function(e){E.current?requestAnimationFrame(function(){i(w(e,n.canvasScale).rectXBegin),m(w(e,n.canvasScale).rectYBegin),f.current&&(O.clearRect(0,0,d.width,d.height),O.putImageData(f.current,0,0));var t=function(e,t,a){isFinite(e)&&isFinite(t)&&function(e,t,a){O.fillStyle=n.currentColor;var c=j(e,t,n.canvasScale),o=c.rectXBegin,r=c.rectYBegin,i=O.getImageData(o,r,1,1).data;i[0]===a.r&&i[1]===a.g&&i[2]===a.b&&i[3]===a.a||O.fillRect(o,r,n.rectSize,n.rectSize)}(e,t,a)},a=n.x,c=n.y,o=r,l=u,s=R(n.currentColor);he(a,c,o,l,function(e,n){t(e,n,s)})}):O.beginPath()},[n.canvasScale,n.x,n.y,n.currentColor,n.rectSize,r,u,O,d.width,d.height]),g=Object(a.useCallback)(function(e){E.current=!0,f.current=O.getImageData(0,0,d.width,d.height),i(w(e,n.canvasScale).rectXBegin),m(w(e,n.canvasScale).rectYBegin)},[d.height,d.width,O,n.canvasScale]);return Object(a.useEffect)(function(){return d?(d.addEventListener("mousemove",p),d.addEventListener("mousedown",g),document.addEventListener("mouseup",b),function(){d.removeEventListener("mousemove",p),d.removeEventListener("mousedown",g),document.removeEventListener("mouseup",b)}):Function.prototype},[d,p,b,g]),null}ke.propTypes={onMouseDown:ce.a.func,currentColor:ce.a.string,canvasScale:ce.a.number,x:ce.a.number,y:ce.a.number,rectSize:ce.a.number};var ye=ke;function Le(e){var t=e.onMouseUp,n=Object(v.a)(e,["onMouseUp"]),c=Object(a.useState)(0),o=Object(_.a)(c,2),r=o[0],i=o[1],l=Object(a.useState)(0),s=Object(_.a)(l,2),u=s[0],m=s[1],d=Object(a.useContext)(te),E=Object(a.useRef)(!1),f=Object(a.useRef)(null),b=Object(a.useCallback)(function(){f.current=null,E.current=!1,t(d.toDataURL())},[t,d]),O=d.getContext("2d"),p=Object(a.useCallback)(function(e){E.current?requestAnimationFrame(function(){i(w(e,n.canvasScale).rectXBegin),m(w(e,n.canvasScale).rectYBegin),f.current&&(O.clearRect(0,0,d.width,d.height),O.putImageData(f.current,0,0)),O.fillStyle=n.primaryColor;var t=n.x,a=n.y,c=r,o=u,l=Math.abs(t-c),s=Math.abs(a-o),E=Math.abs(t-n.rectSize-(c+n.rectSize)),v=Math.abs(c-n.rectSize-(t+n.rectSize)),_=Math.abs(a-n.rectSize-(o+n.rectSize)),b=Math.abs(o-n.rectSize-(a+n.rectSize)),p=Math.min(E,v),g=Math.min(_,b);if(O.fillRect(Math.min(t,c),Math.min(a,o),l,s),l>=3*n.rectSize&&s>=3*n.rectSize){O.fillStyle=n.secondaryColor;var C=Math.min(t+n.rectSize,c+n.rectSize),h=Math.min(a+n.rectSize,o+n.rectSize);O.fillRect(C,h,p,g)}}):O.beginPath()},[n.canvasScale,n.primaryColor,n.x,n.y,n.rectSize,n.secondaryColor,O,r,u,d.width,d.height]),g=Object(a.useCallback)(function(e){E.current=!0,f.current=O.getImageData(0,0,d.width,d.height),i(w(e,n.canvasScale).rectXBegin),m(w(e,n.canvasScale).rectYBegin)},[d.height,d.width,O,n.canvasScale]);return Object(a.useEffect)(function(){return d?(d.addEventListener("mousemove",p),d.addEventListener("mousedown",g),document.addEventListener("mouseup",b),function(){d.removeEventListener("mousemove",p),d.removeEventListener("mousedown",g),document.removeEventListener("mouseup",b)}):Function.prototype},[d,p,b,g]),null}Le.propTypes={onMouseDown:ce.a.func,primaryColor:ce.a.string,secondaryColor:ce.a.string,canvasScale:ce.a.number,x:ce.a.number,y:ce.a.number,rectSize:ce.a.number};var Ne=Le;function Se(e){var t=e.onMouseUp,n=Object(v.a)(e,["onMouseUp"]),c=Object(a.useContext)(te),o=Object(a.useRef)(!1),r=Object(a.useCallback)(function(){t(c.toDataURL())},[t,c]),i=Object(a.useCallback)(function(e){var t=c.getContext("2d");if(o.current)if(e.shiftKey){var a=e.target.offsetHeight-n.y-n.height;t.fillStyle=n.currentColor,t.strokeStyle=n.currentColor,t.fillRect(n.x,n.y,n.width,n.height),t.fillRect(n.x,a,n.width,n.height)}else{var r=e.target.offsetWidth-n.x-n.width;t.fillStyle=n.currentColor,t.strokeStyle=n.currentColor,t.fillRect(n.x,n.y,n.width,n.height),t.fillRect(r,n.y,n.width,n.height)}else t.beginPath()},[n.x,n.y,n.width,n.height,n.currentColor,o,c]),l=Object(a.useCallback)(function(e){o.current=!o.current,i(e)},[i]);return Object(a.useEffect)(function(){return c?(c.addEventListener("mousemove",i),c.addEventListener("mousedown",l),document.addEventListener("mouseup",l),document.addEventListener("mouseup",r),function(){c.removeEventListener("mousemove",i),c.removeEventListener("mousedown",l),document.removeEventListener("mouseup",l),document.removeEventListener("mouseup",r)}):Function.prototype},[c,i,r,l]),null}Se.propTypes={x:ce.a.number,y:ce.a.number,width:ce.a.number,height:ce.a.number,onMouseDown:ce.a.func,currentColor:ce.a.string};var je=Se;function Ae(e){var t=e.onMouseUp,n=Object(a.useContext)(te),c=n.getContext("2d"),o=Object(a.useCallback)(function(e){var a=n.getBoundingClientRect(),o=e.clientX-a.left,r=e.clientY-a.top,i=c.getImageData(0,0,n.width,n.height),l=4*(r*n.width+o),s=i.data[l],u=i.data[l+1],m=i.data[l+2],d=i.data[l+3],E=T({r:s,g:u,b:m,a:d});t(E)},[n,c,t]);return Object(a.useEffect)(function(){return n?(n.addEventListener("mouseup",o),function(){n.removeEventListener("mouseup",o)}):Function.prototype},[n,o]),null}Ae.propTypes={onMouseUp:ce.a.func};var we=Ae;function Re(e){var t=e.onMouseUp,n=e.canvasScale,c=e.penSize,o=Object(a.useContext)(te),r=o.getContext("2d"),i=o.getBoundingClientRect(),l=Object(a.useRef)(!1),s=Object(a.useCallback)(function(){l.current=!l.current},[]),u=Object(a.useCallback)(function(){l.current=!l.current,t(o.toDataURL())},[o,t]),m=Object(a.useCallback)(function(e){if(l.current){for(var t=Math.floor(e.clientX-i.left),a=Math.floor(e.clientY-i.top),o=j(t,a,n),s=r.getImageData(o.rectXBegin,o.rectYBegin,c,c),u=0;u<s.data.length;u+=4)0!==s.data[u+3]&&(s.data[u]<=245&&(s.data[u]+=5),s.data[u+1]<=245&&(s.data[u+1]+=5),s.data[u+2]<=245&&(s.data[u+2]+=5));r.putImageData(s,o.rectXBegin,o.rectYBegin)}},[n,r,c,i.left,i.top]);return Object(a.useEffect)(function(){return o?(o.addEventListener("mousedown",s),o.addEventListener("mousemove",m),document.addEventListener("mouseup",u),function(){o.removeEventListener("mousedown",s),o.removeEventListener("mousemove",m),document.removeEventListener("mouseup",u)}):Function.prototype},[o,m,u,s]),null}Re.propTypes={onMouseUp:ce.a.func};var Te=Re;function Me(e){var t=e.onMouseUp,n=e.canvasScale,c=e.penSize,o=Object(a.useContext)(te),r=o.getContext("2d"),i=o.getBoundingClientRect(),l=Object(a.useRef)(!1),s=Object(a.useCallback)(function(){l.current=!l.current},[]),u=Object(a.useCallback)(function(){t(o.toDataURL()),l.current=!l.current},[o,t]),m=Object(a.useCallback)(function(e){if(l.current){for(var t=Math.floor(e.clientX-i.left),a=Math.floor(e.clientY-i.top),o=j(t,a,n),s=r.getImageData(o.rectXBegin,o.rectYBegin,c,c),u=0;u<s.data.length;u+=4)0!==s.data[u+3]&&(s.data[u]>=5&&(s.data[u]-=5),s.data[u+1]>=5&&(s.data[u+1]-=5),s.data[u+2]>=5&&(s.data[u+2]-=5));r.putImageData(s,o.rectXBegin,o.rectYBegin)}},[n,r,c,i.left,i.top]);return Object(a.useEffect)(function(){return o?(o.addEventListener("mousedown",s),o.addEventListener("mousemove",m),document.addEventListener("mouseup",u),function(){o.removeEventListener("mousedown",s),o.removeEventListener("mousemove",m),document.removeEventListener("mouseup",u)}):Function.prototype},[o,m,u,s]),null}Me.propTypes={onMouseUp:ce.a.func};var De=Me;function xe(e){var t=e.onMouseUp,n=e.image,c=Object(a.useContext)(te),o=c.getContext("2d"),r=o.getImageData(0,0,c.width,c.height),i=Object(a.useState)(0),l=Object(_.a)(i,2),s=l[0],u=l[1],m=Object(a.useState)(0),d=Object(_.a)(m,2),E=d[0],f=d[1],v=Object(a.useRef)(!1),b=Object(a.useRef)(null),O=Object(a.useCallback)(function(){v.current=!1,b.current=null,o.putImageData(r,0,0),t(c.toDataURL()),u(0),f(0)},[c,o,r,t]),p=Object(a.useCallback)(function(e){if(v.current){var t=y(e),n=L(e.target,e.clientY);o.clearRect(0,0,c.width,c.height),o.drawImage(b.current,t-s,n-E)}},[c,o,s,E]),g=Object(a.useCallback)(function(e){v.current=!0,b.current=new Image,b.current.src=n,u(y(e)),f(L(e.target,e.clientY))},[n]);return Object(a.useEffect)(function(){return c?(c.addEventListener("mousemove",p),c.addEventListener("mousedown",g),document.addEventListener("mouseup",O),function(){c.removeEventListener("mousemove",p),c.removeEventListener("mousedown",g),document.removeEventListener("mouseup",O)}):Function.prototype},[c,p,O,g]),null}xe.propTypes={onMouseDown:ce.a.func,image:ce.a.string};var Pe=xe;function Ie(e){var t=e.onMouseUp,n=Object(v.a)(e,["onMouseUp"]),c=Object(a.useContext)(te),o=Object(a.useRef)(!1),r=Object(a.useCallback)(function(){o.current&&(t(c.toDataURL()),o.current=!o.current)},[t,c]),i=Object(a.useCallback)(function(){var e=c.getContext("2d");if(o.current)for(var t=n.penSize/20,a=n.x/20+1,r=n.y/20+1,i=0;i<t;i+=1)for(var l=0;l<t;l+=1){var s=r+i,u=a+l;G(s)&&G(u)||U(s)&&U(u)?e.fillStyle=n.secondaryColor:e.fillStyle=n.primaryColor,e.fillRect(n.x+20*i,n.y+20*l,20,20)}else e.beginPath()},[c,n.penSize,n.primaryColor,n.secondaryColor,n.x,n.y]),l=Object(a.useCallback)(function(e){o.current=!o.current,i(e)},[i]);return Object(a.useEffect)(function(){return c?(c.addEventListener("mousemove",i),c.addEventListener("mousedown",l),document.addEventListener("mouseup",r),function(){c.removeEventListener("mousemove",i),c.removeEventListener("mousedown",l),document.removeEventListener("mouseup",r)}):Function.prototype},[c,i,r,l]),null}Ie.propTypes={x:ce.a.number,y:ce.a.number,penSize:ce.a.number,column:ce.a.number,row:ce.a.number,primaryColor:ce.a.string,secondaryColor:ce.a.string,image:ce.a.any};var Fe=Ie;n(69);var ze=function(e){var t=e.onChange,n=e.options,a=e.value;return c.a.createElement("div",{className:"canvas-size"},n.map(function(e){return c.a.createElement("div",{className:"canvas-size__item",key:e},c.a.createElement("input",{checked:a===e,id:"canvas-size__item".concat(e),name:"canvas-size__item",onChange:t,type:"radio",value:e}),c.a.createElement("label",{htmlFor:"canvas-size__item".concat(e)},e,"*",e))}))},Be=(n(70),{PEN_SIZE_1:"PEN_SIZE_1",PEN_SIZE_2:"PEN_SIZE_2",PEN_SIZE_3:"PEN_SIZE_3",PEN_SIZE_4:"PEN_SIZE_4",PEN_TOOL:"PEN_TOOL",ERASER_TOOL:"ERASER_TOOL",COLOR_BUCKET_TOOL:"COLOR_BUCKET_TOOL",MAGIC_COLOR_BUCKET_TOOL:"MAGIC_COLOR_BUCKET_TOOL",DRAW_TRIANGLE_TOOL:"DRAW_TRIANGLE_TOOL",COLOR_PICKER_TOOL:"COLOR_PICKER_TOOL",RECTANGLE_TOOL:"RECTANGLE_TOOL",CIRCLE_TOOL:"CIRCLE_TOOL",LIGHTEN_TOOL:"LIGHTEN_TOOL",DARKEN_TOOL:"DARKEN_TOOL",DITHERING_TOOL:"DITHERING_TOOL",STROKE_TOOL:"STROKE_TOOL",MIRROR_PEN_TOOL:"MIRROR_PEN_TOOL",MOVE_TOOL:"MOVE_TOOL",FEATHER_PEN_TOOL:"FEATHER_PEN_TOOL",ADD_NEW_FRAME:"ADD_NEW_FRAME",CHANGE_COLORS:"CHANGE_COLORS",FILL_RECTANGLE_TOOL:"FILL_RECTANGLE_TOOL"});var Ue=function(e){var t=e.keyboardMap,n=e.onChange,o=Object(a.useRef)(!1),r=function(){o.current=!o.current,o.current?(document.querySelector(".keyboard-shortcuts__button").classList.add("keyboard-shortcuts__button--active"),document.querySelector(".keyboard-shortcuts__list").classList.add("keyboard-shortcuts__list--active")):(document.querySelector(".keyboard-shortcuts__button").classList.remove("keyboard-shortcuts__button--active"),document.querySelector(".keyboard-shortcuts__list").classList.remove("keyboard-shortcuts__list--active"))};return c.a.createElement("div",{className:"keyboard-shortcuts__wrapper"},c.a.createElement("button",{className:"keyboard-shortcuts__button",onClick:r,title:"Keyboard shortcuts"}),c.a.createElement("div",{className:"keyboard-shortcuts__list"},c.a.createElement("ul",{className:"keyboard-shortcuts"},c.a.createElement("li",null,"Tool shortcuts"),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("div",{className:"item__image draw-action"}),c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return n(Be.PEN_TOOL)}},t[Be.PEN_TOOL]),c.a.createElement("div",{className:"item__description"},"Pen tool")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("div",{className:"item__image erase-action"}),c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return n(Be.ERASER_TOOL)}},t[Be.ERASER_TOOL]),c.a.createElement("div",{className:"item__description"},"Eraser tool")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("div",{className:"item__image mirror-draw-action"}),c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return n(Be.MIRROR_PEN_TOOL)}},t[Be.MIRROR_PEN_TOOL]),c.a.createElement("div",{className:"item__description"},"Vertical mirror pen tool")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("div",{className:"item__image fill-color-action"}),c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return n(Be.COLOR_BUCKET_TOOL)}},t[Be.COLOR_BUCKET_TOOL]),c.a.createElement("div",{className:"item__description"},"Color bucket tool")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("div",{className:"item__image magic-color-bucket-action"}),c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return n(Be.MAGIC_COLOR_BUCKET_TOOL)}},t[Be.MAGIC_COLOR_BUCKET_TOOL]),c.a.createElement("div",{className:"item__description"},"Magic bucket tool")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("div",{className:"item__image stroke-action"}),c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return n(Be.STROKE_TOOL)}},t[Be.STROKE_TOOL]),c.a.createElement("div",{className:"item__description"},"Stroke tool")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("div",{className:"item__image rectangle-action"}),c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return n(Be.RECTANGLE_TOOL)}},t[Be.RECTANGLE_TOOL]),c.a.createElement("div",{className:"item__description"},"Rectangle tool")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("div",{className:"item__image circle-action"}),c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return n(Be.CIRCLE_TOOL)}},t[Be.CIRCLE_TOOL]),c.a.createElement("div",{className:"item__description"},"Circle tool")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("div",{className:"item__image move-action"}),c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return n(Be.MOVE_TOOL)}},t[Be.MOVE_TOOL]),c.a.createElement("div",{className:"item__description"},"Move tool")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("div",{className:"item__image lighten-action"}),c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return n(Be.LIGHTEN_TOOL)}},t[Be.LIGHTEN_TOOL]),c.a.createElement("div",{className:"item__description"},"Lighten tool")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("div",{className:"item__image darken-action"}),c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return n(Be.DARKEN_TOOL)}},t[Be.DARKEN_TOOL]),c.a.createElement("div",{className:"item__description"},"Darken tool")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("div",{className:"item__image dithering-action"}),c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return n(Be.DITHERING_TOOL)}},t[Be.DITHERING_TOOL]),c.a.createElement("div",{className:"item__description"},"Dithering tool")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("div",{className:"item__image choose-color-action"}),c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return n(Be.COLOR_PICKER_TOOL)}},t[Be.COLOR_PICKER_TOOL]),c.a.createElement("div",{className:"item__description"},"Color picker tool")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("div",{className:"item__image pen-action"}),c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return n(Be.FEATHER_PEN_TOOL)}},t[Be.FEATHER_PEN_TOOL]),c.a.createElement("div",{className:"item__description"},"Feather pen tool")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("div",{className:"item__image fill-rectangle-action"}),c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return n(Be.FILL_RECTANGLE_TOOL)}},t[Be.FILL_RECTANGLE_TOOL]),c.a.createElement("div",{className:"item__description"},"Fill rectangle tool")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("div",{className:"item__image triangle-action"}),c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return n(Be.DRAW_TRIANGLE_TOOL)}},t[Be.DRAW_TRIANGLE_TOOL]),c.a.createElement("div",{className:"item__description"},"Triangle tool"))),c.a.createElement("ul",{className:"keyboard-shortcuts"},c.a.createElement("li",null,"Misc shortcuts"),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return n(Be.PEN_SIZE_1)}},t[Be.PEN_SIZE_1]),c.a.createElement("div",{className:"item__description"},"Pen size x1")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return n(Be.PEN_SIZE_2)}},t[Be.PEN_SIZE_2]),c.a.createElement("div",{className:"item__description"},"Pen size x2")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return n(Be.PEN_SIZE_3)}},t[Be.PEN_SIZE_3]),c.a.createElement("div",{className:"item__description"},"Pen size x3")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return n(Be.PEN_SIZE_4)}},t[Be.PEN_SIZE_4]),c.a.createElement("div",{className:"item__description"},"Pen size x4")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return n(Be.ADD_NEW_FRAME)}},t[Be.ADD_NEW_FRAME]),c.a.createElement("div",{className:"item__description"},"Add a new frame")),c.a.createElement("li",{className:"keyboard-shortcuts__item next-block"},c.a.createElement("button",{className:"item__key-code arrow-up"}),c.a.createElement("div",{className:"item__description"},"Select previous frame")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("button",{className:"item__key-code arrow-down"}),c.a.createElement("div",{className:"item__description"},"Select next frame")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("button",{className:"item__key-code keys-combination"},"ctrl+q"),c.a.createElement("div",{className:"item__description"},"Delete frame")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("button",{className:"item__key-code keys-combination"},"ctrl+y"),c.a.createElement("div",{className:"item__description"},"Duplicate frame")),c.a.createElement("li",{className:"keyboard-shortcuts__item next-block"},c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return n(Be.CHANGE_COLORS)}},t[Be.CHANGE_COLORS]),c.a.createElement("div",{className:"item__description"},"Change colors"))),c.a.createElement("button",{className:"close-window",onClick:r},"X")))};n(71);var Ge=function(e){var t=e.x,n=e.y,a=e.isOverCanvas;return c.a.createElement("div",{className:"cursor-position ".concat(a?"":"cursor-position--hidden")},t," : ",n)};function Ye(e){var t=e.onMouseUp,n=Object(v.a)(e,["onMouseUp"]),c=Object(a.useState)(0),o=Object(_.a)(c,2),r=o[0],i=o[1],l=Object(a.useState)(0),s=Object(_.a)(l,2),u=s[0],m=s[1],d=Object(a.useContext)(te),E=Object(a.useRef)(!1),f=Object(a.useRef)(null),b=Object(a.useCallback)(function(){f.current=null,E.current=!1,t(d.toDataURL())},[t,d]),O=d.getContext("2d"),p=Object(a.useCallback)(function(e){E.current?requestAnimationFrame(function(){i(w(e,n.canvasScale).rectXBegin),m(w(e,n.canvasScale).rectYBegin),f.current&&(O.clearRect(0,0,d.width,d.height),O.putImageData(f.current,0,0));var t=function(e,t,a){isFinite(e)&&isFinite(t)&&function(e,t,a){O.strokeStyle=n.currentColor,O.fillStyle=n.currentColor;var c=j(e,t,n.canvasScale),o=c.rectXBegin,r=c.rectYBegin,i=O.getImageData(o,r,1,1).data;i[0]===a.r&&i[1]===a.g&&i[2]===a.b&&i[3]===a.a||O.fillRect(o,r,n.rectSize,n.rectSize)}(e,t,a)};O.strokeStyle=n.currentColor,O.fillStyle=n.currentColor;var a=n.x,c=n.y,o=r,l=u,s=R(n.currentColor);"number"===typeof a&&"number"===typeof c&&ve(a,c,o,l,function(e,n){t(e,n,s)})}):O.beginPath()},[n.canvasScale,n.currentColor,n.x,n.y,n.rectSize,O,r,u,d.width,d.height]),g=Object(a.useCallback)(function(e){E.current=!0,f.current=O.getImageData(0,0,d.width,d.height),i(w(e,n.canvasScale).rectXBegin),m(w(e,n.canvasScale).rectYBegin)},[d.height,d.width,O,n.canvasScale]);return Object(a.useEffect)(function(){return d?(d.addEventListener("mousemove",p),d.addEventListener("mousedown",g),document.addEventListener("mouseup",b),function(){d.removeEventListener("mousemove",p),d.removeEventListener("mousedown",g),document.removeEventListener("mouseup",b)}):Function.prototype},[d,p,b,g]),null}Ye.propTypes={onMouseDown:ce.a.func,currentColor:ce.a.string,canvasScale:ce.a.number,x:ce.a.number,y:ce.a.number,rectSize:ce.a.number};var Xe=Ye;n(72);var Ke,He=function(e){var t=e.onPNGExport,n=e.onPNGSetExport,o=e.onGIFExport,r=e.onResetClick,i=e.onAPNGExport,l=e.onLoadPiskel,s=e.onSave,u=Object(a.useRef)(!1);return c.a.createElement("div",{className:"result-export__wrapper"},c.a.createElement("button",{className:"result-export__button",title:"Export",onClick:function(){u.current=!u.current,u.current?(document.querySelector(".result-export__list").classList.add("result-export__list--active"),document.querySelector(".result-export__button").classList.add("result-export__button--active")):(document.querySelector(".result-export__list").classList.remove("result-export__list--active"),document.querySelector(".result-export__button").classList.remove("result-export__button--active"))}}),c.a.createElement("div",{className:"result-export__list"},c.a.createElement("button",{className:"result-export__item png",onClick:t,title:"Download active frame as a PNG file"}),c.a.createElement("button",{className:"result-export__item set-png",onClick:n,title:"Download all frames as PNG files"}),c.a.createElement("button",{className:"result-export__item gif",onClick:o,title:"Download as animated GIF"}),c.a.createElement("button",{className:"result-export__item apng",title:"Download as animated APNG",onClick:i}),c.a.createElement("button",{className:"result-export__item save",title:"Save as .piskel",onClick:s}),c.a.createElement("label",{htmlFor:"myFile"},c.a.createElement("input",{type:"file",id:"myFile",className:"result-export__item import",title:"Load .piskelclone",onChange:l})),c.a.createElement("button",{className:"result-export__item reset",title:"Reset all saves",onClick:r})))},Ze=n(19),qe=(n(73),function(e){var t=e.clientId,n=e.onLoginSuccess,a=e.onLoginFail,o=e.onLogout,r=e.user;return c.a.createElement("div",{className:"auth"},r&&c.a.createElement("span",{className:"auth__user"},c.a.createElement("img",{alt:"User's photo",className:"auth__user-photo",src:r.imageUrl}),c.a.createElement("span",{className:"auth__user-name"},r.name)),!r&&c.a.createElement(Ze.GoogleLogin,{clientId:t,buttonText:"Login",isSignedIn:!0,onSuccess:n,onFailure:a,cookiePolicy:"single_host_origin"}),r&&c.a.createElement(Ze.GoogleLogout,{clientId:t,buttonText:"Logout",onLogoutSuccess:o}))});function Ve(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var We=[32,64,128],Je=1,$e=function(){var e=Object(a.useState)({isPenSizeAction:!1,isDrawAction:!1,isChooseColorAction:!1,isColorPaletteAction:!1,isFillColorAction:!1,isDrawTriangleAction:!1,isEraseAction:!1,isPenAction:!1,isStrokeAction:!1,isDrawCircleAction:!1,isDrawRectangleAction:!1,isDrawFillRectangleAction:!1,isMirrorPenAction:!1,isLightenColorAction:!1,isDarkenColorAction:!1,isMoveAction:!1,isDitheringAction:!1,isAllPixelsSameColorAction:!1}),t=Object(_.a)(e,2),n=t[0],c=t[1];return{toggleToolAction:Object(a.useCallback)(function(e){var t=n[e],a=Object(v.a)(n,[e].map(Ve));Object.keys(a).forEach(function(e){a[e]=!1}),a[e]=!t,c(a)},[n]),toolAction:n}},Qe=function(){var e=Object(a.useState)({isPenSizeAction1:!1,isPenSizeAction:!1}),t=Object(_.a)(e,2),n=t[0],c=t[1];return{togglePenSizeAction:function(e){var t=n[e],a=Object(v.a)(n,[e].map(Ve));Object.keys(a).forEach(function(e){a[e]=!1}),a[e]=!t,c(a)},penSizeAction:n}},et=function(e,t){try{return JSON.parse(localStorage.getItem(e))||t}catch(n){return t}},tt=function(e,t){var n=et(e,{});n=Object(f.a)({},n,t),localStorage.setItem(e,JSON.stringify(n))},nt=(Ke={},Object(E.a)(Ke,Be.PEN_TOOL,"p"),Object(E.a)(Ke,Be.ERASER_TOOL,"e"),Object(E.a)(Ke,Be.COLOR_BUCKET_TOOL,"b"),Object(E.a)(Ke,Be.MAGIC_COLOR_BUCKET_TOOL,"a"),Object(E.a)(Ke,Be.COLOR_PICKER_TOOL,"o"),Object(E.a)(Ke,Be.RECTANGLE_TOOL,"r"),Object(E.a)(Ke,Be.CIRCLE_TOOL,"c"),Object(E.a)(Ke,Be.LIGHTEN_TOOL,"u"),Object(E.a)(Ke,Be.DARKEN_TOOL,"i"),Object(E.a)(Ke,Be.DITHERING_TOOL,"t"),Object(E.a)(Ke,Be.STROKE_TOOL,"l"),Object(E.a)(Ke,Be.MIRROR_PEN_TOOL,"v"),Object(E.a)(Ke,Be.MOVE_TOOL,"m"),Object(E.a)(Ke,Be.PEN_SIZE_1,"1"),Object(E.a)(Ke,Be.PEN_SIZE_2,"2"),Object(E.a)(Ke,Be.PEN_SIZE_3,"3"),Object(E.a)(Ke,Be.PEN_SIZE_4,"4"),Object(E.a)(Ke,Be.FEATHER_PEN_TOOL,"d"),Object(E.a)(Ke,Be.CHANGE_COLORS,"x"),Object(E.a)(Ke,Be.ADD_NEW_FRAME,"n"),Object(E.a)(Ke,Be.FILL_RECTANGLE_TOOL,"f"),Object(E.a)(Ke,Be.DRAW_TRIANGLE_TOOL,"h"),Ke),at=[{num:0}];var ct=function(){var e=Object(a.useState)(nt),t=Object(_.a)(e,2),n=t[0],o=t[1],r=Object(a.useState)(1),l=Object(_.a)(r,2),s=l[0],E=l[1],v=Object(a.useState)(at),b=Object(_.a)(v,2),p=b[0],C=b[1],h=ee(p),k=Object(a.useState)(0),y=Object(_.a)(k,2),L=y[0],N=y[1],j=ee(L),R=p.map(function(e){return e.num}),T={};R.forEach(function(e){T[e]=!0});var M=Object(a.useState)(T),D=Object(_.a)(M,2),x=D[0],P=D[1],I=$e(),F=I.toggleToolAction,z=I.toolAction,U=Qe(),G=U.togglePenSizeAction,K=U.penSizeAction,Z=Object(a.useState)(20),V=Object(_.a)(Z,2),W=V[0],te=V[1],ae=Object(a.useState)("#000000"),ce=Object(_.a)(ae,2),oe=ce[0],ie=ce[1],se=Object(a.useState)("#FFFFFF"),me=Object(_.a)(se,2),Ee=me[0],ve=me[1],_e=Object(a.useState)(32),Oe=Object(_.a)(_e,2),pe=Oe[0],ge=Oe[1],he=Object(a.useState)({rectXBegin:null,rectYBegin:null}),ke=Object(_.a)(he,2),Le=ke[0],Se=ke[1],Ae=Object(a.useState)({rectXBegin:0,rectYBegin:0}),Re=Object(_.a)(Ae,2),Me=Re[0],xe=Re[1],Ie=Object(a.useState)(S(640,pe)),Be=Object(_.a)(Ie,2),Ye=Be[0],Ke=Be[1],Ze=Object(a.useState)(!1),Ve=Object(_.a)(Ze,2),ct=Ve[0],ot=Ve[1],rt=Object(a.useState)(null),it=Object(_.a)(rt,2),lt=it[0],st=it[1],ut=Object(a.useCallback)(function(e){st(e.profileObj)},[]),mt=Object(a.useCallback)(function(){st(null)},[]),dt=Object(a.useCallback)(function(){C(at),P({0:!0}),N(0),te(20),G("isPenSizeAction1"),ge(32),F("isDrawAction"),localStorage.removeItem("appstate"),o(nt)},[G,F]),Et=Object(a.useCallback)(function(e){e.frames&&C(e.frames),e.framesForPreview&&P(e.framesForPreview),e.activeFrame&&N(e.activeFrame),e.penSize?(te(e.penSize),G("isPenSizeAction".concat(e.penSize/Ye))):G("isPenSizeAction".concat(e.penSize/Ye)),e.canvasScale&&ge(e.canvasScale),e.activeToolAction&&F(e.activeToolAction),e.keyboardMap&&o(e.keyboardMap)},[Ye,G,F]);Object(a.useEffect)(function(){var e=et("appstate",{});Et(e)},[]);var ft=Object(a.useCallback)(function(e){var t=window.prompt("Type a new key"),a=Object.values(n),c=Object(f.a)({},n);if(-1!==a.indexOf(t)){var r=window.confirm("This key has already established. Change it anyway?"),i=Object.keys(n).find(function(e){return n[e]===t});r&&(c[i]="?",c[e]=t)}else c[e]=t;o(c)},[n]),vt=Object(a.useCallback)(function(){var e=Object.keys(z).find(function(e){return z[e]});tt("appstate",{frames:p,framesForPreview:x,activeFrame:L,penSize:W,canvasScale:pe,activeToolAction:e,keyboardMap:n})},[L,pe,p,x,n,W,z]);Object(a.useEffect)(function(){return window.addEventListener("beforeunload",vt),function(){return window.removeEventListener("beforeunload",vt)}},[vt]);var _t=Object(a.useCallback)(function(e){return C(e)},[]),bt=Object(a.useCallback)(function(){var e=p.length,t=p.slice();t.push({num:e}),C(t),N(e);var n=Object.assign({},x);n[e]=!0,P(n)},[p,x]),Ot=Object(a.useCallback)(function(e){var t=Object(d.a)(p);if(t.splice(e,1),0===(t=t.map(function(e,t){return Object(f.a)({},e,{num:t})})).length&&t.push({num:0}),x[e]){var n=Object.assign({},x);delete n[e],Object.keys(n).forEach(function(t){t>e&&(n[t-1]=n[t],delete n[t])}),C(t),P(n),N(L-1)}},[L,p,x]),pt=Object(a.useCallback)(function(e){var t=Object(d.a)(p);t.splice(e,0,t[e]),t=t.map(function(e,t){return Object(f.a)({},e,{num:t})});var n=Object.assign({},x);Object.keys(n).forEach(function(t){t>e&&(n[+t+1]=n[+t+2],n[+t+1]=!0)}),n[e+1]=!0,C(t),N(e+1),P(n)},[p,x]),gt=Object(a.useCallback)(function(e){var t=Object.assign({},x);t[e]?delete t[e]:t[e]=!0,P(t)},[x]),Ct=Object(a.useCallback)(function(){var e=oe;ie(Ee),ve(e)},[oe,Ee]);Object(a.useEffect)(function(){var e=function(e){e.key===n.PEN_SIZE_1&&(G("isPenSizeAction1"),te(Ye)),e.key===n.PEN_SIZE_2&&(G("isPenSizeAction2"),te(2*Ye)),e.key===n.PEN_SIZE_3&&(G("isPenSizeAction3"),te(3*Ye)),e.key===n.PEN_SIZE_4&&(G("isPenSizeAction4"),te(4*Ye)),e.key===n.PEN_TOOL&&F("isDrawAction"),e.key===n.MIRROR_PEN_TOOL&&F("isMirrorPenAction"),e.key===n.ERASER_TOOL&&F("isEraseAction"),e.key===n.COLOR_BUCKET_TOOL&&F("isFillColorAction"),e.key===n.MAGIC_COLOR_BUCKET_TOOL&&F("isAllPixelsSameColorAction"),e.key===n.STROKE_TOOL&&F("isStrokeAction"),e.key===n.RECTANGLE_TOOL&&F("isDrawRectangleAction"),e.key===n.CIRCLE_TOOL&&F("isDrawCircleAction"),e.key===n.MOVE_TOOL&&F("isMoveAction"),e.key===n.LIGHTEN_TOOL&&F("isLightenColorAction"),e.key===n.DARKEN_TOOL&&F("isDarkenColorAction"),e.key===n.DITHERING_TOOL&&F("isDitheringAction"),e.key===n.COLOR_PICKER_TOOL&&F("isChooseColorAction"),e.key===n.FEATHER_PEN_TOOL&&F("isPenAction"),e.key===n.ADD_NEW_FRAME&&bt(),"q"===e.key&&e.ctrlKey&&Ot(L),"y"===e.key&&e.ctrlKey&&pt(L),"ArrowUp"===e.key&&L>=1&&N(L-1),"ArrowDown"===e.key&&L<p.length-1&&N(L+1),e.key===n.CHANGE_COLORS&&Ct(),e.key===n.FILL_RECTANGLE_TOOL&&F("isDrawFillRectangleAction"),e.key===n.DRAW_TRIANGLE_TOOL&&F("isDrawTriangleAction")};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}},[L,bt,Ct,Ot,pt,p.length,n,Ye,G,F]);var ht=function(e){var t=p.slice();t[L]=Object(f.a)({},t[L],{image:e}),C(t)},kt=Object(a.useCallback)(function(e){var t=p.slice();t[L]=Object(f.a)({},t[L],{image:e}),C(t)},[L,p]),yt=Object(a.useCallback)(function(e){var t=e.target.files[0],n=new FileReader;n.onload=function(e){try{var t=JSON.parse(decodeURIComponent(e.target.result)),n=t.appVersion,a=t.piskel;if(n!==Je)return void alert("Incompatible files version");Et(a)}catch(c){alert("Failed to load file")}},n.readAsText(t)},[Et]),Lt=Object(a.useCallback)(function(){var e={appVersion:Je,piskel:{activeFrame:L,canvasScale:pe,frames:p,framesForPreview:x,keyboardMap:n}};X(JSON.stringify(e),"new_file_".concat(Date.now(),".piskelclone"))},[L,pe,p,x,n]);return c.a.createElement("div",{className:"wrapper"},c.a.createElement("header",null,c.a.createElement(qe,{clientId:"401315303224-6m1l57e8u2i7dj8qhbqqm1jo5psroloe.apps.googleusercontent.com",onLoginSuccess:ut,onLoginFail:function(){return alert("Can't login")},onLogout:mt,user:lt}),c.a.createElement(i.b,{className:"link-to-landing-page",to:"/"},c.a.createElement("span",null,"PISKEL CLONE"))),c.a.createElement("main",null,c.a.createElement("aside",{className:"sidebar-left"},c.a.createElement(q,{active:K,onPenSizeAction:function(e){G("isPenSizeAction".concat(e.target.getAttribute("data-size"))),te(Ye*+e.target.getAttribute("data-size"))}}),c.a.createElement(J,{active:z,onDrawAction:function(){F("isDrawAction")},onFillColorAction:function(){F("isFillColorAction")},onDrawTriangleAction:function(){F("isDrawTriangleAction")},onEraseAction:function(){F("isEraseAction")},onStrokeAction:function(){F("isStrokeAction")},onChooseColorAction:function(){F("isChooseColorAction")},onDrawCircleAction:function(){F("isDrawCircleAction")},onDrawRectangleAction:function(){F("isDrawRectangleAction")},onDrawFillRectangleAction:function(){F("isDrawFillRectangleAction")},onMirrorPenAction:function(){F("isMirrorPenAction")},onLightenColorAction:function(){F("isLightenColorAction")},onDarkenColorAction:function(){F("isDarkenColorAction")},onMoveAction:function(){F("isMoveAction")},onDitheringAction:function(){F("isDitheringAction")},onPenAction:function(){F("isPenAction")},onAllPixelsSameColorAction:function(){F("isAllPixelsSameColorAction")},onPrimaryColorChange:function(e){return ie(e.target.value)},onSecondaryColorChange:function(e){return ve(e.target.value)},onColorChange:Ct,primaryColor:oe,secondaryColor:Ee}),c.a.createElement(H,{activeFrame:L,checkedFrames:x,frames:p,onAddFrame:bt,onDelete:Ot,onDouble:pt,onChange:_t,onFrameClick:function(e){return N(e)},onNumClick:gt}),c.a.createElement(Ue,{onChange:ft,keyboardMap:n})),c.a.createElement("div",{className:"content"},c.a.createElement("div",{className:"top-canvas"},p[L]&&c.a.createElement(ne,{clearImage:j!==L||p[L].image!==h[j].image,width:640,height:640,active:z,imgSrc:p[L].image,name:"top-canvas",onChange:kt,onMouseDown:function(e){var t=w(e,pe);Se(t),xe(t)},onMouseMove:function(e){xe(w(e,pe))},onMouseEnter:function(){ot(!0)},onMouseLeave:function(){ot(!1)},scale:1/(pe/32)},z.isDrawAction&&c.a.createElement(le,{onMouseUp:ht,primaryColor:oe,secondaryColor:Ee,x:Me.rectXBegin,y:Me.rectYBegin,width:W,height:W}),z.isEraseAction&&c.a.createElement(ue,{onMouseUp:ht,x:Me.rectXBegin,y:Me.rectYBegin,width:W,height:W}),z.isStrokeAction&&c.a.createElement(Xe,{onMouseUp:ht,currentColor:oe,canvasScale:pe,x:Le.rectXBegin,y:Le.rectYBegin,rectSize:W}),z.isDrawCircleAction&&c.a.createElement(Ce,{onMouseUp:ht,currentColor:oe,canvasScale:pe,x:Le.rectXBegin,y:Le.rectYBegin,rectSize:W}),z.isDrawRectangleAction&&c.a.createElement(ye,{onMouseUp:ht,currentColor:oe,canvasScale:pe,x:Le.rectXBegin,y:Le.rectYBegin,rectSize:W}),z.isDrawFillRectangleAction&&c.a.createElement(Ne,{onMouseUp:ht,primaryColor:oe,secondaryColor:Ee,canvasScale:pe,x:Le.rectXBegin,y:Le.rectYBegin,rectSize:W}),z.isMirrorPenAction&&c.a.createElement(je,{onMouseUp:ht,currentColor:oe,x:Me.rectXBegin,y:Me.rectYBegin,width:W,height:W}),z.isPenAction&&c.a.createElement(re,{onMouseUp:ht,penSize:W,currentColor:oe}),z.isFillColorAction&&c.a.createElement(fe,{onMouseUp:ht,currentColor:oe}),z.isDrawTriangleAction&&c.a.createElement(be,{onMouseUp:ht,currentColor:oe,canvasScale:pe,x:Le.rectXBegin,y:Le.rectYBegin,rectSize:W}),z.isChooseColorAction&&c.a.createElement(we,{onMouseUp:function(e){return ie(e)}}),z.isLightenColorAction&&c.a.createElement(Te,{onMouseUp:ht,canvasScale:pe,penSize:W}),z.isDarkenColorAction&&c.a.createElement(De,{onMouseUp:ht,canvasScale:pe,penSize:W}),z.isMoveAction&&c.a.createElement(Pe,{onMouseUp:ht,image:p[L].image}),z.isDitheringAction&&c.a.createElement(Fe,{onMouseUp:ht,primaryColor:oe,secondaryColor:Ee,image:p[L].image,x:Me.rectXBegin,y:Me.rectYBegin,penSize:W,column:A(Me.rectXBegin,Me.rectYBegin,pe).column,row:A(Me.rectXBegin,Me.rectYBegin,pe).row}),z.isAllPixelsSameColorAction&&c.a.createElement(de,{onMouseUp:ht,currentColor:oe})))),c.a.createElement("aside",{className:"sidebar-right"},c.a.createElement($,{frames:p.filter(function(e){return x[e.num]}),framesPerSecond:s,onFullScreenShow:function(e){return e.requestFullscreen()}}),c.a.createElement(Q,{onChange:function(e){return E(e)}}),c.a.createElement(He,{onPNGExport:function(){var e=document.createElement("a");e.setAttribute("href",p[L].image),e.setAttribute("download","canvasImage"),e.click()},onPNGSetExport:function(){var e=p.filter(function(e){return x[e.num]}).map(function(e){return e.image}),t=document.createElement("a");e.forEach(function(e){t.setAttribute("href",e),t.setAttribute("download","canvasImage"),t.click()})},onGIFExport:Object(m.a)(u.a.mark(function e(){var t,n,a,c;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.filter(function(e){return x[e.num]}).map(function(e){return e.image}),n=new O.a({width:640,height:640}),(a=document.createElement("canvas")).width=640,a.height=640,(c=a.getContext("2d")).fillStyle="#fff",e.next=9,B(t);case 9:e.sent.forEach(function(e){c.fillRect(0,0,640,640),c.drawImage(e,0,0),n.addFrame(c,{copy:!0,delay:1e3/s})}),n.on("finished",function(e){Y(URL.createObjectURL(e),"New Piskel")}),n.render();case 13:case"end":return e.stop()}},e)})),onAPNGExport:Object(m.a)(u.a.mark(function e(){var t,n,a,c,o,r,i,l;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.filter(function(e){return x[e.num]}).map(function(e){return e.image}),(n=document.createElement("canvas")).width=640,n.height=640,(a=n.getContext("2d")).fillStyle="#fff",e.next=8,B(t);case 8:c=e.sent,o=c.map(function(e){return a.fillRect(0,0,640,640),a.drawImage(e,0,0),a.getImageData(0,0,640,640).data.buffer}),r=g.a.encode(o,640,640,0,o.map(function(){return 1e3/s})),i=new Blob([r],{type:"image/png"}),l=URL.createObjectURL(i),Y(l,"Piskel.png");case 14:case"end":return e.stop()}},e)})),onLoadPiskel:yt,onResetClick:dt,onSave:Lt}),c.a.createElement(ze,{onChange:function(e){var t=+e.target.value,n=t/pe;ge(t),Ke(S(640,t)),te(W/n)},options:We,value:pe}),c.a.createElement(Ge,{isOverCanvas:ct,x:A(Me.rectXBegin,Me.rectYBegin,pe).column+1,y:Math.min(A(Me.rectXBegin,Me.rectYBegin,pe).row+1,pe)}))))},ot=(n(76),n(35)),rt=n.n(ot),it=n(36),lt=n.n(it),st=n(37),ut=n.n(st),mt=n(38),dt=n.n(mt);var Et=function(){return c.a.createElement("div",{className:"landing-page__wrapper"},c.a.createElement("header",null,c.a.createElement("h1",null,"PISKEL CLONE")),c.a.createElement("main",{className:"container"},c.a.createElement("div",{className:"screenshot__wrapper"},c.a.createElement("img",{className:"screenshot",src:rt.a,alt:"piskel clone"}),c.a.createElement("div",{className:"screenshot__description"},"PISKEL CLONE is an editor for animated sprites and pixel art"),c.a.createElement("button",{className:"link-to-editor"},c.a.createElement(i.b,{to:"/draw"},"Create Sprite"))),c.a.createElement("div",{className:"animation__wrapper"},c.a.createElement("h3",{className:"animation__title"},"EXAMPLE SPRITES"),c.a.createElement("div",{className:"animation__example-wrapper"},c.a.createElement("div",{className:"animation__example animation__example-1"},c.a.createElement("img",{src:lt.a,alt:"animation example"})),c.a.createElement("div",{className:"animation__example animation__example-2"},c.a.createElement("img",{src:ut.a,alt:"animation example"})),c.a.createElement("div",{className:"animation__example animation__example-3"},c.a.createElement("img",{src:dt.a,alt:"animation example"})))),c.a.createElement("div",{className:"functionality"},c.a.createElement("ul",{className:"functionality__list"},c.a.createElement("li",{className:"functionality__header"},c.a.createElement("span",null,"TOOLS")),c.a.createElement("li",null,"Pen"),c.a.createElement("li",null,"Eraser"),c.a.createElement("li",null,"Full color bucket"),c.a.createElement("li",null,"Paint all pixels at the same color"),c.a.createElement("li",null,"Line"),c.a.createElement("li",null,"Ellipse (hold SHIFT to draw circle)"),c.a.createElement("li",null,"Rectangle"),c.a.createElement("li",null,"Filled rectangle"),c.a.createElement("li",null,"Lighten color"),c.a.createElement("li",null,"Darken color"),c.a.createElement("li",null,"Dithering"),c.a.createElement("li",null,"Vertical mirror pen (hold SHIFT to use horizontal mirror pen)"),c.a.createElement("li",null,"Color picker"),c.a.createElement("li",null,"Feather pen"),c.a.createElement("li",null,"Changing primary and secondary colors")),c.a.createElement("ul",{className:"functionality__list"},c.a.createElement("li",{className:"functionality__header"},c.a.createElement("span",null,"FRAME MANAGEMENT")),c.a.createElement("li",null,"Ability to add/delete a frame"),c.a.createElement("li",null,"Ability to reorder a frame via Drag and Drop"),c.a.createElement("li",null,"Ability to duplicate a frame"),c.a.createElement("li",{className:"functionality__header"},c.a.createElement("span",null,"KEYBOARD SHORTCUTS")),c.a.createElement("li",null,"All actions are available via keyboard shortcuts"),c.a.createElement("li",null,"Modal window to change keyboard shortcuts"),c.a.createElement("li",{className:"functionality__header"},c.a.createElement("span",null,"PREVIEW")),c.a.createElement("li",null,"Full screen mode"),c.a.createElement("li",{className:"functionality__header"},c.a.createElement("span",null,"EXPORT")),c.a.createElement("li",null,"Single frame as .png"),c.a.createElement("li",null,"One by one frames as .png"),c.a.createElement("li",null,"Result as .gif"),c.a.createElement("li",null,"Result as .apng"),c.a.createElement("li",{className:"functionality__header"},c.a.createElement("span",null,"SAVING")),c.a.createElement("li",null,"Saving user session in localstorage")))),c.a.createElement("footer",null,c.a.createElement("div",{className:"author__info"},"Developed by ",c.a.createElement("a",{href:"https://github.com/alexalizurchik"},"Aleksandrina Lizurchik"))))},ft=function(){return c.a.createElement(i.a,{basename:"/piskel-clone-site"},c.a.createElement(l.a,{path:"/",exact:!0,component:Et}),c.a.createElement(l.a,{path:"/draw",exact:!0,component:ct}))};r.a.render(c.a.createElement(ft,null),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.abc4a035.chunk.js.map