(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,t,n){e.exports=n.p+"static/media/screenshot.c4fe95d6.png"},35:function(e,t,n){e.exports=n.p+"static/media/man.1cb9bd25.gif"},36:function(e,t,n){e.exports=n.p+"static/media/smile.b441c2a8.gif"},37:function(e,t,n){e.exports=n.p+"static/media/sun.43de2d59.gif"},38:function(e,t,n){e.exports=n(73)},43:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(29),r=n.n(o),i=(n(43),n(13)),l=n(12),s=n(15),u=n.n(s),m=n(18),d=n(14),E=n(3),f=n(7),v=n(4),_=n(2),b=n(30),O=n.n(b),p=n(31),g=n.n(p);n(55),n(56);function C(e){var t=e.active,n=e.checked,o=e.moving,r=e.hasDeleteButton,i=e.onClick,l=e.onDelete,s=e.onDouble,u=e.onNumClick,m=e.num,d=e.image,E=e.onMouseDown,f=Object(a.useCallback)(function(){i(m)},[i,m]);return c.a.createElement("div",{className:"frame ".concat(t?"frame--active":""," ").concat(o?"frame--moving":""),onMouseDown:function(e){E(m,e)},onClick:f},d&&c.a.createElement("img",{alt:"pic",className:"frame__img",src:d}),c.a.createElement("button",{onClick:function(e){e.stopPropagation(),l(m,e)},onMouseDown:function(e){return e.stopPropagation()},className:"delete-action ".concat(r?"":"delete-action--hidden"),title:"Delete this frame"}),c.a.createElement("button",{onClick:function(e){e.stopPropagation(),s(m,e)},onMouseDown:function(e){return e.stopPropagation()},className:"copy-action",title:"Duplicate this frame"}),c.a.createElement("button",{onClick:function(e){e.stopPropagation(),u(m,e)},onMouseDown:function(e){return e.stopPropagation()},className:"add-to-animation-action ".concat(n?"":"add-to-animation-action--inactive"),title:"Toggle for preview"},m+1))}C.defaultProps={active:!1,checked:!1,moving:!1,hasDeleteButton:!0};var h=C,k=(n(57),function(e,t){var n=e.getBoundingClientRect(),a=n.top-e.offsetTop;return t-n.y+a}),L=function(e,t){return Math.round((e.clientY-k(t,e.clientY))/t.clientHeight)},y=function(e,t){return Math.floor(e/t)},N=function(e,t,n){var a=y(640,n);return{rectXBegin:Math.floor(e/a)*a,rectYBegin:Math.floor(t/a)*a}},S=function(e,t,n){var a=y(640,n);return{column:Math.floor(e/a),row:Math.floor(t/a)}},j=function(e,t){var n,a=(n=e.target,e.clientY-n.getBoundingClientRect().y),c=function(e){var t=e.target.getBoundingClientRect();return e.clientX-t.x}(e);return N(c,a,t)},A=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16),a:255}:null},R=function(e){return"#".concat("000000".concat((e.r<<16|e.g<<8|e.b).toString(16)).slice(-6))},w=function(e,t,n,a,c,o,r){var i=[[e,t]];function l(e){var t=c.data[e],n=c.data[e+1],a=c.data[e+2],r=c.data[e+3];return t===o.r&&n===o.g&&a===o.b&&r===o.a}function s(e){c.data[e]=r.r,c.data[e+1]=r.g,c.data[e+2]=r.b,c.data[e+3]=r.a}for(;i.length;){for(var u=void 0,m=void 0,d=i.pop(),E=d[0],f=d[1],v=4*(f*n+E);f-- >=0&&l(v);)v-=4*n;for(v+=4*n,f+=1,u=!1,m=!1;f++<a-1&&l(v);)s(v),E>0&&(l(v-4)?u||(i.push([E-1,f]),u=!0):u&&(u=!1)),E<n-1&&(l(v+4)?m||(i.push([E+1,f]),m=!0):m&&(m=!1)),v+=4*n}},T=function(e,t,n,a){var c=e+Math.floor((n-e)/2),o=t+Math.floor((a-t)/2);return e===n&&(c=e),t===a&&(o=t),Math.floor(Math.sqrt((n-c)*(n-c)+(a-o)*(a-o)))},M=function(e,t,n,a){var c=e+Math.floor((n-e)/2),o=t+Math.floor((a-t)/2);return e===n&&(c=e),t===a&&(o=t),{x:c,y:o}},x=function(e,t){return Math.floor(Math.abs(e-t)/2)},P=function(e,t){return Math.floor(Math.abs(e-t)/2)},D=function(e,t,n){return Math.min(Math.max(e,t),n)},F=function(e,t){var n=new Image;return n.src=e,n.addEventListener("load",t),n},I=function(e){return Promise.all(e.map(function(e){return new Promise(function(t){return F(e,function(e){return t(e.target)})})}))},z=function(e){return e%2===0},B=function(e){return!z(e)},U=function(e,t){var n=document.createElement("a");n.setAttribute("href",e),n.setAttribute("download",t),n.click()},G=function(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,".concat(encodeURIComponent(e))),n.setAttribute("download",t),n.click()};function X(e){var t=e.activeFrame,n=e.checkedFrames,o=e.onDelete,r=e.onDouble,i=e.frames,l=e.onAddFrame,s=e.onChange,u=e.onFrameClick,m=e.onNumClick,E=Object(a.useState)(i),v=Object(_.a)(E,2),b=v[0],O=v[1],p=Object(a.useRef)(null),g=Object(a.useRef)(null),C=Object(a.useRef)(null),y=Object(a.useRef)(-1),N=Object(a.useCallback)(function(e){if(null!==g.current&&(0!==e.movementY||0!==e.movementX)){if(!C.current){var t=e.target.cloneNode(!0);C.current=t,e.target.parentElement.appendChild(t),t.style.position="absolute",t.style.zIndex="10"}if(C.current.style.top="".concat(e.clientY-g.current,"px"),y.current=L(e,C.current),!b[y.current]||!b[y.current].moving){y.current=D(y.current,0,b.length-1);var n=b.map(function(e){return Object(f.a)({},e,{moving:!1})});n[y.current]=Object(f.a)({},n[y.current],{moving:!0}),O(n)}}},[b]);Object(a.useEffect)(function(){return document.addEventListener("mousemove",N),function(){return document.removeEventListener("mousemove",N)}},[N]);var S=Object(a.useCallback)(function(e,t){g.current=k(t.target,t.clientY),p.current=e},[]),j=Object(a.useCallback)(function(){if(!C.current)return g.current=null,void(p.current=null);var e=Object(d.a)(b),t=e[p.current],n=e[y.current];e[y.current]=Object(f.a)({},t,{moving:!1}),e[p.current]=Object(f.a)({},n,{moving:!1}),e=e.map(function(e,t){return Object(f.a)({},e,{num:t})}),C.current.parentElement.removeChild(C.current),s(e),g.current=null,p.current=null,C.current=null,y.current=-1},[b,s]);Object(a.useEffect)(function(){return document.addEventListener("mouseup",j),function(){return document.removeEventListener("mouseup",j)}},[j]),Object(a.useEffect)(function(){O(i)},[i]);var A=b.length>1;return c.a.createElement("div",{className:"frame-list-wrapper"},c.a.createElement("div",{className:"frame-list"},b.map(function(e){return c.a.createElement(h,{active:t===e.num,checked:n[e.num],key:e.num,num:e.num,hasDeleteButton:A,moving:e.moving,image:e.image,onClick:u,onNumClick:m,onDelete:o,onDouble:r,onMouseDown:S})}),c.a.createElement("button",{className:"add-frame-button",onClick:l},"Add a new frame")))}X.defaultProps={};var Y=X;n(58);function K(e){var t=e.active,n=e.onPenSizeAction;return c.a.createElement("div",{className:"pen-size",onClick:n,title:"Pen size from 1 to 4 pixels"},c.a.createElement("div",{className:"pen-size__item pen-size__itemS ".concat(t.isPenSizeAction1?"pen-size__item--active":""," ")},c.a.createElement("div",{"data-size":"1"})),c.a.createElement("div",{className:"pen-size__item pen-size__itemM ".concat(t.isPenSizeAction2?"pen-size__item--active":""," ")},c.a.createElement("div",{"data-size":"2"})),c.a.createElement("div",{className:"pen-size__item pen-size__itemL ".concat(t.isPenSizeAction3?"pen-size__item--active":""," ")},c.a.createElement("div",{"data-size":"3"})),c.a.createElement("div",{className:"pen-size__item pen-size__itemXL ".concat(t.isPenSizeAction4?"pen-size__item--active":""," ")},c.a.createElement("div",{"data-size":"4"})))}K.defaultProps={active:!1};var H=K;n(59);var Z=function(e){return c.a.createElement("input",Object.assign({className:"color-palette",type:"color"},e))};n(60);function q(e){var t=e.active,n=e.onDrawAction,a=e.onFillColorAction,o=e.onFullFillColorAction,r=e.onEraseAction,i=e.onStrokeAction,l=e.onChooseColorAction,s=e.onDrawCircleAction,u=e.onDrawRectangleAction,m=e.onDrawFillRectangleAction,d=e.onMirrorPenAction,E=e.onAllPixelsSameColorAction,f=e.onPenAction,v=e.onLightenColorAction,_=e.onDarkenColorAction,b=e.onMoveAction,O=e.onDitheringAction,p=e.onPrimaryColorChange,g=e.onSecondaryColorChange,C=e.onColorChange,h=e.primaryColor,k=e.secondaryColor;return c.a.createElement("div",{className:"tools-wrapper"},c.a.createElement("ul",{className:"tools"},c.a.createElement("li",null,c.a.createElement("div",{className:"tools__item ".concat(t.isDrawAction?"tools__item--active":"")},c.a.createElement("button",{className:"draw-action",onClick:n,title:"Pen tool (P)"})),c.a.createElement("div",{className:"tools__item ".concat(t.isEraseAction?"tools__item--active":"")},c.a.createElement("button",{className:"erase-action",onClick:r,title:"Eraser tool (E)"}))),c.a.createElement("li",null,c.a.createElement("div",{className:"tools__item ".concat(t.isFillColorAction?"tools__item--active":"")},c.a.createElement("button",{className:"fill-color-action",onClick:a,title:"Paint bucket tool (B)"})),c.a.createElement("div",{className:"tools__item ".concat(t.isAllPixelsSameColorAction?"tools__item--active":"")},c.a.createElement("button",{className:"fill-pixels-same-color-action",onClick:E,title:"Paint all pixels at the same color (A)"}))),c.a.createElement("li",null,c.a.createElement("div",{className:"tools__item ".concat(t.isStrokeAction?"tools__item--active":"")},c.a.createElement("button",{className:"stroke-action",onClick:i,title:"Stroke tool (L)"})),c.a.createElement("div",{className:"tools__item ".concat(t.isPenAction?"tools__item--active":"")},c.a.createElement("button",{className:"pen-action",onClick:f,title:"Feather pen tool (D)"}))),c.a.createElement("li",null,c.a.createElement("div",{className:"tools__item ".concat(t.isDrawRectangleAction?"tools__item--active":"")},c.a.createElement("button",{className:"rectangle-action",onClick:u,title:"Rectangle tool (R)"})),c.a.createElement("div",{className:"tools__item ".concat(t.isDrawCircleAction?"tools__item--active":"")},c.a.createElement("button",{className:"circle-action",onClick:s,title:"Circle tool (C). Keep SHIFT for 1 to 1 ratio"}))),c.a.createElement("li",null,c.a.createElement("div",{className:"tools__item ".concat(t.isDrawFillRectangleAction?"tools__item--active":"")},c.a.createElement("button",{className:"fill-rectangle-action",onClick:m,title:"Fill rectangle tool (F)"})),c.a.createElement("div",{className:"tools__item ".concat(t.isFullFillColorAction?"tools__item--active":"")},c.a.createElement("button",{className:"full-fill-color-action",onClick:o,title:"Fill the whole canvas (H)"}))),c.a.createElement("li",null,c.a.createElement("div",{className:"tools__item ".concat(t.isLightenColorAction?"tools__item--active":"")},c.a.createElement("button",{className:"lighten-action",onClick:v,title:"Lighten tool (U)"})),c.a.createElement("div",{className:"tools__item ".concat(t.isDarkenColorAction?"tools__item--active":"")},c.a.createElement("button",{className:"darken-action",onClick:_,title:"Darken tool (I)"}))),c.a.createElement("li",null,c.a.createElement("div",{className:"tools__item ".concat(t.isMoveAction?"tools__item--active":"")},c.a.createElement("button",{className:"move-action",onClick:b,title:"Move tool (M)"})),c.a.createElement("div",{className:"tools__item ".concat(t.isChooseColorAction?"tools__item--active":"")},c.a.createElement("button",{className:"choose-color-action",onClick:l,title:"Color picker (O)"}))),c.a.createElement("li",null,c.a.createElement("div",{className:"tools__item ".concat(t.isDitheringAction?"tools__item--active":"")},c.a.createElement("button",{className:"dithering-action",onClick:O,title:"Dithering tool (T)"})),c.a.createElement("div",{className:"tools__item ".concat(t.isMirrorPenAction?"tools__item--active":"")},c.a.createElement("button",{className:"mirror-action",onClick:d,title:"Vertical mirror tool (V). Keep SHIFT to use horizontal axis"})))),c.a.createElement("div",{className:"color-palette-wrapper"},c.a.createElement("div",{className:"color-palette__primary"},c.a.createElement(Z,{onChange:p,value:h,title:"Primary color"})),c.a.createElement("div",{className:"color-palette__secondary"},c.a.createElement(Z,{onChange:g,value:k,title:"Secondary color"})),c.a.createElement("button",{className:"color-change",onClick:C,title:"Swap colors (X)"})))}q.defaultProps={active:!1};var V=q;n(61);var W=function(e){var t=e.frames,n=e.framesPerSecond,o=e.onFullScreenShow,r=Object(a.useState)(0),i=Object(_.a)(r,2),l=i[0],s=i[1],u=t[l],m=Object(a.useRef)(null);return Object(a.useEffect)(function(){var e=setTimeout(function(){var e=l<t.length-1?l+1:0;s(e)},1e3/n);return function(){return clearTimeout(e)}},[n,l,t]),c.a.createElement("div",{className:"fullscreen-preview",ref:m},c.a.createElement("div",{className:"preview"},u&&u.image?c.a.createElement("img",{className:"frame__img-active",src:u.image,alt:"Frame"}):c.a.createElement("div",{className:"emptyFrame"}),c.a.createElement("button",{onClick:function(e){return o(m.current,e)},onMouseOver:function(){return c.a.createElement("span",{className:"tooltip"},"Full screen preview")},className:"full-screen-action",title:"Full screen preview"})))};n(62);var J=function(e){var t=e.onChange,n=Object(a.useState)(1),o=Object(_.a)(n,2),r=o[0],i=o[1];return c.a.createElement("div",{className:"FPS-wrapper"},c.a.createElement("span",null,r," FPS"),c.a.createElement("input",{type:"range",name:"speed",min:1,max:24,defaultValue:1,onChange:function(e){i(+e.target.value),t(r)}}))};n(63);var $=function(e){var t=Object(a.useRef)(null);return Object(a.useEffect)(function(){t.current=e},[e]),t.current},Q=c.a.createContext(null);var ee=function(e){var t=e.active,n=e.children,o=e.className,r=e.clearImage,i=e.imgSrc,l=e.onChange,s=e.onMouseDown,u=e.onMouseMove,m=e.width,d=e.height,E=e.onMouseEnter,f=e.onMouseLeave,v=e.scale,_=Object(a.useRef)(null),b=$(v),O=Object(a.useCallback)(function(){return _.current.getContext("2d").clearRect(0,0,m,d)},[d,m]);return Object(a.useEffect)(function(){var e=function(e){O();var t=e.target,n=_.current.getContext("2d");if(r&&O(),v!==b){var a=n.imageSmoothingEnabled,c=v/b;O(),n.imageSmoothingEnabled=!1,n.drawImage(t,0,0,t.width*c,t.height*c),n.imageSmoothingEnabled=a}else n.drawImage(t,0,0);var o=_.current.toDataURL();i!==o&&l(o)};if(i){var t=F(i,e);return function(){return t.removeEventListener("load",e)}}r&&O()},[O,r,d,i,l,b,v,m]),c.a.createElement("canvas",{className:"canvas\n        ".concat(o,"\n        ").concat(t.isEraseAction?"canvas__erase":"","\n        ").concat(t.isDrawAction?"canvas__draw":"","\n        ").concat(t.isChooseColorAction?"canvas__picker":"","\n        ").concat(t.isFillColorAction?"canvas__fill-color":"","\n        ").concat(t.isMoveAction?"canvas__move":"","\n        "),ref:_,width:"".concat(m,"px"),height:"".concat(d,"px"),onMouseDown:s,onMouseMove:u,onMouseEnter:E,onMouseLeave:f},c.a.createElement(Q.Provider,{value:_.current},n))},te=n(1),ne=n.n(te);function ae(e){var t=e.onMouseUp,n=Object(v.a)(e,["onMouseUp"]),c=Object(a.useContext)(Q),o=Object(a.useRef)(!1),r=Object(a.useCallback)(function(){o.current&&(t(c.toDataURL()),o.current=!o.current)},[t,c]),i=Object(a.useCallback)(function(e){var t=c.getContext("2d"),a=c.getBoundingClientRect(),r=e.clientX-a.left,i=e.clientY-a.top;o.current?(t.lineWidth=n.penSize/8,t.lineTo(r,i),t.strokeStyle=n.currentColor,t.stroke(),t.beginPath(),t.arc(r,i,n.penSize/16,0,2*Math.PI),t.fillStyle=n.currentColor,t.fill(),t.beginPath(),t.moveTo(r,i)):t.beginPath()},[c,n.penSize,n.currentColor]),l=Object(a.useCallback)(function(e){o.current=!o.current,i(e)},[i]);return Object(a.useEffect)(function(){return c?(c.addEventListener("mousemove",i),c.addEventListener("mousedown",l),document.addEventListener("mouseup",r),function(){c.removeEventListener("mousemove",i),c.removeEventListener("mousedown",l),document.removeEventListener("mouseup",r)}):Function.prototype},[c,i,r,l]),null}ae.propTypes={penSize:ne.a.number,onMouseDown:ne.a.func,currentColor:ne.a.string};var ce=ae;function oe(e){var t=e.onMouseUp,n=Object(v.a)(e,["onMouseUp"]),c=Object(a.useContext)(Q),o=Object(a.useRef)(!1),r=Object(a.useCallback)(function(){o.current&&(t(c.toDataURL()),o.current=!o.current)},[t,c]),i=Object(a.useCallback)(function(e){var t=c.getContext("2d");o.current?(1===e.which?t.fillStyle=n.primaryColor:3===e.which&&(t.fillStyle=n.secondaryColor),t.fillRect(n.x,n.y,n.width,n.height)):t.beginPath()},[c,n.x,n.y,n.width,n.height,n.primaryColor,n.secondaryColor]),l=Object(a.useCallback)(function(e){o.current=!o.current,i(e)},[i]);return Object(a.useEffect)(function(){return c?(c.addEventListener("mousemove",i),c.addEventListener("mousedown",l),document.addEventListener("mouseup",r),function(){c.removeEventListener("mousemove",i),c.removeEventListener("mousedown",l),document.removeEventListener("mouseup",r)}):Function.prototype},[c,i,r,l]),null}oe.propTypes={x:ne.a.number,y:ne.a.number,width:ne.a.number,height:ne.a.number,onMouseDown:ne.a.func,primaryColor:ne.a.string,secondaryColor:ne.a.string};var re=oe;function ie(e){var t=e.onMouseUp,n=Object(v.a)(e,["onMouseUp"]),c=Object(a.useContext)(Q),o=Object(a.useRef)(!1),r=Object(a.useCallback)(function(){o.current&&(t(c.toDataURL()),o.current=!o.current)},[t,c]),i=Object(a.useCallback)(function(){var e=c.getContext("2d");o.current?e.clearRect(n.x,n.y,n.width,n.height):e.beginPath()},[c,n.x,n.y,n.width,n.height]),l=Object(a.useCallback)(function(e){o.current=!o.current,i(e)},[i]);return Object(a.useEffect)(function(){return c?(c.addEventListener("mousemove",i),c.addEventListener("mousedown",l),document.addEventListener("mouseup",r),function(){c.removeEventListener("mousemove",i),c.removeEventListener("mousedown",l),document.removeEventListener("mouseup",r)}):Function.prototype},[c,i,r,l]),null}ie.propTypes={x:ne.a.number,y:ne.a.number,width:ne.a.number,height:ne.a.number,onMouseDown:ne.a.func};var le=ie;function se(e){var t=e.onMouseUp,n=e.currentColor,c=Object(a.useContext)(Q),o=c.getContext("2d"),r=Object(a.useRef)(!1),i=Object(a.useCallback)(function(){t(c.toDataURL())},[c,t]),l=Object(a.useCallback)(function(e){if(r.current=!r.current,r.current){o.fillStyle=n;for(var t=c.getBoundingClientRect(),a=Math.floor(e.clientX-t.left),i=Math.floor(e.clientY-t.top),l=A(n),s=o.getImageData(0,0,c.width,c.height),u=4*(i*c.width+a),m={r:s.data[u],g:s.data[u+1],b:s.data[u+2],a:s.data[u+3]},d=0;d<s.data.length;d+=4)s.data[d]===m.r&&s.data[d+1]===m.g&&s.data[d+2]===m.b&&s.data[d+3]===m.a&&(s.data[d]=l.r,s.data[d+1]=l.g,s.data[d+2]=l.b,s.data[d+3]=l.a);o.putImageData(s,0,0)}},[c,o,n]),s=Object(a.useCallback)(function(){r.current=!r.current},[]);return Object(a.useEffect)(function(){return c?(c.addEventListener("mousedown",l),c.addEventListener("mouseup",s),c.addEventListener("mouseup",i),function(){c.removeEventListener("mousedown",l),c.removeEventListener("mouseup",s),c.removeEventListener("mouseup",i)}):Function.prototype},[c,i,l,s]),null}se.propTypes={onMouseUp:ne.a.func,currentColor:ne.a.string};var ue=se;function me(e){var t=e.onMouseUp,n=Object(v.a)(e,["onMouseUp"]),c=Object(a.useContext)(Q),o=c.getContext("2d"),r=Object(a.useRef)(!1),i=Object(a.useCallback)(function(){t(c.toDataURL())},[c,t]),l=Object(a.useCallback)(function(e){if(r.current=!r.current,r.current){var t=c.getBoundingClientRect(),a=A(n.currentColor),i=Math.floor(e.clientX-t.left),l=Math.floor(e.clientY-t.top),s=o.getImageData(0,0,c.width,c.height),u=4*(l*c.width+i),m={r:s.data[u],g:s.data[u+1],b:s.data[u+2],a:s.data[u+3]};w(i,l,c.width,c.height,s,m,a),o.putImageData(s,0,0)}},[c,o,n.currentColor]),s=Object(a.useCallback)(function(){r.current=!r.current},[]);return Object(a.useEffect)(function(){return c?(c.addEventListener("mousedown",l),c.addEventListener("mouseup",s),c.addEventListener("mouseup",i),function(){c.removeEventListener("mousedown",l),c.removeEventListener("mouseup",s),c.removeEventListener("mouseup",i)}):Function.prototype},[c,i,l,s]),null}me.propTypes={width:ne.a.number,height:ne.a.number,currentColor:ne.a.string};var de=me;function Ee(e){var t=e.onMouseUp,n=e.currentColor,c=Object(a.useContext)(Q),o=c.getContext("2d"),r=Object(a.useRef)(!1),i=Object(a.useCallback)(function(){t(c.toDataURL())},[c,t]),l=Object(a.useCallback)(function(){r.current=!r.current,r.current&&(o.fillStyle=n,o.fillRect(0,0,c.width,c.height))},[c,o,n]),s=Object(a.useCallback)(function(){r.current=!r.current},[]);return Object(a.useEffect)(function(){return c?(c.addEventListener("mousedown",l),c.addEventListener("mouseup",s),c.addEventListener("mouseup",i),function(){c.removeEventListener("mousedown",l),c.removeEventListener("mouseup",s),c.removeEventListener("mouseup",i)}):Function.prototype},[c,i,l,s]),null}Ee.propTypes={width:ne.a.number,height:ne.a.number,currentColor:ne.a.string};var fe=Ee,ve=function(e,t,n,a,c){for(var o=0,r=t,i=t*t-e*e*t+.25*e*e,l=2*t*t*o,s=2*e*e*r;l<s;)c([o+n,r+a],[-o+n,r+a],[o+n,-r+a],[-o+n,-r+a]),i<0?(o+=1,i=i+(l+=2*t*t)+t*t):(o+=1,r-=1,i=i+(l+=2*t*t)-(s-=2*e*e)+t*t);for(var u=t*t*((o+.5)*(o+.5))+e*e*((r-1)*(r-1))-e*e*t*t;r>=0;)c([o+n,r+a],[-o+n,r+a],[o+n,-r+a],[-o+n,-r+a]),u>0?(r-=1,u=u+e*e-(s-=2*e*e)):(r-=1,o+=1,u=u+(l+=2*t*t)-(s-=2*e*e)+e*e)},_e=function(e,t,n,a){for(var c=0,o=n,r=0,i=1-2*n;o>=0;)a(e+c,t-o),a(e-c,t-o),a(e-c,t+o),a(e+c,t+o),r=2*(i+o)-1,i<0&&r<=0?i+=2*(c+=1)+1:i>0&&r>0?i-=2*(o-=1)+1:(i+=2*((c+=1)-o),o-=1)};function be(e){var t=e.onMouseUp,n=Object(v.a)(e,["onMouseUp"]),c=Object(a.useState)(0),o=Object(_.a)(c,2),r=o[0],i=o[1],l=Object(a.useState)(0),s=Object(_.a)(l,2),u=s[0],m=s[1],d=Object(a.useContext)(Q),E=Object(a.useRef)(!1),f=Object(a.useRef)(null),b=Object(a.useCallback)(function(){f.current=null,E.current=!1,t(d.toDataURL())},[t,d]),O=d.getContext("2d"),p=Object(a.useCallback)(function(e){E.current?requestAnimationFrame(function(){i(j(e,n.canvasScale).rectXBegin),m(j(e,n.canvasScale).rectYBegin),f.current&&(O.clearRect(0,0,d.width,d.height),O.putImageData(f.current,0,0));var t=function(e,t,a){isFinite(e)&&isFinite(t)&&function(e,t,a){O.fillStyle=n.currentColor;var c=N(e,t,n.canvasScale),o=c.rectXBegin,r=c.rectYBegin,i=O.getImageData(o,r,1,1).data;i[0]===a.r&&i[1]===a.g&&i[2]===a.b&&i[3]===a.a||O.fillRect(o,r,n.rectSize,n.rectSize)}(e,t,a)};O.strokeStyle=n.currentColor,O.fillStyle=n.currentColor;var a=n.x,c=n.y,o=r,l=u,s=A(n.currentColor),E=T(a,c,o,l),v=M(a,c,o,l),_=x(a,o),b=P(c,l);e.shiftKey?_e(o,l,E,function(e,n){t(e,n,s)}):ve(_,b,v.x,v.y,function(e,n,a,c){t(e[0],e[1],s),t(n[0],n[1],s),t(a[0],a[1],s),t(c[0],c[1],s)})}):O.beginPath()},[n.canvasScale,n.currentColor,n.x,n.y,n.rectSize,O,d.width,d.height,r,u]),g=Object(a.useCallback)(function(e){E.current=!E.current,f.current=O.getImageData(0,0,d.width,d.height),i(j(e,n.canvasScale).rectXBegin),m(j(e,n.canvasScale).rectYBegin)},[d.height,d.width,O,n.canvasScale]);return Object(a.useEffect)(function(){return d?(d.addEventListener("mousemove",p),d.addEventListener("mousedown",g),document.addEventListener("mouseup",b),function(){d.removeEventListener("mousemove",p),d.removeEventListener("mousedown",g),document.removeEventListener("mouseup",b)}):Function.prototype},[d,p,b,g]),null}be.propTypes={onMouseDown:ne.a.func,currentColor:ne.a.string,canvasScale:ne.a.number,x:ne.a.number,y:ne.a.number,rectSize:ne.a.number};var Oe=be,pe=function(e,t,n,a,c){var o=e,r=t;if(e<n&&t<a){for(;o<n;)c(o,t),o+=1;for(;r<a;)c(o,r),r+=1;for(;o>e;)c(o,r),o-=1;for(;r>t;)c(o,r),r-=1}if(e<n&&t>a){for(;o<n;)c(o,t),o+=1;for(;r>a;)c(o,r),r-=1;for(;o>e;)c(o,r),o-=1;for(;r<t;)c(o,r),r+=1}if(e>n&&t<a){for(;o>n;)c(o,r),o-=1;for(;r<=a;)c(o,r),r+=1;for(;o<e;)c(o,a),o+=1;for(;r>t;)c(o,r),r-=1}if(e>n&&t>a){for(;o>n;)c(o,r),o-=1;for(;r>a;)c(o,r),r-=1;for(;o<e;)c(o,a),o+=1;for(;r<t;)c(o,r),r+=1}};function ge(e){var t=e.onMouseUp,n=Object(v.a)(e,["onMouseUp"]),c=Object(a.useState)(0),o=Object(_.a)(c,2),r=o[0],i=o[1],l=Object(a.useState)(0),s=Object(_.a)(l,2),u=s[0],m=s[1],d=Object(a.useContext)(Q),E=Object(a.useRef)(!1),f=Object(a.useRef)(null),b=Object(a.useCallback)(function(){f.current=null,E.current=!1,t(d.toDataURL())},[t,d]),O=d.getContext("2d"),p=Object(a.useCallback)(function(e){E.current?requestAnimationFrame(function(){i(j(e,n.canvasScale).rectXBegin),m(j(e,n.canvasScale).rectYBegin),f.current&&(O.clearRect(0,0,d.width,d.height),O.putImageData(f.current,0,0));var t=function(e,t,a){isFinite(e)&&isFinite(t)&&function(e,t,a){O.fillStyle=n.currentColor;var c=N(e,t,n.canvasScale),o=c.rectXBegin,r=c.rectYBegin,i=O.getImageData(o,r,1,1).data;i[0]===a.r&&i[1]===a.g&&i[2]===a.b&&i[3]===a.a||O.fillRect(o,r,n.rectSize,n.rectSize)}(e,t,a)},a=n.x,c=n.y,o=r,l=u,s=A(n.currentColor);pe(a,c,o,l,function(e,n){t(e,n,s)})}):O.beginPath()},[n.canvasScale,n.x,n.y,n.currentColor,n.rectSize,r,u,O,d.width,d.height]),g=Object(a.useCallback)(function(e){E.current=!0,f.current=O.getImageData(0,0,d.width,d.height),i(j(e,n.canvasScale).rectXBegin),m(j(e,n.canvasScale).rectYBegin)},[d.height,d.width,O,n.canvasScale]);return Object(a.useEffect)(function(){return d?(d.addEventListener("mousemove",p),d.addEventListener("mousedown",g),document.addEventListener("mouseup",b),function(){d.removeEventListener("mousemove",p),d.removeEventListener("mousedown",g),document.removeEventListener("mouseup",b)}):Function.prototype},[d,p,b,g]),null}ge.propTypes={onMouseDown:ne.a.func,currentColor:ne.a.string,canvasScale:ne.a.number,x:ne.a.number,y:ne.a.number,rectSize:ne.a.number};var Ce=ge;function he(e){var t=e.onMouseUp,n=Object(v.a)(e,["onMouseUp"]),c=Object(a.useState)(0),o=Object(_.a)(c,2),r=o[0],i=o[1],l=Object(a.useState)(0),s=Object(_.a)(l,2),u=s[0],m=s[1],d=Object(a.useContext)(Q),E=Object(a.useRef)(!1),f=Object(a.useRef)(null),b=Object(a.useCallback)(function(){f.current=null,E.current=!1,t(d.toDataURL())},[t,d]),O=d.getContext("2d"),p=Object(a.useCallback)(function(e){E.current?requestAnimationFrame(function(){i(j(e,n.canvasScale).rectXBegin),m(j(e,n.canvasScale).rectYBegin),f.current&&(O.clearRect(0,0,d.width,d.height),O.putImageData(f.current,0,0)),O.fillStyle=n.primaryColor;var t=n.x,a=n.y,c=r,o=u,l=Math.abs(t-c),s=Math.abs(a-o),E=Math.abs(t-n.rectSize-(c+n.rectSize)),v=Math.abs(c-n.rectSize-(t+n.rectSize)),_=Math.abs(a-n.rectSize-(o+n.rectSize)),b=Math.abs(o-n.rectSize-(a+n.rectSize)),p=Math.min(E,v),g=Math.min(_,b);if(O.fillRect(Math.min(t,c),Math.min(a,o),l,s),l>=3*n.rectSize&&s>=3*n.rectSize){O.fillStyle=n.secondaryColor;var C=Math.min(t+n.rectSize,c+n.rectSize),h=Math.min(a+n.rectSize,o+n.rectSize);O.fillRect(C,h,p,g)}}):O.beginPath()},[n.canvasScale,n.primaryColor,n.x,n.y,n.rectSize,n.secondaryColor,O,r,u,d.width,d.height]),g=Object(a.useCallback)(function(e){E.current=!0,f.current=O.getImageData(0,0,d.width,d.height),i(j(e,n.canvasScale).rectXBegin),m(j(e,n.canvasScale).rectYBegin)},[d.height,d.width,O,n.canvasScale]);return Object(a.useEffect)(function(){return d?(d.addEventListener("mousemove",p),d.addEventListener("mousedown",g),document.addEventListener("mouseup",b),function(){d.removeEventListener("mousemove",p),d.removeEventListener("mousedown",g),document.removeEventListener("mouseup",b)}):Function.prototype},[d,p,b,g]),null}he.propTypes={onMouseDown:ne.a.func,primaryColor:ne.a.string,secondaryColor:ne.a.string,canvasScale:ne.a.number,x:ne.a.number,y:ne.a.number,rectSize:ne.a.number};var ke=he;function Le(e){var t=e.onMouseUp,n=Object(v.a)(e,["onMouseUp"]),c=Object(a.useContext)(Q),o=Object(a.useRef)(!1),r=Object(a.useCallback)(function(){t(c.toDataURL())},[t,c]),i=Object(a.useCallback)(function(e){var t=c.getContext("2d");if(o.current)if(e.shiftKey){var a=e.target.offsetHeight-n.y-n.height;t.fillStyle=n.currentColor,t.strokeStyle=n.currentColor,t.fillRect(n.x,n.y,n.width,n.height),t.fillRect(n.x,a,n.width,n.height)}else{var r=e.target.offsetWidth-n.x-n.width;t.fillStyle=n.currentColor,t.strokeStyle=n.currentColor,t.fillRect(n.x,n.y,n.width,n.height),t.fillRect(r,n.y,n.width,n.height)}else t.beginPath()},[n.x,n.y,n.width,n.height,n.currentColor,o,c]),l=Object(a.useCallback)(function(e){o.current=!o.current,i(e)},[i]);return Object(a.useEffect)(function(){return c?(c.addEventListener("mousemove",i),c.addEventListener("mousedown",l),document.addEventListener("mouseup",l),document.addEventListener("mouseup",r),function(){c.removeEventListener("mousemove",i),c.removeEventListener("mousedown",l),document.removeEventListener("mouseup",l),document.removeEventListener("mouseup",r)}):Function.prototype},[c,i,r,l]),null}Le.propTypes={x:ne.a.number,y:ne.a.number,width:ne.a.number,height:ne.a.number,onMouseDown:ne.a.func,currentColor:ne.a.string};var ye=Le;function Ne(e){var t=e.onMouseUp,n=Object(a.useContext)(Q),c=n.getContext("2d"),o=Object(a.useCallback)(function(e){var a=n.getBoundingClientRect(),o=e.clientX-a.left,r=e.clientY-a.top,i=c.getImageData(0,0,n.width,n.height),l=4*(r*n.width+o),s=i.data[l],u=i.data[l+1],m=i.data[l+2],d=i.data[l+3],E=R({r:s,g:u,b:m,a:d});t(E)},[n,c,t]);return Object(a.useEffect)(function(){return n?(n.addEventListener("mouseup",o),function(){n.removeEventListener("mouseup",o)}):Function.prototype},[n,o]),null}Ne.propTypes={onMouseUp:ne.a.func};var Se=Ne;function je(e){var t=e.onMouseUp,n=e.canvasScale,c=e.penSize,o=Object(a.useContext)(Q),r=o.getContext("2d"),i=o.getBoundingClientRect(),l=Object(a.useRef)(!1),s=Object(a.useCallback)(function(){l.current=!l.current},[]),u=Object(a.useCallback)(function(){l.current=!l.current,t(o.toDataURL())},[o,t]),m=Object(a.useCallback)(function(e){if(l.current){for(var t=Math.floor(e.clientX-i.left),a=Math.floor(e.clientY-i.top),o=N(t,a,n),s=r.getImageData(o.rectXBegin,o.rectYBegin,c,c),u=0;u<s.data.length;u+=4)0!==s.data[u+3]&&(s.data[u]<=245&&(s.data[u]+=5),s.data[u+1]<=245&&(s.data[u+1]+=5),s.data[u+2]<=245&&(s.data[u+2]+=5));r.putImageData(s,o.rectXBegin,o.rectYBegin)}},[n,r,c,i.left,i.top]);return Object(a.useEffect)(function(){return o?(o.addEventListener("mousedown",s),o.addEventListener("mousemove",m),document.addEventListener("mouseup",u),function(){o.removeEventListener("mousedown",s),o.removeEventListener("mousemove",m),document.removeEventListener("mouseup",u)}):Function.prototype},[o,m,u,s]),null}je.propTypes={onMouseUp:ne.a.func};var Ae=je;function Re(e){var t=e.onMouseUp,n=e.canvasScale,c=e.penSize,o=Object(a.useContext)(Q),r=o.getContext("2d"),i=o.getBoundingClientRect(),l=Object(a.useRef)(!1),s=Object(a.useCallback)(function(){l.current=!l.current},[]),u=Object(a.useCallback)(function(){t(o.toDataURL()),l.current=!l.current},[o,t]),m=Object(a.useCallback)(function(e){if(l.current){for(var t=Math.floor(e.clientX-i.left),a=Math.floor(e.clientY-i.top),o=N(t,a,n),s=r.getImageData(o.rectXBegin,o.rectYBegin,c,c),u=0;u<s.data.length;u+=4)0!==s.data[u+3]&&(s.data[u]>=5&&(s.data[u]-=5),s.data[u+1]>=5&&(s.data[u+1]-=5),s.data[u+2]>=5&&(s.data[u+2]-=5));r.putImageData(s,o.rectXBegin,o.rectYBegin)}},[n,r,c,i.left,i.top]);return Object(a.useEffect)(function(){return o?(o.addEventListener("mousedown",s),o.addEventListener("mousemove",m),document.addEventListener("mouseup",u),function(){o.removeEventListener("mousedown",s),o.removeEventListener("mousemove",m),document.removeEventListener("mouseup",u)}):Function.prototype},[o,m,u,s]),null}Re.propTypes={onMouseUp:ne.a.func};var we=Re;function Te(e){var t=e.onMouseUp,n=e.x,c=e.y,o=Object(a.useContext)(Q),r=Object(a.useRef)(!1),i=Object(a.useCallback)(function(){t(o.toDataURL())},[t,o]),l=Object(a.useCallback)(function(e){if(r.current){var t=o.getContext("2d"),a=o.getBoundingClientRect(),i=e.clientX-a.left,l=e.clientY-a.top,s=t.getImageData(0,0,o.width,o.height);t.clearRect(0,0,o.width,o.height),t.putImageData(s,n+(n-i),c+(c-l))}},[o,n,c]),s=Object(a.useCallback)(function(){r.current=!r.current},[]);return Object(a.useEffect)(function(){return o?(o.addEventListener("mousemove",l),o.addEventListener("mousedown",s),document.addEventListener("mouseup",s),document.addEventListener("mouseup",i),function(){o.removeEventListener("mousemove",l),o.removeEventListener("mousedown",s),document.removeEventListener("mouseup",s),document.removeEventListener("mouseup",i)}):Function.prototype},[o,l,i,s]),null}Te.propTypes={onMouseDown:ne.a.func,canvasScale:ne.a.number,x:ne.a.number,y:ne.a.number,rectSize:ne.a.number};var Me=Te;function xe(e){var t=e.onMouseUp,n=Object(v.a)(e,["onMouseUp"]),c=Object(a.useContext)(Q),o=Object(a.useRef)(!1),r=Object(a.useCallback)(function(){o.current&&(t(c.toDataURL()),o.current=!o.current)},[t,c]),i=Object(a.useCallback)(function(){var e=c.getContext("2d");if(o.current)for(var t=n.penSize/20,a=n.x/20+1,r=n.y/20+1,i=0;i<t;i+=1)for(var l=0;l<t;l+=1){var s=r+i,u=a+l;B(s)&&B(u)||z(s)&&z(u)?e.fillStyle=n.secondaryColor:e.fillStyle=n.primaryColor,e.fillRect(n.x+20*i,n.y+20*l,20,20)}else e.beginPath()},[c,n.penSize,n.primaryColor,n.secondaryColor,n.x,n.y]),l=Object(a.useCallback)(function(e){o.current=!o.current,i(e)},[i]);return Object(a.useEffect)(function(){return c?(c.addEventListener("mousemove",i),c.addEventListener("mousedown",l),document.addEventListener("mouseup",r),function(){c.removeEventListener("mousemove",i),c.removeEventListener("mousedown",l),document.removeEventListener("mouseup",r)}):Function.prototype},[c,i,r,l]),null}xe.propTypes={x:ne.a.number,y:ne.a.number,penSize:ne.a.number,column:ne.a.number,row:ne.a.number,primaryColor:ne.a.string,secondaryColor:ne.a.string,image:ne.a.any};var Pe=xe;n(66);var De=function(e){var t=e.onChange,n=e.options,a=e.value;return c.a.createElement("div",{className:"canvas-size"},n.map(function(e){return c.a.createElement("div",{className:"canvas-size__item",key:e},c.a.createElement("input",{checked:a===e,id:"canvas-size__item".concat(e),name:"canvas-size__item",onChange:t,type:"radio",value:e}),c.a.createElement("label",{htmlFor:"canvas-size__item".concat(e)},e,"*",e))}))},Fe=(n(67),{PEN_SIZE_1:"PEN_SIZE_1",PEN_SIZE_2:"PEN_SIZE_2",PEN_SIZE_3:"PEN_SIZE_3",PEN_SIZE_4:"PEN_SIZE_4",PEN_TOOL:"PEN_TOOL",ERASER_TOOL:"ERASER_TOOL",COLOR_BUCKET_TOOL:"COLOR_BUCKET_TOOL",MAGIC_COLOR_BUCKET_TOOL:"MAGIC_COLOR_BUCKET_TOOL",FILL_COLOR_TOOL:"FILL_COLOR_TOOL",COLOR_PICKER_TOOL:"COLOR_PICKER_TOOL",RECTANGLE_TOOL:"RECTANGLE_TOOL",CIRCLE_TOOL:"CIRCLE_TOOL",LIGHTEN_TOOL:"LIGHTEN_TOOL",DARKEN_TOOL:"DARKEN_TOOL",DITHERING_TOOL:"DITHERING_TOOL",STROKE_TOOL:"STROKE_TOOL",MIRROR_PEN_TOOL:"MIRROR_PEN_TOOL",MOVE_TOOL:"MOVE_TOOL",FEATHER_PEN_TOOL:"FEATHER_PEN_TOOL",ADD_NEW_FRAME:"ADD_NEW_FRAME",CHANGE_COLORS:"CHANGE_COLORS",FILL_RECTANGLE_TOOL:"FILL_RECTANGLE_TOOL"});var Ie=function(e){var t=e.keyboardMap,n=e.onChange,o=Object(a.useRef)(!1),r=function(){o.current=!o.current,o.current?(document.querySelector(".keyboard-shortcuts__button").classList.add("keyboard-shortcuts__button--active"),document.querySelector(".keyboard-shortcuts__list").classList.add("keyboard-shortcuts__list--active")):(document.querySelector(".keyboard-shortcuts__button").classList.remove("keyboard-shortcuts__button--active"),document.querySelector(".keyboard-shortcuts__list").classList.remove("keyboard-shortcuts__list--active"))};return c.a.createElement("div",{className:"keyboard-shortcuts__wrapper"},c.a.createElement("button",{className:"keyboard-shortcuts__button",onClick:r,title:"Keyboard shortcuts"}),c.a.createElement("div",{className:"keyboard-shortcuts__list"},c.a.createElement("ul",{className:"keyboard-shortcuts"},c.a.createElement("li",null,"Tool shortcuts"),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("div",{className:"item__image draw-action"}),c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return n(Fe.PEN_TOOL)}},t[Fe.PEN_TOOL]),c.a.createElement("div",{className:"item__description"},"Pen tool")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("div",{className:"item__image erase-action"}),c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return n(Fe.ERASER_TOOL)}},t[Fe.ERASER_TOOL]),c.a.createElement("div",{className:"item__description"},"Eraser tool")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("div",{className:"item__image mirror-draw-action"}),c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return n(Fe.MIRROR_PEN_TOOL)}},t[Fe.MIRROR_PEN_TOOL]),c.a.createElement("div",{className:"item__description"},"Vertical mirror pen tool")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("div",{className:"item__image fill-color-action"}),c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return n(Fe.COLOR_BUCKET_TOOL)}},t[Fe.COLOR_BUCKET_TOOL]),c.a.createElement("div",{className:"item__description"},"Color bucket tool")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("div",{className:"item__image magic-color-bucket-action"}),c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return n(Fe.MAGIC_COLOR_BUCKET_TOOL)}},t[Fe.MAGIC_COLOR_BUCKET_TOOL]),c.a.createElement("div",{className:"item__description"},"Magic bucket tool")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("div",{className:"item__image stroke-action"}),c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return n(Fe.STROKE_TOOL)}},t[Fe.STROKE_TOOL]),c.a.createElement("div",{className:"item__description"},"Stroke tool")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("div",{className:"item__image rectangle-action"}),c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return n(Fe.RECTANGLE_TOOL)}},t[Fe.RECTANGLE_TOOL]),c.a.createElement("div",{className:"item__description"},"Rectangle tool")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("div",{className:"item__image circle-action"}),c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return n(Fe.CIRCLE_TOOL)}},t[Fe.CIRCLE_TOOL]),c.a.createElement("div",{className:"item__description"},"Circle tool")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("div",{className:"item__image move-action"}),c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return n(Fe.MOVE_TOOL)}},t[Fe.MOVE_TOOL]),c.a.createElement("div",{className:"item__description"},"Move tool")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("div",{className:"item__image lighten-action"}),c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return n(Fe.LIGHTEN_TOOL)}},t[Fe.LIGHTEN_TOOL]),c.a.createElement("div",{className:"item__description"},"Lighten tool")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("div",{className:"item__image darken-action"}),c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return n(Fe.DARKEN_TOOL)}},t[Fe.DARKEN_TOOL]),c.a.createElement("div",{className:"item__description"},"Darken tool")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("div",{className:"item__image dithering-action"}),c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return n(Fe.DITHERING_TOOL)}},t[Fe.DITHERING_TOOL]),c.a.createElement("div",{className:"item__description"},"Dithering tool")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("div",{className:"item__image choose-color-action"}),c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return n(Fe.COLOR_PICKER_TOOL)}},t[Fe.COLOR_PICKER_TOOL]),c.a.createElement("div",{className:"item__description"},"Color picker tool")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("div",{className:"item__image pen-action"}),c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return n(Fe.FEATHER_PEN_TOOL)}},t[Fe.FEATHER_PEN_TOOL]),c.a.createElement("div",{className:"item__description"},"Feather pen tool")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("div",{className:"item__image fill-rectangle-action"}),c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return n(Fe.FILL_RECTANGLE_TOOL)}},t[Fe.FILL_RECTANGLE_TOOL]),c.a.createElement("div",{className:"item__description"},"Fill rectangle tool")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("div",{className:"item__image full-fill-color-action"}),c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return n(Fe.FILL_COLOR_TOOL)}},t[Fe.FILL_COLOR_TOOL]),c.a.createElement("div",{className:"item__description"},"Fill color tool"))),c.a.createElement("ul",{className:"keyboard-shortcuts"},c.a.createElement("li",null,"Misc shortcuts"),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return n(Fe.PEN_SIZE_1)}},t[Fe.PEN_SIZE_1]),c.a.createElement("div",{className:"item__description"},"Pen size x1")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return n(Fe.PEN_SIZE_2)}},t[Fe.PEN_SIZE_2]),c.a.createElement("div",{className:"item__description"},"Pen size x2")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return n(Fe.PEN_SIZE_3)}},t[Fe.PEN_SIZE_3]),c.a.createElement("div",{className:"item__description"},"Pen size x3")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return n(Fe.PEN_SIZE_4)}},t[Fe.PEN_SIZE_4]),c.a.createElement("div",{className:"item__description"},"Pen size x4")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return n(Fe.ADD_NEW_FRAME)}},t[Fe.ADD_NEW_FRAME]),c.a.createElement("div",{className:"item__description"},"Add a new frame")),c.a.createElement("li",{className:"keyboard-shortcuts__item next-block"},c.a.createElement("button",{className:"item__key-code arrow-up"}),c.a.createElement("div",{className:"item__description"},"Select previous frame")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("button",{className:"item__key-code arrow-down"}),c.a.createElement("div",{className:"item__description"},"Select next frame")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("button",{className:"item__key-code keys-combination"},"ctrl+q"),c.a.createElement("div",{className:"item__description"},"Delete frame")),c.a.createElement("li",{className:"keyboard-shortcuts__item"},c.a.createElement("button",{className:"item__key-code keys-combination"},"ctrl+y"),c.a.createElement("div",{className:"item__description"},"Duplicate frame")),c.a.createElement("li",{className:"keyboard-shortcuts__item next-block"},c.a.createElement("button",{className:"item__key-code",title:"Click to edit the key",onClick:function(){return n(Fe.CHANGE_COLORS)}},t[Fe.CHANGE_COLORS]),c.a.createElement("div",{className:"item__description"},"Change colors"))),c.a.createElement("button",{className:"close-window",onClick:r},"X")))};n(68);var ze=function(e){var t=e.x,n=e.y,a=e.isOverCanvas;return c.a.createElement("div",{className:"cursor-position ".concat(a?"":"cursor-position--hidden")},t," : ",n)},Be=function(e,t,n,a,c){for(var o=Math.abs(n-e),r=Math.abs(a-t),i=e<n?1:-1,l=t<a?1:-1,s=o-r;e!==n||t!==a;){c(e,t);var u=2*s;u>-r&&(s-=r,e+=i),u<o&&(s+=o,t+=l)}c(n,a)};function Ue(e){var t=e.onMouseUp,n=Object(v.a)(e,["onMouseUp"]),c=Object(a.useState)(0),o=Object(_.a)(c,2),r=o[0],i=o[1],l=Object(a.useState)(0),s=Object(_.a)(l,2),u=s[0],m=s[1],d=Object(a.useContext)(Q),E=Object(a.useRef)(!1),f=Object(a.useRef)(null),b=Object(a.useCallback)(function(){f.current=null,E.current=!1,t(d.toDataURL())},[t,d]),O=d.getContext("2d"),p=Object(a.useCallback)(function(e){E.current?requestAnimationFrame(function(){i(j(e,n.canvasScale).rectXBegin),m(j(e,n.canvasScale).rectYBegin),f.current&&(O.clearRect(0,0,d.width,d.height),O.putImageData(f.current,0,0));var t=function(e,t,a){isFinite(e)&&isFinite(t)&&function(e,t,a){O.strokeStyle=n.currentColor,O.fillStyle=n.currentColor;var c=N(e,t,n.canvasScale),o=c.rectXBegin,r=c.rectYBegin,i=O.getImageData(o,r,1,1).data;i[0]===a.r&&i[1]===a.g&&i[2]===a.b&&i[3]===a.a||O.fillRect(o,r,n.rectSize,n.rectSize)}(e,t,a)};O.strokeStyle=n.currentColor,O.fillStyle=n.currentColor;var a=n.x,c=n.y,o=r,l=u,s=A(n.currentColor);"number"===typeof a&&"number"===typeof c&&Be(a,c,o,l,function(e,n){t(e,n,s)})}):O.beginPath()},[n.canvasScale,n.currentColor,n.x,n.y,n.rectSize,O,r,u,d.width,d.height]),g=Object(a.useCallback)(function(e){E.current=!0,f.current=O.getImageData(0,0,d.width,d.height),i(j(e,n.canvasScale).rectXBegin),m(j(e,n.canvasScale).rectYBegin)},[d.height,d.width,O,n.canvasScale]);return Object(a.useEffect)(function(){return d?(d.addEventListener("mousemove",p),d.addEventListener("mousedown",g),document.addEventListener("mouseup",b),function(){d.removeEventListener("mousemove",p),d.removeEventListener("mousedown",g),document.removeEventListener("mouseup",b)}):Function.prototype},[d,p,b,g]),null}Ue.propTypes={onMouseDown:ne.a.func,currentColor:ne.a.string,canvasScale:ne.a.number,x:ne.a.number,y:ne.a.number,rectSize:ne.a.number};var Ge=Ue;n(69);var Xe,Ye=function(e){var t=e.onPNGExport,n=e.onPNGSetExport,o=e.onGIFExport,r=e.onResetClick,i=e.onAPNGExport,l=e.onLoadPiskel,s=e.onSave,u=Object(a.useRef)(!1);return c.a.createElement("div",{className:"result-export__wrapper"},c.a.createElement("button",{className:"result-export__button",title:"Export",onClick:function(){u.current=!u.current,u.current?(document.querySelector(".result-export__list").classList.add("result-export__list--active"),document.querySelector(".result-export__button").classList.add("result-export__button--active")):(document.querySelector(".result-export__list").classList.remove("result-export__list--active"),document.querySelector(".result-export__button").classList.remove("result-export__button--active"))}}),c.a.createElement("div",{className:"result-export__list"},c.a.createElement("button",{className:"result-export__item png",onClick:t,title:"Download active frame as a PNG file"}),c.a.createElement("button",{className:"result-export__item set-png",onClick:n,title:"Download all frames as PNG files"}),c.a.createElement("button",{className:"result-export__item gif",onClick:o,title:"Download as animated GIF"}),c.a.createElement("button",{className:"result-export__item apng",title:"Download as animated APNG",onClick:i}),c.a.createElement("button",{className:"result-export__item save",title:"Save as .piskel",onClick:s}),c.a.createElement("label",{htmlFor:"myFile"},c.a.createElement("input",{type:"file",id:"myFile",className:"result-export__item import",title:"Load .piskelclone",onChange:l})),c.a.createElement("button",{className:"result-export__item reset",title:"Reset all saves",onClick:r})))};function Ke(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var He=[32,64,128],Ze=1,qe=function(){var e=Object(a.useState)({isPenSizeAction:!1,isDrawAction:!1,isChooseColorAction:!1,isColorPaletteAction:!1,isFillColorAction:!1,isFullFillColorAction:!1,isEraseAction:!1,isPenAction:!1,isStrokeAction:!1,isDrawCircleAction:!1,isDrawRectangleAction:!1,isDrawFillRectangleAction:!1,isMirrorPenAction:!1,isLightenColorAction:!1,isDarkenColorAction:!1,isMoveAction:!1,isDitheringAction:!1,isAllPixelsSameColorAction:!1}),t=Object(_.a)(e,2),n=t[0],c=t[1];return{toggleToolAction:Object(a.useCallback)(function(e){var t=n[e],a=Object(v.a)(n,[e].map(Ke));Object.keys(a).forEach(function(e){a[e]=!1}),a[e]=!t,c(a)},[n]),toolAction:n}},Ve=function(){var e=Object(a.useState)({isPenSizeAction1:!1,isPenSizeAction:!1}),t=Object(_.a)(e,2),n=t[0],c=t[1];return{togglePenSizeAction:function(e){var t=n[e],a=Object(v.a)(n,[e].map(Ke));Object.keys(a).forEach(function(e){a[e]=!1}),a[e]=!t,c(a)},penSizeAction:n}},We=function(e,t){try{return JSON.parse(localStorage.getItem(e))||t}catch(n){return t}},Je=function(e,t){var n=We(e,{});n=Object(f.a)({},n,t),localStorage.setItem(e,JSON.stringify(n))},$e=(Xe={},Object(E.a)(Xe,Fe.PEN_TOOL,"p"),Object(E.a)(Xe,Fe.ERASER_TOOL,"e"),Object(E.a)(Xe,Fe.COLOR_BUCKET_TOOL,"b"),Object(E.a)(Xe,Fe.MAGIC_COLOR_BUCKET_TOOL,"a"),Object(E.a)(Xe,Fe.COLOR_PICKER_TOOL,"o"),Object(E.a)(Xe,Fe.RECTANGLE_TOOL,"r"),Object(E.a)(Xe,Fe.CIRCLE_TOOL,"c"),Object(E.a)(Xe,Fe.LIGHTEN_TOOL,"u"),Object(E.a)(Xe,Fe.DARKEN_TOOL,"i"),Object(E.a)(Xe,Fe.DITHERING_TOOL,"t"),Object(E.a)(Xe,Fe.STROKE_TOOL,"l"),Object(E.a)(Xe,Fe.MIRROR_PEN_TOOL,"v"),Object(E.a)(Xe,Fe.MOVE_TOOL,"m"),Object(E.a)(Xe,Fe.PEN_SIZE_1,"1"),Object(E.a)(Xe,Fe.PEN_SIZE_2,"2"),Object(E.a)(Xe,Fe.PEN_SIZE_3,"3"),Object(E.a)(Xe,Fe.PEN_SIZE_4,"4"),Object(E.a)(Xe,Fe.FEATHER_PEN_TOOL,"d"),Object(E.a)(Xe,Fe.CHANGE_COLORS,"x"),Object(E.a)(Xe,Fe.ADD_NEW_FRAME,"n"),Object(E.a)(Xe,Fe.FILL_RECTANGLE_TOOL,"f"),Object(E.a)(Xe,Fe.FILL_COLOR_TOOL,"h"),Xe),Qe=[{num:0}];var et=function(){var e=Object(a.useState)($e),t=Object(_.a)(e,2),n=t[0],o=t[1],r=Object(a.useState)(1),l=Object(_.a)(r,2),s=l[0],E=l[1],v=Object(a.useState)(Qe),b=Object(_.a)(v,2),p=b[0],C=b[1],h=$(p),k=Object(a.useState)(0),L=Object(_.a)(k,2),N=L[0],A=L[1],R=$(N),w=p.map(function(e){return e.num}),T={};w.forEach(function(e){T[e]=!0});var M=Object(a.useState)(T),x=Object(_.a)(M,2),P=x[0],D=x[1],F=qe(),z=F.toggleToolAction,B=F.toolAction,X=Ve(),K=X.togglePenSizeAction,Z=X.penSizeAction,q=Object(a.useState)(20),Q=Object(_.a)(q,2),te=Q[0],ne=Q[1],ae=Object(a.useState)("#000000"),oe=Object(_.a)(ae,2),ie=oe[0],se=oe[1],me=Object(a.useState)("#FFFFFF"),Ee=Object(_.a)(me,2),ve=Ee[0],_e=Ee[1],be=Object(a.useState)(32),pe=Object(_.a)(be,2),ge=pe[0],he=pe[1],Le=Object(a.useState)({rectXBegin:null,rectYBegin:null}),Ne=Object(_.a)(Le,2),je=Ne[0],Re=Ne[1],Te=Object(a.useState)({rectXBegin:0,rectYBegin:0}),xe=Object(_.a)(Te,2),Fe=xe[0],Be=xe[1],Ue=Object(a.useState)(y(640,ge)),Xe=Object(_.a)(Ue,2),Ke=Xe[0],et=Xe[1],tt=Object(a.useState)(!1),nt=Object(_.a)(tt,2),at=nt[0],ct=nt[1],ot=Object(a.useCallback)(function(){C(Qe),D({0:!0}),A(0),ne(20),K("isPenSizeAction1"),he(32),z("isDrawAction"),localStorage.removeItem("appstate"),o($e)},[K,z]),rt=Object(a.useCallback)(function(e){e.frames&&C(e.frames),e.framesForPreview&&D(e.framesForPreview),e.activeFrame&&A(e.activeFrame),e.penSize?(ne(e.penSize),K("isPenSizeAction".concat(e.penSize/Ke))):K("isPenSizeAction".concat(e.penSize/Ke)),e.canvasScale&&he(e.canvasScale),e.activeToolAction&&z(e.activeToolAction),e.keyboardMap&&o(e.keyboardMap)},[n,Ke,K,z]);Object(a.useEffect)(function(){var e=We("appstate",{});rt(e)},[]);var it=Object(a.useCallback)(function(e){var t=window.prompt("Type a new key"),a=Object.values(n),c=Object(f.a)({},n);if(-1!==a.indexOf(t)){var r=window.confirm("This key has already established. Change it anyway?"),i=Object.keys(n).find(function(e){return n[e]===t});r&&(c[i]="?",c[e]=t)}else c[e]=t;o(c)},[n]),lt=Object(a.useCallback)(function(){var e=Object.keys(B).find(function(e){return B[e]});Je("appstate",{frames:p,framesForPreview:P,activeFrame:N,penSize:te,canvasScale:ge,activeToolAction:e,keyboardMap:n})},[N,ge,p,P,n,te,B]);Object(a.useEffect)(function(){return window.addEventListener("beforeunload",lt),function(){return window.removeEventListener("beforeunload",lt)}},[lt]);var st=Object(a.useCallback)(function(e){return C(e)},[]),ut=Object(a.useCallback)(function(){var e=p.length,t=p.slice();t.push({num:e}),C(t),A(e);var n=Object.assign({},P);n[e]=!0,D(n)},[p,P]),mt=Object(a.useCallback)(function(e){var t=Object(d.a)(p);if(t.splice(e,1),0===(t=t.map(function(e,t){return Object(f.a)({},e,{num:t})})).length&&t.push({num:0}),P[e]){var n=Object.assign({},P);delete n[e],Object.keys(n).forEach(function(t){t>e&&(n[t-1]=n[t],delete n[t])}),C(t),D(n),A(N-1)}},[N,p,P]),dt=Object(a.useCallback)(function(e){var t=Object(d.a)(p);t.splice(e,0,t[e]),t=t.map(function(e,t){return Object(f.a)({},e,{num:t})});var n=Object.assign({},P);Object.keys(n).forEach(function(t){t>e&&(n[+t+1]=n[+t+2],n[+t+1]=!0)}),n[e+1]=!0,C(t),A(e+1),D(n)},[p,P]),Et=Object(a.useCallback)(function(e){var t=Object.assign({},P);t[e]?delete t[e]:t[e]=!0,D(t)},[P]),ft=Object(a.useCallback)(function(){var e=ie;se(ve),_e(e)},[ie,ve]);Object(a.useEffect)(function(){var e=function(e){e.key===n.PEN_SIZE_1&&(K("isPenSizeAction1"),ne(Ke)),e.key===n.PEN_SIZE_2&&(K("isPenSizeAction2"),ne(2*Ke)),e.key===n.PEN_SIZE_3&&(K("isPenSizeAction3"),ne(3*Ke)),e.key===n.PEN_SIZE_4&&(K("isPenSizeAction4"),ne(4*Ke)),e.key===n.PEN_TOOL&&z("isDrawAction"),e.key===n.MIRROR_PEN_TOOL&&z("isMirrorPenAction"),e.key===n.ERASER_TOOL&&z("isEraseAction"),e.key===n.COLOR_BUCKET_TOOL&&z("isFillColorAction"),e.key===n.MAGIC_COLOR_BUCKET_TOOL&&z("isAllPixelsSameColorAction"),e.key===n.STROKE_TOOL&&z("isStrokeAction"),e.key===n.RECTANGLE_TOOL&&z("isDrawRectangleAction"),e.key===n.CIRCLE_TOOL&&z("isDrawCircleAction"),e.key===n.MOVE_TOOL&&z("isMoveAction"),e.key===n.LIGHTEN_TOOL&&z("isLightenColorAction"),e.key===n.DARKEN_TOOL&&z("isDarkenColorAction"),e.key===n.DITHERING_TOOL&&z("isDitheringAction"),e.key===n.COLOR_PICKER_TOOL&&z("isChooseColorAction"),e.key===n.FEATHER_PEN_TOOL&&z("isPenAction"),e.key===n.ADD_NEW_FRAME&&ut(),"q"===e.key&&e.ctrlKey&&mt(N),"y"===e.key&&e.ctrlKey&&dt(N),"ArrowUp"===e.key&&N>=1&&A(N-1),"ArrowDown"===e.key&&N<p.length-1&&A(N+1),e.key===n.CHANGE_COLORS&&ft(),e.key===n.FILL_RECTANGLE_TOOL&&z("isDrawFillRectangleAction"),e.key===n.FILL_COLOR_TOOL&&z("isFullFillColorAction")};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}},[N,ut,ft,mt,dt,p.length,n,Ke,K,z]);var vt=function(e){var t=p.slice();t[N]=Object(f.a)({},t[N],{image:e}),C(t)},_t=Object(a.useCallback)(function(e){var t=p.slice();t[N]=Object(f.a)({},t[N],{image:e}),C(t)},[N,p]),bt=Object(a.useCallback)(function(e){var t=e.target.files[0],n=new FileReader;n.onload=function(e){try{var t=JSON.parse(decodeURIComponent(e.target.result)),n=t.appVersion,a=t.piskel;if(n!==Ze)return void alert("Incompatible files version");rt(a)}catch(c){alert("Failed to load file")}},n.readAsText(t)},[rt]),Ot=Object(a.useCallback)(function(){var e={appVersion:Ze,piskel:{activeFrame:N,canvasScale:ge,frames:p,framesForPreview:P,keyboardMap:n}};G(JSON.stringify(e),"new_file_".concat(Date.now(),".piskelclone"))},[N,ge,p,P,n]);return c.a.createElement("div",{className:"wrapper"},c.a.createElement("header",null,c.a.createElement(i.b,{className:"link-to-landing-page",to:"/"},c.a.createElement("h1",null,"PISKEL CLONE"))),c.a.createElement("main",null,c.a.createElement("aside",{className:"sidebar-left"},c.a.createElement(H,{active:Z,onPenSizeAction:function(e){K("isPenSizeAction".concat(e.target.getAttribute("data-size"))),ne(Ke*+e.target.getAttribute("data-size"))}}),c.a.createElement(V,{active:B,onDrawAction:function(){z("isDrawAction")},onFillColorAction:function(){z("isFillColorAction")},onFullFillColorAction:function(){z("isFullFillColorAction")},onEraseAction:function(){z("isEraseAction")},onStrokeAction:function(){z("isStrokeAction")},onChooseColorAction:function(){z("isChooseColorAction")},onDrawCircleAction:function(){z("isDrawCircleAction")},onDrawRectangleAction:function(){z("isDrawRectangleAction")},onDrawFillRectangleAction:function(){z("isDrawFillRectangleAction")},onMirrorPenAction:function(){z("isMirrorPenAction")},onLightenColorAction:function(){z("isLightenColorAction")},onDarkenColorAction:function(){z("isDarkenColorAction")},onMoveAction:function(){z("isMoveAction")},onDitheringAction:function(){z("isDitheringAction")},onPenAction:function(){z("isPenAction")},onAllPixelsSameColorAction:function(){z("isAllPixelsSameColorAction")},onPrimaryColorChange:function(e){return se(e.target.value)},onSecondaryColorChange:function(e){return _e(e.target.value)},onColorChange:ft,primaryColor:ie,secondaryColor:ve}),c.a.createElement(Y,{activeFrame:N,checkedFrames:P,frames:p,onAddFrame:ut,onDelete:mt,onDouble:dt,onChange:st,onFrameClick:function(e){return A(e)},onNumClick:Et}),c.a.createElement(Ie,{onChange:it,keyboardMap:n})),c.a.createElement("div",{className:"content"},c.a.createElement("div",{className:"top-canvas"},p[N]&&c.a.createElement(ee,{clearImage:R!==N||p[N].image!==h[R].image,width:640,height:640,active:B,imgSrc:p[N].image,name:"top-canvas",onChange:_t,onMouseDown:function(e){var t=j(e,ge);Re(t),Be(t)},onMouseMove:function(e){Be(j(e,ge))},onMouseEnter:function(){ct(!0)},onMouseLeave:function(){ct(!1)},scale:1/(ge/32)},B.isDrawAction&&c.a.createElement(re,{onMouseUp:vt,primaryColor:ie,secondaryColor:ve,x:Fe.rectXBegin,y:Fe.rectYBegin,width:te,height:te}),B.isEraseAction&&c.a.createElement(le,{onMouseUp:vt,x:Fe.rectXBegin,y:Fe.rectYBegin,width:te,height:te}),B.isStrokeAction&&c.a.createElement(Ge,{onMouseUp:vt,currentColor:ie,canvasScale:ge,x:je.rectXBegin,y:je.rectYBegin,rectSize:te}),B.isDrawCircleAction&&c.a.createElement(Oe,{onMouseUp:vt,currentColor:ie,canvasScale:ge,x:je.rectXBegin,y:je.rectYBegin,rectSize:te}),B.isDrawRectangleAction&&c.a.createElement(Ce,{onMouseUp:vt,currentColor:ie,canvasScale:ge,x:je.rectXBegin,y:je.rectYBegin,rectSize:te}),B.isDrawFillRectangleAction&&c.a.createElement(ke,{onMouseUp:vt,primaryColor:ie,secondaryColor:ve,canvasScale:ge,x:je.rectXBegin,y:je.rectYBegin,rectSize:te}),B.isMirrorPenAction&&c.a.createElement(ye,{onMouseUp:vt,currentColor:ie,x:Fe.rectXBegin,y:Fe.rectYBegin,width:te,height:te}),B.isPenAction&&c.a.createElement(ce,{onMouseUp:vt,penSize:te,currentColor:ie}),B.isFillColorAction&&c.a.createElement(de,{onMouseUp:vt,currentColor:ie}),B.isFullFillColorAction&&c.a.createElement(fe,{onMouseUp:vt,currentColor:ie}),B.isChooseColorAction&&c.a.createElement(Se,{onMouseUp:function(e){return se(e)}}),B.isLightenColorAction&&c.a.createElement(Ae,{onMouseUp:vt,canvasScale:ge,penSize:te}),B.isDarkenColorAction&&c.a.createElement(we,{onMouseUp:vt,canvasScale:ge,penSize:te}),B.isMoveAction&&c.a.createElement(Me,{onMouseUp:vt,image:p[N].image,x:Fe.rectXBegin,y:Fe.rectYBegin}),B.isDitheringAction&&c.a.createElement(Pe,{onMouseUp:vt,primaryColor:ie,secondaryColor:ve,image:p[N].image,x:Fe.rectXBegin,y:Fe.rectYBegin,penSize:te,column:S(Fe.rectXBegin,Fe.rectYBegin,ge).column,row:S(Fe.rectXBegin,Fe.rectYBegin,ge).row}),B.isAllPixelsSameColorAction&&c.a.createElement(ue,{onMouseUp:vt,currentColor:ie})))),c.a.createElement("aside",{className:"sidebar-right"},c.a.createElement(W,{frames:p.filter(function(e){return P[e.num]}),framesPerSecond:s,onFullScreenShow:function(e){return e.requestFullscreen()}}),c.a.createElement(J,{onChange:function(e){return E(e)}}),c.a.createElement(Ye,{onPNGExport:function(){var e=document.createElement("a");e.setAttribute("href",p[N].image),e.setAttribute("download","canvasImage"),e.click()},onPNGSetExport:function(){var e=p.filter(function(e){return P[e.num]}).map(function(e){return e.image}),t=document.createElement("a");e.forEach(function(e){t.setAttribute("href",e),t.setAttribute("download","canvasImage"),t.click()})},onGIFExport:Object(m.a)(u.a.mark(function e(){var t,n,a,c;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.filter(function(e){return P[e.num]}).map(function(e){return e.image}),n=new O.a({width:640,height:640}),(a=document.createElement("canvas")).width=640,a.height=640,(c=a.getContext("2d")).fillStyle="#fff",e.next=9,I(t);case 9:e.sent.forEach(function(e){c.fillRect(0,0,640,640),c.drawImage(e,0,0),n.addFrame(c,{copy:!0,delay:1e3/s})}),n.on("finished",function(e){U(URL.createObjectURL(e),"New Piskel")}),n.render();case 13:case"end":return e.stop()}},e)})),onAPNGExport:Object(m.a)(u.a.mark(function e(){var t,n,a,c,o,r,i,l;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.filter(function(e){return P[e.num]}).map(function(e){return e.image}),(n=document.createElement("canvas")).width=640,n.height=640,(a=n.getContext("2d")).fillStyle="#fff",e.next=8,I(t);case 8:c=e.sent,o=c.map(function(e){return a.fillRect(0,0,640,640),a.drawImage(e,0,0),a.getImageData(0,0,640,640).data.buffer}),r=g.a.encode(o,640,640,0,o.map(function(){return 1e3/s})),i=new Blob([r],{type:"image/png"}),l=URL.createObjectURL(i),U(l,"Piskel.png");case 14:case"end":return e.stop()}},e)})),onLoadPiskel:bt,onResetClick:ot,onSave:Ot}),c.a.createElement(De,{onChange:function(e){var t=+e.target.value,n=t/ge;he(t),et(y(640,t)),ne(te/n)},options:He,value:ge}),c.a.createElement(ze,{isOverCanvas:at,x:S(Fe.rectXBegin,Fe.rectYBegin,ge).column+1,y:Math.min(S(Fe.rectXBegin,Fe.rectYBegin,ge).row+1,ge)}))))},tt=(n(72),n(34)),nt=n.n(tt),at=n(35),ct=n.n(at),ot=n(36),rt=n.n(ot),it=n(37),lt=n.n(it);var st=function(){return c.a.createElement("div",{className:"landing-page__wrapper"},c.a.createElement("header",null,c.a.createElement("h1",null,"PISKEL CLONE")),c.a.createElement("main",{className:"container"},c.a.createElement("div",{className:"screenshot__wrapper"},c.a.createElement("img",{className:"screenshot",src:nt.a,alt:"piskel clone"}),c.a.createElement("div",{className:"screenshot__description"},"PISKEL CLONE is an editor for animated sprites and pixel art"),c.a.createElement("button",{className:"link-to-editor"},c.a.createElement(i.b,{to:"/draw"},"Create Sprite"))),c.a.createElement("div",{className:"animation__wrapper"},c.a.createElement("h3",{className:"animation__title"},"EXAMPLE SPRITES"),c.a.createElement("div",{className:"animation__example-wrapper"},c.a.createElement("div",{className:"animation__example animation__example-1"},c.a.createElement("img",{src:ct.a,alt:"animation example"})),c.a.createElement("div",{className:"animation__example animation__example-2"},c.a.createElement("img",{src:rt.a,alt:"animation example"})),c.a.createElement("div",{className:"animation__example animation__example-3"},c.a.createElement("img",{src:lt.a,alt:"animation example"})))),c.a.createElement("div",{className:"functionality"},c.a.createElement("ul",{className:"functionality__list"},c.a.createElement("li",{className:"functionality__header"},c.a.createElement("span",null,"TOOLS")),c.a.createElement("li",null,"Pen"),c.a.createElement("li",null,"Eraser"),c.a.createElement("li",null,"Full color bucket"),c.a.createElement("li",null,"Paint all pixels at the same color"),c.a.createElement("li",null,"Line"),c.a.createElement("li",null,"Ellipse (hold SHIFT to draw circle)"),c.a.createElement("li",null,"Rectangle"),c.a.createElement("li",null,"Filled rectangle"),c.a.createElement("li",null,"Lighten color"),c.a.createElement("li",null,"Darken color"),c.a.createElement("li",null,"Dithering"),c.a.createElement("li",null,"Vertical mirror pen (hold SHIFT to use horizontal mirror pen)"),c.a.createElement("li",null,"Color picker"),c.a.createElement("li",null,"Feather pen"),c.a.createElement("li",null,"Changing primary and secondary colors")),c.a.createElement("ul",{className:"functionality__list"},c.a.createElement("li",{className:"functionality__header"},c.a.createElement("span",null,"FRAME MANAGEMENT")),c.a.createElement("li",null,"Ability to add/delete a frame"),c.a.createElement("li",null,"Ability to reorder a frame via Drag and Drop"),c.a.createElement("li",null,"Ability to duplicate a frame"),c.a.createElement("li",{className:"functionality__header"},c.a.createElement("span",null,"KEYBOARD SHORTCUTS")),c.a.createElement("li",null,"All actions are available via keyboard shortcuts"),c.a.createElement("li",null,"Modal window to change keyboard shortcuts"),c.a.createElement("li",{className:"functionality__header"},c.a.createElement("span",null,"PREVIEW")),c.a.createElement("li",null,"Full screen mode"),c.a.createElement("li",{className:"functionality__header"},c.a.createElement("span",null,"EXPORT")),c.a.createElement("li",null,"Single frame as .png"),c.a.createElement("li",null,"One by one frames as .png"),c.a.createElement("li",null,"Result as .gif"),c.a.createElement("li",null,"Result as .apng"),c.a.createElement("li",{className:"functionality__header"},c.a.createElement("span",null,"SAVING")),c.a.createElement("li",null,"Saving user session in localstorage")))),c.a.createElement("footer",null,c.a.createElement("div",{className:"author__info"},"Developed by ",c.a.createElement("a",{href:"https://github.com/alexalizurchik"},"Aleksandrina Lizurchik"))))},ut=function(){return c.a.createElement(i.a,{basename:"/piskel-clone-site"},c.a.createElement(l.a,{path:"/",exact:!0,component:st}),c.a.createElement(l.a,{path:"/draw",exact:!0,component:et}))};r.a.render(c.a.createElement(ut,null),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.70e0764c.chunk.js.map